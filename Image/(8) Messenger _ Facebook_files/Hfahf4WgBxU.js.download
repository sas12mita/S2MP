if (self.CavalryLogger) { CavalryLogger.start_js(["6CLMF"]); }

__d("CometGamingVideoFollowButton_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGamingVideoFollowButton_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"does_viewer_follow",storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("CometGamingVideoMutationsFollowMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"does_viewer_follow",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometGamingVideoMutationsFollowMutation",selections:[{alias:null,args:b,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[e,{args:null,kind:"FragmentSpread",name:"CometGamingLeftRailStreamerItem_page"}],type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometGamingVideoMutationsFollowMutation",selections:[{alias:null,args:b,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[e,f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:null,args:null,concreteType:"Game",kind:"LinkedField",name:"attributed_game",plural:!1,selections:[d,f],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[c,d],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:60,width:60)"},{alias:null,args:null,kind:"ScalarField",name:"streamer_hub_uri",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"GamesPlayedConnection",kind:"LinkedField",name:"games_played",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesPlayedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Game",kind:"LinkedField",name:"node",plural:!1,selections:[f,d],storageKey:null}],storageKey:null}],storageKey:"games_played(first:1)"}],type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2873508256005856",metadata:{},name:"CometGamingVideoMutationsFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"LiveVideoSubscriptionStatusResponse",kind:"LinkedField",name:"live_video_set_subscription_status",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"does_viewer_follow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_video_subscription_status",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation",selections:b},params:{id:"2824292917635450",metadata:{},name:"CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometGamingVideoMutationsUnfollowMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"does_viewer_follow",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometGamingVideoMutationsUnfollowMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometGamingVideoMutationsUnfollowMutation",selections:b},params:{id:"2548778075244116",metadata:{},name:"CometGamingVideoMutationsUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useConfiguredMutation",["CometRelay","React"],(function(a,b,c,d,e,f){"use strict";var g=b("CometRelay").useMutation;c=b("React");var h=c.useCallback;function a(a,b){a=g(a);var c=a[0];a=a[1];var d=h(function(a){if(a==null)return c(b);else if(typeof a==="function")return c(babelHelpers["extends"]({},b,a(b)));else return c(babelHelpers["extends"]({},b,a))},[c,b]);return[d,a]}e.exports=a}),null);
__d("CometGamingVideoMutations",["CometRelay","React","recoverableViolation","useConfiguredMutation","CometGamingVideoMutationsFollowMutation.graphql","CometGamingVideoMutationsUnfollowMutation.graphql","CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("CometRelay").ConnectionHandler;b("CometRelay").graphql;f=b("React");var k=f.useMemo;function l(a){return function(c){b("recoverableViolation")("Mutation "+a+" failed","gaming_video",{error:c})}}var m=g!==void 0?g:g=b("CometGamingVideoMutationsFollowMutation.graphql"),n=h!==void 0?h:h=b("CometGamingVideoMutationsUnfollowMutation.graphql"),o=i!==void 0?i:i=b("CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation.graphql");function a(a,c,d){var e=k(function(){var b=function(b){var c=b.get(a);if(c==null)return;c=j.getConnection(c,"Gaming_followed_streamers");if(c==null)return;var d=b.getRootField("actor_subscribe");if(d==null)return;d=d.getLinkedRecord("subscribee");if(d==null)return;b=j.createEdge(b,c,d,"UserFollowedStreamersEdge");j.insertEdgeBefore(c,b)};return{onError:l("CometGamingVideoMutationsFollowMutation"),optimisticResponse:{actor_subscribe:{subscribee:{__typename:"Page",does_viewer_follow:!0,id:c}}},updater:b,variables:{input:{subscribe_location:d,subscribee_id:c}}}},[a,d,c]);return b("useConfiguredMutation")(m,e)}function c(a,c,d){var e=k(function(){var b=function(b){var c=b.get(a);if(c==null)return;c=j.getConnection(c,"Gaming_followed_streamers");if(c==null)return;b=b.getRootField("actor_unsubscribe");if(b==null)return;b=b.getLinkedRecord("unsubscribee");if(b==null)return;j.deleteNode(c,b.getDataID())};return{onError:l("CometGamingVideoMutationsUnfollowMutation"),optimisticResponse:{actor_unsubscribe:{unsubscribee:{__typename:"Page",does_viewer_follow:!1,id:c}}},updater:b,variables:{input:{subscribe_location:d,unsubscribee_id:c}}}},[a,d,c]);return b("useConfiguredMutation")(n,e)}function d(a,c,d,e){var f=k(function(){return{onError:l("CometGamingVideoMutationsLiveVideoSubscriptionStatusMutation"),optimisticResponse:{live_video_set_subscription_status:{actor:{__typename:"Page",does_viewer_follow:c||d==="ALL",id:a,live_video_subscription_status:d}}},variables:{input:{subscription_status:d,surface:e,target_actor_id:a}}}},[c,a,d,e]);return b("useConfiguredMutation")(o,f)}e.exports={useFollowMutation:a,useLiveVideoSubscriptionMutation:d,useUnfollowMutation:c}}),null);
__d("GamingDestinationTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:GamingDestinationLoggerConfig")}),null);
__d("GamingVideoDestinationLoggingContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c={externalEntrypoint:"unknown",surface:"unknown"};e.exports=a.createContext(c)}),null);
__d("useGamingVideoDestinationLoggingContext",["GamingVideoDestinationLoggingContext","React","useShallowEqualMemo"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext;function a(a){var c=g(b("GamingVideoDestinationLoggingContext")),d=c.externalEntrypoint;c=c.surface;return b("useShallowEqualMemo")(babelHelpers["extends"]({external_entrypoint:d,surface:c},a))}e.exports=a}),null);
__d("CometGamingVideoFollowButton.react",["ix","fbt","Actor","CometGamingVideoMutations","CometRelay","GamingDestinationTypedLoggerLite","React","TetraButton.react","fbicon","recoverableViolation","useGamingVideoDestinationLoggingContext","CometGamingVideoFollowButton_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("Actor").useActor,k=b("CometGamingVideoMutations").useFollowMutation,l=b("CometGamingVideoMutations").useUnfollowMutation;b("CometRelay").graphql;var m=b("CometRelay").useFragment,n=b("GamingDestinationTypedLoggerLite").log,o=b("React"),p=i!==void 0?i:i=b("CometGamingVideoFollowButton_page.graphql");function a(a){var c=a.followLocation,d=a.logDestinationEvents;d=d===void 0?!0:d;var e=a.page;a=babelHelpers.objectWithoutPropertiesLoose(a,["followLocation","logDestinationEvents","page"]);e=m(p,e);var f=e.does_viewer_follow;e=e.id;f=!!f;if(e==null){b("recoverableViolation")("Cannot have null pageID for follow button","gaming_video");return null}return o.jsx(q,{buttonProps:a,followLocation:c,isFollowing:f,logDestinationEvents:d,pageID:e})}function q(a){var c=a.buttonProps,d=a.followLocation,e=a.isFollowing,f=a.logDestinationEvents;a=a.pageID;var i=j();i=i[0];var m=k(i,a,d),p=m[0];m=m[1];i=l(i,a,d);var q=i[0];d=i[1];var r=b("useGamingVideoDestinationLoggingContext")({page_id:a});i=function(a){e?q():p(),f&&n(babelHelpers["extends"]({},r,{event:e?"unfollow_streamer":"follow_streamer"})),c.onPress&&c.onPress(a)};return o.jsx(b("TetraButton.react"),babelHelpers["extends"]({disabled:m||d,icon:e?b("fbicon")._(g("602176"),16):b("fbicon")._(g("618352"),16),label:e?h._("Following"):h._("Follow"),type:e?"secondary":"primary"},c,{onPress:i}))}e.exports=a}),null);