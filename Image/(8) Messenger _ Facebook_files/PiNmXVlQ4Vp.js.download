if (self.CavalryLogger) { CavalryLogger.start_js(["gm3wc"]); }

__d("EventsRelayWatchButtonV2_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventsRelayWatchButtonV2_event",selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"EventsRelayWatchStatusSelectorV2_event"}],type:"Event",abstractKey:null};e.exports=a}),null);
__d("EventsRelayWatchStatusSelectorV2_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventsRelayWatchStatusSelectorV2_event",selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"hasChildEvents",args:null,kind:"ScalarField",name:"has_child_events",storageKey:null}],type:"Event",abstractKey:null};e.exports=a}),null);
__d("EventInfoBarRendererQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"eventID"}],b=[{kind:"Variable",name:"id",variableName:"eventID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EventInfoBarRendererQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"EventInfoBar_event"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EventInfoBarRendererQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"hasChildEvents",args:null,kind:"ScalarField",name:"has_child_events",storageKey:null},c,d,{alias:"date",args:null,kind:"ScalarField",name:"day_time_sentence",storageKey:null},{alias:"place",args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:"image(height:100,width:100)"},c],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3010243498997982",metadata:{},name:"EventInfoBarRendererQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EventInfoBar_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventInfoBar_event",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a,{alias:"date",args:null,kind:"ScalarField",name:"day_time_sentence",storageKey:null},{alias:"place",args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:"image(height:100,width:100)"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"EventsRelayWatchButtonV2_event"}],type:"Event",abstractKey:null}}();e.exports=a}),null);
__d("VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={alias:"profilePicture",args:[{kind:"Literal",name:"height",value:56},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:56,width:56)"},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,d],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e,c,d,f],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:"1737325546388041",metadata:{},name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentLiveAudioAnimationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={kind:"InlineFragment",selections:[{alias:"isLiveAudioFormat",args:null,kind:"ScalarField",name:"is_live_audio_format",storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentLiveAudioAnimationQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentLiveAudioAnimationQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"1817039808346683",metadata:{},name:"VideoComponentLiveAudioAnimationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBStoriesInteractiveLoggingHelper",["MarauderLogger"],(function(a,b,c,d,e,f){"use strict";var g="direct_actions";a={logOpenStoryMediaPermalink:function(a){b("MarauderLogger").log("open_story_media_permalink",g,a)},logStoryInteractiveItemClick:function(a){b("MarauderLogger").log("story_interactive_item_click",g,babelHelpers["extends"]({},a,{action_detail:"click"}))},logStoryInteractiveItemRender:function(a){b("MarauderLogger").log("story_interactive_item_rendering",g,babelHelpers["extends"]({},a))}};e.exports=a}),null);
__d("CameraPostAppAttribution.react",["cx","FBStoriesInteractiveLoggingHelper","Image.react","Link.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){if(c.entity&&c.entity.url!==void 0&&c.entity.url!==null)return h.jsx(b("Link.react"),{href:c.entity,onClick:function(){return d.linkClicked(c.entity.url)},onMouseUp:function(a){return d.stopPropagation(a)},onMouseDown:function(a){return d.stopPropagation(a)},target:"_blank",children:a});if(c.entity&&c.entity.url===void 0)return h.jsx(b("Link.react"),{href:c.entity,onClick:function(){return d.linkClicked(c.entity)},onMouseUp:function(a){return d.stopPropagation(a)},onMouseDown:function(a){return d.stopPropagation(a)},target:"_blank",children:a});return c.entity_with_image?h.jsx(b("Image.react"),{className:"_4qqb",src:c.entity_with_image.image.uri,width:c.entity_with_image.image.width/c.entity_with_image.image.scale,height:c.entity_with_image.image.height/c.entity_with_image.image.scale}):a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.linkClicked=function(a){b("FBStoriesInteractiveLoggingHelper").logOpenStoryMediaPermalink({action_detail:"story_link_attribution_click",link_url:a,thread_id:this.props.currentThreadID})};d.stopPropagation=function(a){this.props.stopPropagationOnClick&&a.stopPropagation()};d.render=function(){return h.jsx(b("TextWithEntities.react"),{className:"_4qqc",imageRanges:this.props.postStoryAttribution.image_ranges,interpolator:this.$1,ranges:this.props.postStoryAttribution.ranges,text:this.props.postStoryAttribution.text})};return c}(h.Component);e.exports=a}),null);
__d("CameraEventGroupPostOwnerInfo.react",["cx","fbt","CameraPostAppAttribution.react","ProfileLink.react","React","Timestamp.react","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){var c=a.bucketOwnerName,d=a.threadOwnerName,e=a.time,f=a.bucketOwnerId,g=a.threadOwnerId,j=a.threadID,k=a.originalPostStoryAttribution,l=i.jsx(b("Timestamp.react"),{autoUpdate:!0,time:e,text:b("formatDate")(e,"M j, Y",{utc:!0})}),m=h._("by {story_poster}",[h._param("story_poster",d)]);m=g?i.jsx(b("ProfileLink.react"),{className:"_o-l",uid:g,target:"_blank",children:m}):m;a=function(){return k?i.jsxs("div",{className:"_v5o",children:[l," \u2022 ",m,"\xa0\u2022\xa0",i.jsx(b("CameraPostAppAttribution.react"),{currentThreadID:j,postStoryAttribution:k})]}):i.jsxs("div",{className:"_v5o",children:[l," \u2022 ",m]})};return i.jsxs("div",{className:"_60x1",children:[i.jsx("div",{children:i.jsx(b("ProfileLink.react"),{uid:f,target:"_blank",className:"_v5n",children:c})}),a()]})};e.exports=a}),null);
__d("CameraEventGroupPostOwnerPic.react",["cx","Image.react","ProfileLink.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c=a.bucketProfilePicture,d=a.threadProfilePicture,e=a.cameraPostType,f=a.bucketOwnerId;a=a.threadOwnerId;if(!d)return null;c=(c=c)!=null?c.uri:c;var g=null;c?g=h.jsx(b("Image.react"),{src:c,className:"_1___"}):g=h.jsx("div",{className:(e==="EVENT_STORY"?"_24ex":"")+(e==="GROUP_STORY"?" _64ag":"")+" _1___"});c=h.jsx(b("Image.react"),{src:d.uri,className:"_24ey"});return h.jsxs("span",{children:[h.jsx(b("ProfileLink.react"),{uid:f,target:"_blank",children:g}),a?h.jsx(b("ProfileLink.react"),{uid:a,target:"_blank",children:c}):c]})};e.exports=a}),null);
__d("CameraFileBugButton.react",["ix","fbt","AsyncDialog","AsyncRequest","Image.react","React","ReactMenu","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReactMenu").Item,k="/ajax/bugs/report",l="219500115583764";function a(){var a=function(){b("AsyncDialog").send(new(b("AsyncRequest"))().setData({product_category_id:l}).setURI(k))};return i.jsxs(j,{onClick:a,children:[i.jsx(b("Image.react"),{src:g("112874")}),h._("Something isn't working")]},"bug")}e.exports=a}),null);
__d("CameraPostDefaultBackground.react",["cx","ColorUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a,c,d;d=(d=this.props.data)!=null?(d=d.portrait_image)!=null?d.uri:d:d;c=(c=this.props.data)!=null?(c=c.gradient)!=null?c.css:c:c;a=(a=this.props.data)!=null?a.color:a;a=a?b("ColorUtils").hexARGBToCSSRGBA(a):"";this.$1&&(a&&(this.$1.style.backgroundColor=a),d?this.$1.style.backgroundImage="url('"+d+"')":c&&(this.$1.style.backgroundImage=c))};d.render=function(){var a=this;return h.jsx("div",{className:"_1ugq",ref:function(b){return a.$1=b}})};return c}(h.Component);e.exports=a}),null);
__d("CameraPostDeletedToast.react",["ix","cx","fbt","Image.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){a=a.visible;var c=j.jsx(b("Image.react"),{src:g("491198")});return!a?j.jsx("div",{style:{display:"none"},children:c}):j.jsxs("div",{className:"_618_",children:[j.jsx("div",{className:"_j71",children:c}),j.jsx(b("XUIText.react"),{className:"_4b4i",children:i._("Deleted")})]})};e.exports=a}),null);
__d("FBStoryTextWithEntitiesAndDelightsUtils",[],(function(a,b,c,d,e,f){"use strict";a={getMergedAndConvertTextWithEntitiesAndDelightsRanges:function(a,b){if(a&&a.length>0)var c=a.map(function(a){return{offset:a.offset,length:a.length,entity:{__typename:a.entity.__typename,url:a.entity.url}}});if(b&&b.length>0)var d=b.map(function(a){return{offset:a.offset,length:a.length,campaign:{id:a.campaign.id},entity:{__typename:"",url:""}}});return[].concat(c,d).filter(Boolean)}};e.exports=a}),null);
__d("FBStoriesTextWithEntities.react",["BaseTextWithEntities.react","FBStoryTextWithEntitiesAndDelightsUtils","Link.react","React","ShimButton.react","TextWithEmoticons.react","Tooltip.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){return a?a.filter(function(a){a=(a=a)!=null?(a=a.entity)!=null?a.__typename:a:a;return a!=="ExternalUrl"}):null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.trim();return g.jsx(b("TextWithEmoticons.react"),{isWhitespace:c.length===0,text:a,renderEmoticons:!0,renderEmoji:!0,size:d.props.size})},d.$2=function(a,c){var e;e=(e=c)!=null?(e=e.campaign)!=null?e.id:e:e;if(e&&d.props.delightRangesRenderer)return d.props.delightRangesRenderer&&d.props.delightRangesRenderer(a,c);else if(c.entity&&c.entity.url!==void 0&&c.entity.url!==null)return g.jsx(b("Link.react"),{onClick:d.props.onLinkClick,onMouseUp:function(a){return a.stopPropagation()},className:d.props.linkClassName,href:c.entity,target:"_blank",children:a});else if(c.entity&&c.entity.url===void 0)return g.jsx(b("Link.react"),{onMouseUp:function(a){return a.stopPropagation()},className:d.props.linkClassName,href:c.entity,target:"_blank",children:a});else if(c.all_entities&&d.props.openWithSidePanel){e=c.all_entities.edges.map(function(a){return g.jsx("div",{children:a.node.name},a.node.id)});return g.jsx(b("Tooltip.react"),{tooltip:g.jsx("div",{children:e}),children:g.jsx(b("ShimButton.react"),{className:d.props.linkClassName,form:"link",onClick:d.props.openWithSidePanel,onMouseUp:function(a){return a.stopPropagation()},children:a})})}else return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h(this.props.ranges);a=b("FBStoryTextWithEntitiesAndDelightsUtils").getMergedAndConvertTextWithEntitiesAndDelightsRanges(a,this.props.delightRanges);return g.jsx(b("BaseTextWithEntities.react"),{textRenderer:this.$1,rangeRenderer:this.$2,aggregatedRanges:this.props.aggregatedRanges,ranges:a,text:this.props.text})};return c}(g.Component);e.exports=a}),null);
__d("TextDelightInStoriesGating",["QE2Logger","TextDelightConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("TextDelightConfig").storyOptions;a={isEnabled:function(){return g.enabled},isEnabledAndLogExposure:function(){b("QE2Logger").logExposureForUser(g.universe);return this.isEnabled()}};e.exports=a}),null);
__d("CameraPostDelightedTextWithEntitiesComponent.react",["cx","FBStoriesTextWithEntities.react","React","TextDelightInStoriesGating","TextDelightRange.react","TextWithEmoticons.react","getSquiggleImgURL","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a,c,d){return h.jsx(b("TextDelightRange.react"),{campaignID:c,delightStyles:[{style:"background-image",value:"url("+d+")"}],surface:"story",children:a})}function j(a,b){return function(c,d,e){var f=0;for(var g=0;g<a.length;g++){var h=a[g];if(h.offset<f)continue;e(c.substr(f,h.offset-f));d(i(c.substr(h.offset,h.length),h.campaign.id,b));f=h.offset+h.length}f<c.length&&e(c.substr(f))}}var k=b("memoizeWithArgs")(function(a,c,d){var e=new Map();if(a&&a.length>0)for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=b("getSquiggleImgURL")(c,d),k={campaign:{id:h.campaign.id},length:h.length,offset:0};k=j([k],i);e.set(h.offset,[k])}return e},function(a,b,c){return JSON.stringify(a)+(b+"."+c.toString())});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new Map(),d.$2=function(a,c){var e=a.trim();return h.jsx("span",{className:"_6st5",children:h.jsx(b("TextWithEmoticons.react"),{isWhitespace:e.length===0,text:a,renderEmoticons:!0,renderEmoji:!0,size:d.props.size,decorators:d.$1.get(c.offset)})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.text!==this.props.text||a.size!==this.props.size};d.render=function(){b("TextDelightInStoriesGating").isEnabled()&&this.props.delightRanges&&(this.$1=k(this.props.delightRanges,this.props.textColor||"",this.props.isSatp));return h.jsx(b("FBStoriesTextWithEntities.react"),{delightRanges:this.props.delightRanges,delightRangesRenderer:this.$2,linkClassName:"_76_l",onLinkClick:this.props.onLinkClick,ranges:this.props.messageRanges,size:this.props.size,text:this.props.text})};return c}(h.Component);a.defaultProps={size:16,textColor:"rgba(255,255,255)",delightRanges:[],messageRanges:[]};e.exports=a}),null);
__d("FBStoryMetadataUtils",[],(function(a,b,c,d,e,f){"use strict";a={isMetadataOnly:function(a,b,c,d,e,f){return!e&&!d&&!(f&&f.url)&&this.hasMetadata(a,b,c)},hasMetadata:function(a,b,c){return this.locationExists(a)||this.minutiaeExists(b)||this.withTagsExists(c)},minutiaeExists:function(a){return!!(a&&a.edges&&a.edges.length>0)},withTagsExists:function(a){return!!(a&&a.edges&&a.edges.length>0)},locationExists:function(a){return!!(a&&a.contextual_name)},getStoryFooterMetadataType:function(a,b,c,d){c=this.minutiaeExists(c);d=this.withTagsExists(d);b=this.locationExists(b);if(a&&(d&&b||b&&c||d&&c))return"complex_social_sentence";if(b)return"location_only";if(d)return"tagging_only";return c?"minutiae_only":"none"}};e.exports=a}),null);
__d("FBStoriesActivityIcon.react",["ix","cx","FBStoryMetadataUtils","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("FBStoryMetadataUtils").minutiaeExists(this.props.storyMetadata.inlineActivities),c=b("FBStoryMetadataUtils").locationExists(this.props.storyMetadata.explicitLocation),d=b("FBStoryMetadataUtils").withTagsExists(this.props.storyMetadata.withTags);if(a){a=(a=this.props.storyMetadata)!=null?(a=a.inlineActivities)!=null?a.edges:a:a;a=a&&a.length>0?a[0]:null;a=(a=a)!=null?(a=a.node)!=null?(a=a.taggable_activity_icon)!=null?a.small_image:a:a:a;return a?i.jsx(b("Image.react"),{className:"_6mw8",src:a}):null}else if(c)return i.jsx(b("Image.react"),{className:"_6mw8",src:g("492195")});else if(d)return i.jsx(b("Image.react"),{className:"_6mw8",src:g("492156")});return null};return c}(i.Component);e.exports=a}),null);
__d("FBStoriesActivityDescription.react",["cx","FBStoriesActivityIcon.react","FBStoriesTextWithEntities.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d;d=(d=this.props.storyMetadata)!=null?d.activityDescription:d;c=(c=d)!=null?c.text:c;a=(a=d)!=null?a.aggregated_ranges:a;return!c?null:h.jsxs("div",{className:b("joinClasses")("_1b6l",this.props.className),children:[this.props.displayIcon?h.jsx(b("FBStoriesActivityIcon.react"),{storyMetadata:this.props.storyMetadata}):null,h.jsx(b("FBStoriesTextWithEntities.react"),{aggregatedRanges:a,linkClassName:"_1b6i",onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel,ranges:(a=d)!=null?a.ranges:a,text:c})]})};return c}(h.Component);a.defaultProps={displayIcon:!0};e.exports=a}),null);
__d("FBStoriesMetadataRenderer.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onLinkClick(a),c.$5("location")},c.$2=function(a){c.props.onLinkClick(a),c.$5("tagged_people")},c.$4=function(a){c.props.onLinkClick(a),c.$5("multiple_items")},c.$3=function(a){c.props.onLinkClick(a),c.$5("activity")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.storyMetadata,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags),d=null;switch(c){case"location_only":d=this.$1;break;case"tagging_only":d=this.$2;break;case"minutiae_only":d=this.$3;break;case"complex_social_sentence":d=this.$4;break}return d?h.jsx("div",{className:"_72rc",children:h.jsx(b("FBStoriesActivityDescription.react"),{onLinkClick:d,storyMetadata:a,openWithSidePanel:this.props.openWithSidePanel,className:this.props.activityDescriptionClassName})}):null};d.$5=function(a){this.props.storyMetadata&&this.props.storyMetadata.threadID&&b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:a,thread_id:this.props.storyMetadata.threadID})};return c}(h.Component);e.exports=a}),null);
__d("FBStoriesFooterMetadataRenderer.react",["cx","FBStoriesMetadataRenderer.react","FBStoryMetadataUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.currentThreadData;if(a&&!a.isLive){var c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags);if(c==="none")return null;if(a.isPlainText||a.wwwTextFormatMetadata!==null)return null;var d=b("FBStoryMetadataUtils").isMetadataOnly(a.explicitLocation,a.inlineActivities,a.withTags,a.messageText,a.media,a.linkAttachment);return d&&c!=="complex_social_sentence"?null:h.jsx(b("FBStoriesMetadataRenderer.react"),{storyMetadata:a,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,activityDescriptionClassName:"_3frn"})}return null};return c}(h.Component);e.exports=a}),null);
__d("CameraPostLongTextComponent.react",["ix","cx","fbt","FBStoriesFooterMetadataRenderer.react","FBStoriesInteractiveLoggingHelper","FBStoriesMetadataRenderer.react","Image.react","LineClamp.react","React","asset","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,c.$3=null,c.state={noOverflow:!1,isExpand:!1},c.$5=function(a){c.props.expandHandler(a),c.$8("read_more"),c.setState({isExpand:!0})},c.$7=function(a){c.$2&&(c.$2.scrollTop=0),c.$8("read_less"),c.props.truncateHandler(a),c.setState({isExpand:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$3=b("requestAnimationFrame")(function(){var b=a.props,c=b.lines;b=b.lineHeight;var d=a.$1&&a.$1.scrollHeight||0;a.setState({noOverflow:d<=c*b});d>c*b&&(a.props.onTextOverflow&&a.props.onTextOverflow())});b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemRender({thread_id:this.props.storyMetadata.threadID,item_type:this.props.mediaCaption?"caption":"text"})};d.$4=function(){var a={verticalAlign:"text-top",marginLeft:"8px"};a=this.props.mediaCaption?null:j.jsx(b("Image.react"),{src:g("533912"),style:a,onClick:this.$5});return j.jsxs("a",{href:"#",onClick:this.$5,className:this.props.buttonClassName,children:[i._("See more"),a]})};d.$6=function(){var a={verticalAlign:"text-top",marginLeft:"8px"};a=this.props.mediaCaption?null:j.jsx(b("Image.react"),{src:g("661795"),style:a,onClick:this.$7});return j.jsxs("a",{href:"#",onClick:this.$7,className:this.props.buttonClassName,children:[i._("See less"),a]})};d.$8=function(a){b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({thread_id:this.props.storyMetadata.threadID,item_type:this.props.mediaCaption?"caption":"text",button_type:a})};d.render=function(){var a=this,c=this.state.isExpand||this.state.noOverflow;return j.jsx(j.Fragment,{children:j.jsx("div",{className:b("joinClasses")(this.props.rootClassName,this.state.isExpand?this.props.expandedRootClassName:null),children:j.jsx("div",{className:this.props.boxClassName,children:j.jsxs("div",{ref:function(b){return a.$2=b},className:this.props.textClassName,children:[j.jsxs("div",{className:"_6r8c",onClick:c?null:this.$5,children:[j.jsx(b("LineClamp.react"),{lines:this.props.lines,lineHeight:this.props.lineHeight,fitHeightToShorterText:!0,className:(this.state.isExpand!==!0?"_6r8d":"")+(this.state.isExpand===!0?" _6r8e":""),children:j.jsx("div",{className:"_6ria",children:this.props.children})}),c?null:this.$4()]}),j.jsx("div",{className:(this.state.isExpand!==!0?"_6r8f":"")+(this.state.isExpand===!0?" _6r8g":""),ref:function(b){return a.$1=b},children:this.props.children}),this.state.isExpand?this.$6():null,this.props.mediaCaption&&this.props.currentThreadData?j.jsx(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):j.jsx(b("FBStoriesMetadataRenderer.react"),{storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,activityDescriptionClassName:this.props.activityDescriptionClassName})]})})})})};d.componentWillUnmount=function(){b("cancelAnimationFrame")(this.$3)};return c}(j.Component);e.exports=a}),null);
__d("BlurredBackgroundImage.react",["cx","BackgroundImage.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(b("UserAgent").isBrowser("IE")&&this.props.fallbackSrc)return h.jsx(b("BackgroundImage.react"),{src:this.props.fallbackSrc,optimizeResizeSpeed:!0,backgroundSize:"cover",width:this.props.width,height:this.props.height,backgroundFocus:"50% 50%",loadingIndicatorStyle:"none",className:"_4kpl fallback"});return this.props.src?h.jsx(b("BackgroundImage.react"),{src:this.props.src,optimizeResizeSpeed:!0,backgroundSize:"cover",width:this.props.width,height:this.props.height,backgroundFocus:"50% 50%",loadingIndicatorStyle:"none",className:"_4kpl"}):null};return c}(h.Component);e.exports=a}),null);
__d("CameraPostMediaGradientBackground.react",["cx","ColorUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c;c=(c=this.props.data)!=null?c.top_color:c;a=(a=this.props.data)!=null?a.bottom_color:a;if(c&&a){c=b("ColorUtils").hexRGBAToCSSRGBA(c);a=b("ColorUtils").hexRGBAToCSSRGBA(a);if(c&&a){c="linear-gradient("+c+","+a+")";return h.jsx("div",{className:"_1ugq",style:{background:c}})}}return null};return c}(h.Component);e.exports=a}),null);
__d("FBStoryMinutiaeImageRenderer.react",["cx","FBStoryMetadataUtils","Image.react","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c,d=a.inlineActivities,e=a.largeProfilePhoto;if(!b("FBStoryMetadataUtils").minutiaeExists(d))return null;c=(c=d)!=null?(c=c.edges)!=null?(c=c[0])!=null?(c=c.node)!=null?(c=c.taggable_activity_icon)!=null?(c=c.image)!=null?c.uri:c:c:c:c:c:c;if(e){var f;f=(f=d)!=null?(f=f.edges)!=null?(f=f[0])!=null?(f=f.node)!=null?(f=f.attachment_object)!=null?(f=f.profile_photo)!=null?(f=f.large_image)!=null?f.uri:f:f:f:f:f:f:f}else{var g;f=(g=d)!=null?(g=g.edges)!=null?(g=g[0])!=null?(g=g.node)!=null?(g=g.attachment_object)!=null?(g=g.profile_photo)!=null?(g=g.image)!=null?g.uri:g:g:g:g:g:g:g}d=(g=d)!=null?(g=g.edges)!=null?(g=g[0])!=null?(g=g.node)!=null?(g=g.attachment_object)!=null?g.url:g:g:g:g:g;g=null;f?g=f:c&&(g=c);if(!g)return null;c=h.jsx(b("Image.react"),{className:"_2pzb"+(f?" _2pzj":""),height:e&&f?288:56,src:g,width:e&&f?288:56});d&&(c=h.jsx(b("Link.react"),{href:d,target:"_blank",onClick:a.onLinkClick,onMouseUp:function(a){return a.stopPropagation()},children:c}));return c}e.exports=a}),null);
__d("CameraPostMinutiaeComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","FBStoryMinutiaeImageRenderer.react","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"activity",thread_id:d.props.threadID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);a=(a=this.props.storyMetadata.inlineActivities)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.attachment_object)!=null?(a=a.profile_photo)!=null?(a=a.large_image)!=null?a.uri:a:a:a:a:a:a:a;if(c==="minutiae_only")return h.jsx(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,displayIcon:!!a,className:"_3bkz _13da _13dc"});c=this.props.storyMetadata.inlineActivities&&this.props.storyMetadata.inlineActivities.edges&&this.props.storyMetadata.inlineActivities.edges.length>0?this.props.storyMetadata.inlineActivities.edges[0]:null;a=((a=c)!=null?(a=a.node)!=null?(a=a.attachment_object)!=null?a.name:a:a:a)||((a=c)!=null?(a=a.node)!=null?(a=a.object)!=null?a.name:a:a:a);c=(c=c)!=null?(c=c.node)!=null?(c=c.attachment_object)!=null?c.url:c:c:c;if(a){a=h.jsx("div",{className:"_3bkz _13da _13dc",children:a});c&&(a=h.jsx(b("Link.react"),{className:"_1b6i",href:c,target:"_blank",onClick:this.$2,children:a}));return a}return null};d.render=function(){return h.jsx("div",{className:"_32v7",children:h.jsxs("div",{className:"_32v8",children:[h.jsx(b("FBStoryMinutiaeImageRenderer.react"),{inlineActivities:this.props.storyMetadata.inlineActivities,largeProfilePhoto:!0,onLinkClick:this.$2}),this.$1()]})})};return c}(h.Component);e.exports=a}),null);
__d("CameraPostMuteButton.react",["ix","cx","AbstractButton.react","Event","Image.react","Keys","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault(),a.stopPropagation(),d.props.onMouseUp()},d.$3=function(a){a=b("Event").getKeyCode(a);switch(a){case b("Keys").SPACE:case b("Keys").RETURN:d.props.onMouseUp()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){a.preventDefault(),a.stopPropagation()};d.render=function(){var a=g("115742"),c=g("115739");return i.jsx(b("AbstractButton.react"),{className:"_tqj",tabIndex:"0",onKeyUp:this.$3,onMouseDown:this.$1,onMouseUp:this.$2,image:i.jsx(b("Image.react"),{src:this.props.muted?a:c}),labelIsHidden:!0,label:this.props.muted?"Muted":"Unmuted"})};return c}(i.Component);e.exports=a}),null);
__d("CameraPostSATPBackground.react",["cx","Keyframes.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$2=function(){var a,c;c=String((c=this.props.satpData)!=null?(c=c.textFormatMetadata)!=null?(c=c.portrait_keyframes_animation)!=null?c.animation_uri:c:c:c);if(c==null||!b("gkx")("678252"))return null;a=String((a=this.props.satpData)!=null?(a=a.textFormatMetadata)!=null?(a=a.portrait_keyframes_animation)!=null?a.id:a:a:a);return h.jsx(b("Keyframes.react"),{className:"_1ugq",projectName:"awesome_text_stories",assetID:a,source:c,height:this.props.height},"keyframes")};d.componentDidMount=function(){var a,b;b=(b=this.props.satpData)!=null?(b=b.textFormatMetadata)!=null?(b=b.portrait_background_image)!=null?b.uri:b:b:b;a=(a=this.props.satpData)!=null?(a=a.wwwTextFormatMetadata)!=null?a.body_style:a:a;this.$1&&(b?this.$1.style.backgroundImage="url('"+b+"')":this.$1.setAttribute("style",a||""))};d.render=function(){var a=this;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"_1ugq",ref:function(b){return a.$1=b}}),this.$2()]})};return c}(h.Component);e.exports=a}),null);
__d("CameraPostTextSATPLinkComponent.react",["ix","cssVar","cx","BackgroundImage.react","CameraPostDelightedTextWithEntitiesComponent.react","CameraPostLongTextComponent.react","ColorUtils","FBStoryMetadataUtils","Image.react","React","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","XUISpinner.react","asset","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=24,l=80,m=1/1.91,n=600,o=315;function p(a,c,d){if(a){d=(a=d)!=null?a.caption_font_color:a;if(d){a=b("ColorUtils").hexRGBAToCSSRGBA(d);if(a)return a}}else{a=(d=c)!=null?(d=d.wwwTextFormatMetadata)!=null?d.text_input_style:d:d;if(a!==null&&a!==void 0){c=a.match(/color:([^;]+);/);if(c)return c[1]}}return"#000000"}function q(a){return((a=a)!=null?(a=a.textFormatMetadata)!=null?(a=a.inspirations_custom_font_object)!=null?a.font_url:a:a:a)||""}function r(a){return((a=a)!=null?(a=a.textFormatMetadata)!=null?(a=a.inspirations_custom_font_object)!=null?a.font_postscript_name:a:a:a)||""}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2||(c.props.onFirstMediaLoaded(),c.$2=!0)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=q(this.props.satpData),d=r(this.props.satpData);if(this.props.isSATP&&q&&r&&this.$1){var e=typeof document.fonts==="object"&&typeof FontFace==="function";if(c&&d&&e){e=new FontFace(d,"url("+c+")");b("promiseDone")(e.load(),function(b){window.document.fonts.add(b);b=d+", Helvetica, Arial, sans-serif";a.$1&&(a.$1.style.fontFamily=b,a.$1.style.visibility="visible")},function(b){a.$1&&(a.$1.style.visibility="visible")})}else this.$1.style.visibility="visible"}};d.render=function(){var a=this,c,d,e=this.props.messageText.length>l,f=p(this.props.isLink,this.props.satpData,this.props.mediaBackgroundInfo),h=q(this.props.satpData),i=r(this.props.satpData);d=(d=this.props.linkAttachment)!=null?(d=d.animated_media)!=null?d.id:d:d;c=(c=this.props.linkAttachment)!=null?(c=c.animated_media)!=null?(c=c.animated_image)!=null?c.uri:c:c:c;var s=d||c,t=this.props.storyMetadata;t=b("FBStoryMetadataUtils").getStoryFooterMetadataType(t.activityDescription,t.explicitLocation,t.inlineActivities,t.withTags);var u=null;if(t==="none")if(!this.props.paused&&d){var v;v=(v=this.props.linkAttachment)!=null?(v=v.animated_media)!=null?v.is_looping:v:v;u=j.jsx(b("VideoDataContainer.react"),{videoID:d,renderLoading:function(){return j.jsx(b("XUISpinner.react"),{background:"dark",className:"_2out",size:"large"})},children:j.jsxs(b("VideoPlayer.react"),{disableClickPlayPause:!0,autoplay:!0,width:this.props.videoPlayerWidth,height:this.props.videoPlayerWidth*m,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,subOrigin:"not_specified_please_fix",onUpdateMetadata:this.$3,children:[j.jsx(j.Fragment,{}),j.jsx(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:v})]})})}else{v=!this.props.paused&&c?c:(d=this.props.linkAttachment)!=null?(d=d.media)!=null?(d=d.image)!=null?d.uri:d:d:d;d=(c=this.props.linkAttachment)!=null?(c=c.media)!=null?(c=c.image)!=null?c.width:c:c:c;c=(c=this.props.linkAttachment)!=null?(c=c.media)!=null?(c=c.image)!=null?c.height:c:c:c;v&&(s||d&&d>=n&&c&&c>=o)&&(u=j.jsx(b("BackgroundImage.react"),{optimizeResizeSpeed:!0,backgroundSize:"contain",width:this.props.videoPlayerWidth,height:this.props.videoPlayerWidth*m,src:v,onImageLoad:this.$3}))}u||this.$3();!this.props.messageText&&t==="none"&&!u&&(u=j.jsx("span",{className:"_6ol6",children:j.jsx(b("Image.react"),{src:g("533522")})}));s=!this.props.isTextOverflow&&u?j.jsx("div",{className:"_69zt",children:u}):null;return j.jsxs("div",{className:"_73es"+(this.props.isSATP&&h&&i?" _6--4":"")+(this.props.isLink?" _69zq":""),ref:function(b){return a.$1=b},children:[this.props.messageText||t!=="none"?j.jsx(b("CameraPostLongTextComponent.react"),{lines:7,lineHeight:k,rootClassName:"_73et",boxClassName:"_73ew"+(e?" _67g-":""),textClassName:"_73ex",expandedRootClassName:"_73ey",buttonClassName:"_73e-",expandHandler:this.props.expandHandler,truncateHandler:this.props.truncateHandler,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,onTextOverflow:this.props.onTextOverflow,storyMetadata:this.props.storyMetadata,mediaCaption:!1,activityDescriptionClassName:(e?"":"_13dc")+" _3frn",children:j.jsx(b("CameraPostDelightedTextWithEntitiesComponent.react"),{delightRanges:this.props.delightRanges,isSatp:this.props.isSATP,messageRanges:this.props.messageRanges,onLinkClick:this.props.onLinkClick,text:this.props.messageText.trim(),textColor:this.props.isSATP?f:"#FFFFFF",size:k})}):null,s]})};return c}(j.PureComponent);e.exports=a}),null);
__d("CameraPostWithTagsComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","React","SplitImage.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"tagged_people",thread_id:d.props.threadID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);return a==="tagging_only"?h.jsx(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,className:"_3bkz _13da _13dc"}):null};d.render=function(){var a;a=(a=this.props)!=null?(a=a.storyMetadata)!=null?(a=a.withTags)!=null?a.edges:a:a:a;a=a?a.map(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.large_profile_picture)!=null?a.uri:a:a:a}).filter(Boolean):[];return h.jsx("div",{className:"_33ba",children:h.jsxs("div",{className:"_33bb",children:[h.jsx(b("SplitImage.react"),{className:"_2bmp",srcs:a,size:256,border:!0}),this.$1()]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("FBStoriesLocationComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","GeoCoordinates","GeoMarker","Link.react","React","StaticGeoMapDesktopWeb.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=13,j="288px",k="288px";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"location",thread_id:d.props.threadID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a,c,d;d=(d=this.props.storyMetadata)!=null?(d=d.explicitLocation)!=null?(d=d.location)!=null?d.latitude:d:d:d;c=(c=this.props.storyMetadata)!=null?(c=c.explicitLocation)!=null?(c=c.location)!=null?c.longitude:c:c:c;a=(a=this.props.storyMetadata)!=null?(a=a.explicitLocation)!=null?a.url:a:a;d=c&&d?h.jsx(b("StaticGeoMapDesktopWeb.react"),{width:j,height:k,markers:[new(b("GeoMarker"))(new(b("GeoCoordinates"))(d,c))],source:"fbstories_composer_checkin",center:new(b("GeoCoordinates"))(d,c),zoom:i}):null;d&&a&&(d=h.jsx(b("Link.react"),{href:a,target:"_blank",onClick:this.$2,className:"_14q2",children:d}));return d};d.$3=function(){var a,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);if(c==="location_only")return h.jsx(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,className:"_3bkz _13da _13dc"});c=(c=this.props.storyMetadata)!=null?(c=c.explicitLocation)!=null?c.url:c:c;a=(a=this.props.storyMetadata)!=null?(a=a.explicitLocation)!=null?a.contextual_name:a:a;if(a){a=h.jsx("div",{className:"_3bkz _13da _13dc",children:a});c&&(a=h.jsx(b("Link.react"),{className:"_1b6i",href:c,target:"_blank",onClick:this.$2,children:a}));return a}return null};d.render=function(){return h.jsx("div",{className:"_3bkw",children:h.jsxs("div",{className:"_3bky",children:[this.$1(),this.$3(),h.jsx("div",{className:"_3bkz _13dc"})]})})};return c}(h.Component);e.exports=a}),null);
__d("FBStoriesTimer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=0,h=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$FBStoriesTimer10=function(){if(c.$FBStoriesTimer8){c.$FBStoriesTimer1=c.$FBStoriesTimer8.getPlaybackDuration()*h;var a=c.$FBStoriesTimer8.getCurrentTimePosition();c.$FBStoriesTimer5=a*h;c.$FBStoriesTimer9&&(c.$FBStoriesTimer5%=c.$FBStoriesTimer1)}else{a=Date.now();var b=a-c.$FBStoriesTimer6;c.$FBStoriesTimer6=a;c.$FBStoriesTimer5+=b}a=c.$FBStoriesTimer2+(c.$FBStoriesTimer3-c.$FBStoriesTimer2)*(c.$FBStoriesTimer5/c.$FBStoriesTimer1);b=Math.min(c.$FBStoriesTimer3,a);c.emit("tick",b);if(b===c.$FBStoriesTimer3)c.emit("done"),c.$FBStoriesTimer7&&clearTimeout(c.$FBStoriesTimer7);else{a=c.$FBStoriesTimer1-c.$FBStoriesTimer5;b=Math.min(a,g);c.$FBStoriesTimer7=setTimeout(c.$FBStoriesTimer10,b)}};var d=b.duration,e=b.vpc,f=b.start,i=b.end;b=b.loop;c.$FBStoriesTimer1=d;c.$FBStoriesTimer2=f===void 0?0:f;c.$FBStoriesTimer3=i===void 0?100:i;c.$FBStoriesTimer8=e;c.$FBStoriesTimer9=!!b;c.$FBStoriesTimer6=0;c.$FBStoriesTimer4=!1;c.$FBStoriesTimer5=0;return c}var c=b.prototype;c.getTimeElapsed=function(){return this.$FBStoriesTimer5};c.setTimeElapsed=function(a){this.$FBStoriesTimer5=a};c.onDone=function(a){return this.addListener("done",a)};c.onTick=function(a){return this.addListener("tick",function(b){return a(b)})};c.pause=function(){clearTimeout(this.$FBStoriesTimer7)};c.play=function(){this.$FBStoriesTimer6=Date.now(),this.$FBStoriesTimer10()};c.stop=function(){this.$FBStoriesTimer6=0,clearTimeout(this.$FBStoriesTimer7)};return b}(b("EventEmitter"));e.exports=a}),null);
__d("FBStoryImageWarningScreen.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_6wm1",children:this.props.children})};return b}(h.Component);e.exports=a}),null);
__d("StoriesViewerSphericalPhoto.react",["cx","BootloadedComponent.react","JSResource","React","SphericalMediaConstants","SphericalPhotoUtils","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("SphericalMediaConstants").LOGGER_SURFACES,j=b("SphericalPhotoUtils").calculatePartialLimits,k=b("SphericalPhotoUtils").getMetadataFromGraphQLResult,l=b("SphericalPhotoUtils").parseNumber;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onImageLoad()};d.render=function(){var a=this.props.photoEncodings.find(function(a){a=a.projection_type;return a==="cubestrip"||a==="tiled_cubemap"}),c=this.props.photoEncodings.find(function(a){a=a.projection_type;return a==="tiled_cubemap"}),d=k(a?a.spherical_metadata:{});a=a?a.cdn_uri:"";var e={fov:l(d.InitialViewVerticalFOVDegrees),pitch:l(d.InitialViewPitchDegrees),yaw:l(d.InitialViewRollDegrees)},f=j(d);c={useTiledRenderer:c?c.tiles.length!==0:!1,initialTileUris:c?c.tiles:[],viewportTileUris:[],maxTileLevel:c?c.max_tile_level:0};var g=h.jsx(b("XUISpinner.react"),{size:"large"});return h.jsx("div",{className:"_24cp",children:h.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewer.react").__setRef("StoriesViewerSphericalPhoto.react"),bootloadPlaceholder:g,canvasNamespace:"Stories",cubeImageURI:a,enableGyro:!0,enableRubberBanding:!0,enableZoom:!0,enableTagging:!1,height:this.props.height,initialView:e,partialLimits:f,photoID:this.props.photoID,photoSphereMetadata:d,surface:i.stories,thumbnail:this.props.thumbnail,tiledSphericalConfig:c,width:this.props.width})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoComponentCommercialBreakLiveTransitionOverlay.react",["cx","Image.react","React","RelayModern","VideoCommercialBreakTransitionOverlay","VideoComponent","VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");b("RelayModern").graphql;var j=56;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.$1||(this.$1=a),this.props.video&&(this.$2=new(b("VideoCommercialBreakTransitionOverlay"))({root:this.refs.root,body:this.refs.body,ownerName:null,ownerPictureUri:null,interactiveAlertAdStartedConfig:null}),this.$2.enable(a))};d.componentDidUpdate=function(a,b){this.$1&&this.enable(this.$1)};d.disable=function(){this.$2=null,this.$1=null};d.render=function(){if(!this.props.video)return null;var a=this.props.video.owner;return i.jsx("div",{ref:"root",className:"_2s3i _4fii _167h _4ubd _2lwf",children:i.jsxs("div",{className:"_3y74",children:[i.jsx(b("Image.react"),{src:a.profilePicture.uri,width:j,className:"_2s3l"}),i.jsx("div",{className:"_2s3m",children:a.name}),i.jsx("div",{ref:"body"})]})})};return c}(i.Component);e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql")})}),null);
__d("VideoComponentLiveAudioAnimation.react",["cx","fbt","LiveAudioAnimation","LiveAudioAnimationExperiments","React","ReactDOM","RelayModern","VideoComponent","VideoComponentLiveAudioAnimationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={visible:!1};b.initialized=!1;return b}var d=c.prototype;d.disable=function(){};d.UNSAFE_componentWillReceiveProps=function(a){a&&a.video&&a.video!==this.props.video&&(a.video.isLiveAudioFormat?(!this.initialized&&b("LiveAudioAnimationExperiments").liveWwwAudioAnimation&&(new(b("LiveAudioAnimation"))(b("ReactDOM").findDOMNode(this.refs.container),this.vpc),this.initialized=!0),this.setState({visible:!0})):this.setState({visible:!1}))};d.enable=function(a){this.vpc=a};d.render=function(){var a=null;b("LiveAudioAnimationExperiments").liveWwwAudioAnimation||(a=j.jsx("div",{className:"_1tzn",children:h._("Audio broadcast")}));return j.jsx("div",{ref:"container",className:"_4tes _4ubd"+(this.state.visible?"":" hidden_elem"),children:a})};return c}(j.Component);e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:i!==void 0?i:i=b("VideoComponentLiveAudioAnimationQuery.graphql")})}),null);
__d("CameraPostMedia.react",["cx","BackgroundImage.react","BlurredBackgroundImage.react","CameraPostDefaultBackground.react","CameraPostMediaGradientBackground.react","CameraPostMediaHelper","CameraPostMinutiaeComponent.react","CameraPostMuteButton.react","CameraPostSATPBackground.react","CameraPostTextSATPLinkComponent.react","CameraPostWithTagsComponent.react","DelightsTextTriggerTypedLogger","EventListener","FBLogger","FBStoriesActions","FBStoriesLocationComponent.react","FBStoriesTimer","FBStoryImageWarningScreen.react","FBStoryMetadataUtils","React","ReactCSSTransitionGroup","ShimButton.react","StoriesViewerSphericalPhoto.react","SubscriptionsHandler","TextDelightInStoriesGating","VideoComponentAutoPlayControl.react","VideoComponentCommercialBreakLiveTransitionOverlay.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentLiveAudioAnimation.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentStreamingReactionTray.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithLiveBroadcast.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerReasonTransitionHelper","XUISpinner.react","createCancelableFunction","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"},j=6e3,k=1e3,l=200,m=12e3,n=200,o=200;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={height:0,width:0,showLoadingSpinner:!1},e.state={height:0,width:0,showLoadingSpinner:!1},e.$16=function(a){e.props.onTimeUpdate&&e.props.onTimeUpdate(a)},e.$10=function(){e.$17(j)},e.$20=function(){e.$5(),e.$21(e.props.cameraPostType)&&e.$10()},e.$22=function(){e.$5(),e.$21(e.props.cameraPostType)&&e.$18()},e.$5=b("createCancelableFunction")(function(){var a=e.props.isMediaSizeBasedOnContainer&&e.$3!=null?c.getMediaSizeBasedOnContainer(e.$3):c.getMediaSizeBasedOnWindow(),b=a.width;a=a.height;e.setState({height:a,width:b})}),e.$23=function(a){a||b("FBLogger")("FIXME").mustfix("onUpdateMetaData, VideoPlayerController is undefined.");if(a&&!e.$1){var c=a.getPlaybackDuration();e.$19(c,a)}e.props.isMediaMuted?a&&a.mute():a&&a.unmute();e.props.paused&&(a&&a.pause("user_initiated"),e.props.onVideoPaused&&e.props.onVideoPaused())},e.$26=function(){!e.props.disableAutoplay&&!e.props.paused&&e.$2.vpc.getState()!=="playing"&&e.$2.vpc.play(new(b("VideoPlayerReasonTransitionHelper"))("autoplay_initiated"))},e.$28=function(a){e.$3=a},d)||babelHelpers.assertThisInitialized(e)}c.getMediaSizeBasedOnContainer=function(a){return{width:a.offsetWidth,height:a.offsetHeight}};c.getMediaSizeBasedOnWindow=function(){var a=window.innerHeight,b,c;a<=700?(b=520,c=292):a>=1350?(b=1080,c=608):(b=a*.83625-48,c=b*(292/520));return{width:c,height:b}};var d=c.prototype;d.componentDidMount=function(){this.$5(),this.$6(),window.onresize=this.$5,(this.$7()||this.$8()||this.$9())&&this.$10()};d.componentWillUnmount=function(){this.$11(),this.$5.cancel(),this.$4&&this.$4.release()};d.UNSAFE_componentWillUpdate=function(a){a.paused!==this.props.paused&&(a.paused?(this.$1&&this.$1.pause(),this.$2&&this.$2.vpc.pause("user_initiated")):(this.$1&&this.$1.play(),this.$2&&this.$2.vpc.play("user_initiated")));a.isMediaMuted!==this.props.isMediaMuted&&(a.isMediaMuted?this.$2&&this.$2.vpc.mute():this.$2&&this.$2.vpc.unmute());this.props.showWarningScreen&&!a.showWarningScreen&&(this.$12()?this.$11():this.$1&&this.$1.setTimeElapsed(0));this.$4&&(a.threadID!==this.props.threadID||((a=a)!=null?(a=a.media)!=null?a.id:a:a)!==((a=this.props)!=null?(a=a.media)!=null?a.id:a:a))&&(this.$4.release(),this.$4=null)};d.$6=function(){this.props.delightRanges.length>0&&b("TextDelightInStoriesGating").isEnabledAndLogExposure()&&new(b("DelightsTextTriggerTypedLogger"))().setEvent("delights_text_trigger_story_viewed").log()};d.$13=function(){return b("CameraPostMediaHelper").isSphericalPhoto(this.props.media)};d.$14=function(){return b("CameraPostMediaHelper").isImage(this.props.media)};d.$12=function(){return b("CameraPostMediaHelper").isVideo(this.props.media)};d.$7=function(){return this.props.satpData.wwwTextFormatMetadata!==null};d.$8=function(){return this.props.isPlainText&&this.props.messageText&&!this.$15()};d.$15=function(){return(this.props.linkAttachment&&this.props.linkAttachment.url)!=null};d.$9=function(){return b("FBStoryMetadataUtils").isMetadataOnly(this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags,this.props.messageText,this.props.media,this.props.linkAttachment)};d.$11=function(){this.$1&&(this.$1.stop(),delete this.$1)};d.$17=function(a,c){this.props.onDone&&this.props.onTimeUpdate&&(this.$11(),this.$1=new(b("FBStoriesTimer"))({duration:a,vpc:c,loop:this.props.loopTimer}),this.$1.onTick(this.$16),this.props.onDone&&this.$1.onDone(this.props.onDone),this.props.paused||this.$1.play())};d.$18=function(){this.$17(m)};d.$19=function(a,b){this.$17(a*k,b)};d.$24=function(a){switch(a){case"DIRECT":case"DIRECT_NUX":case"GROUP_DIRECT":return"direct_inbox";case"STORY":case"STORY_NUX":case"EVENT_STORY":case"GROUP_STORY":case"PAGE_STORY":case"BIRTHDAY_STORY":return"fb_stories";default:b("FBLogger")("FIXME").mustfix("invalid Camera Post Type "+a);return"backstage"}};d.$21=function(a){switch(a){case"STORY":case"STORY_NUX":case"EVENT_STORY":case"GROUP_STORY":case"PAGE_STORY":case"BIRTHDAY_STORY":return!0;default:return!1}};d.$25=function(a){var c=this;if(this.$4||!a)return;var d=a.vpc;this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(d.addListener("commercialBreak/hideUFI",function(){return b("FBStoriesActions").setIsCommercialBreakRunning(d.getVideoID(),!0)}),d.addListener("commercialBreak/showUFI",function(){return b("FBStoriesActions").setIsCommercialBreakRunning(d.getVideoID(),!1)}),d.addListener("turnOffAutoplay",function(a){a=(a=a)!=null?a.reason:a;if(a!=="manually_paused")return;c.props.onVideoPaused&&c.props.onVideoPaused()}),d.addListener("bufferingChanged",function(){c.setState({showLoadingSpinner:d.isBuffering()})}),d.addListener("pendingPlayRequestChanged",function(){c.setState({showLoadingSpinner:d.isPlayRequestPending()})}));d.runOnApiReady(function(){c.$26(),c.$4&&c.$4.addSubscriptions(d.getVideoAPI().addListener("qualityChange",c.$26))});this.props.isBucketLive&&b("EventListener").listen(d.getRootNode(),"contextmenu",function(a){a.preventDefault()})};d.render=function(){var a=this,c=this.props,d=c.cameraPostType,e=c.children,f=c.isMediaMuted,g=c.media,j=c.onClick,k=c.onMouseDown,m=c.onMouseUp,p=c.onMuteMouseUp,q=c.showMuteButton,r=c.showOverlay;c=c.showWarningScreen;var s=this.state,t=s.height,u=s.width;s=s.showLoadingSpinner;r=r?h.jsx(b("ReactCSSTransitionGroup"),{transitionName:i,transitionEnterTimeout:l,transitionLeaveTimeout:l,children:h.jsx("div",{className:"_3dew"})}):null;var v=h.jsx(b("XUISpinner.react"),{background:"dark",className:"_2out",size:"large"});q=q?h.jsx(b("ReactCSSTransitionGroup"),{transitionName:i,transitionEnterTimeout:n,transitionLeaveTimeout:o,children:h.jsx(b("CameraPostMuteButton.react"),{muted:f,onMouseUp:p})}):null;if(this.$12()){if(c)return h.jsxs(b("ShimButton.react"),{className:"_ide",onClick:j,onMouseUp:m,onMouseDown:k,children:[this.$27(),h.jsx(b("FBStoryImageWarningScreen.react"),{children:h.jsx(b("BackgroundImage.react"),{src:b("CameraPostMediaHelper").getImageUri(g),backgroundSize:"fitWidth",backgroundPosition:"50% 50%",width:u,height:t,className:"_1s5n",onImageLoad:this.$20,loadingIndicatorStyle:"large"})}),e]});f=this.props.useVideoPlayerAutoplay||this.props.isBucketLive;p=h.jsx(b("VideoDataContainer.react"),{videoID:b("CameraPostMediaHelper").getId(g),renderLoading:function(){return v},children:h.jsxs(b("VideoPlayer.react"),{forceHD:this.props.forceHD,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,playerOrigin:this.$24(d),subOrigin:"camera_post",autoplay:!this.props.disableAutoplay&&f,ref:function(b){a.$2=b,a.$25(b)},onUpdateMetadata:this.$23,className:"_1s5n"+(this.props.isBucketLive?" _3r0u":""),children:[!this.props.disableAutoplay&&!f&&h.jsx(b("VideoComponentAutoPlayControl.react"),{}),h.jsx(b("VideoComponentWithLiveBroadcast.react"),{}),h.jsx(b("VideoComponentLiveAudioAnimation.react"),{}),h.jsx(b("VideoComponentLiveEndScreen.react"),{}),h.jsx(b("VideoComponentLiveVideoIndicator.react"),{}),h.jsx(b("VideoComponentLiveInterruptedScreen.react"),{}),h.jsx(b("VideoComponentStreamingReactionTray.react"),{}),h.jsx(b("VideoComponentWithInstreamVideo.react"),{}),h.jsx(b("VideoComponentWithCommercialBreak.react"),{}),h.jsx(b("VideoComponentCommercialBreakVideoAdOverlay.react"),{}),h.jsx(b("VideoComponentCommercialBreakLiveTransitionOverlay.react"),{}),this.props.loop&&h.jsx(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:!0})]})});return h.jsxs("div",{className:"_ide",onMouseUp:m,onMouseDown:k,children:[this.$27(),p,q,r,s&&v,e]})}if(this.$8()||this.$7()||this.$15())return h.jsxs("div",{className:"_ide"+(this.props.messageText?" _6b2b":""),onMouseUp:m,onMouseDown:k,ref:this.$28,children:[this.$27(),h.jsx(b("CameraPostTextSATPLinkComponent.react"),{className:"_1s5n",delightRanges:this.props.delightRanges,expandHandler:this.props.expandHandler,isLink:this.$15(),isSATP:this.$7(),isTextOverflow:this.props.isTextInMediaComponentOverflow,onTextOverflow:this.props.onTextInMediaComponentOverflow,messageText:this.props.messageText,messageRanges:this.props.messageRanges,onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel,satpData:this.props.satpData,storyMetadata:this.props.storyMetadata,truncateHandler:this.props.truncateHandler,linkAttachment:this.props.linkAttachment,videoPlayerWidth:u,videoPlayerHeight:t,onFirstMediaLoaded:this.$10,paused:this.props.paused,mediaBackgroundInfo:this.props.mediaBackground}),this.$21(d)&&q,r,e]});if(this.$14()){f=null;if(this.$13()){p=g&&g.photo_encodings?g.photo_encodings:[];s=g&&g.image&&g.image.uri?g.image.uri:"";f=h.jsx(b("StoriesViewerSphericalPhoto.react"),{photoID:b("CameraPostMediaHelper").getId(g),height:t,width:u,thumbnail:s,photoEncodings:p,onImageLoad:this.$22})}else f=h.jsx(b("BackgroundImage.react"),{src:b("CameraPostMediaHelper").getImageUri(g),backgroundSize:"fitWidth",backgroundPosition:"50% 50%",width:u,height:t,className:"_1s5n",onImageLoad:this.$20,loadingIndicatorStyle:"large"});c&&(f=h.jsx(b("FBStoryImageWarningScreen.react"),{children:f}));return h.jsxs("div",{className:"_ide",onClick:j,onMouseUp:m,onMouseDown:k,ref:this.$28,children:[this.$27(),f,this.$21(d)&&q,r,e]})}if(this.$9()){s=null;b("FBStoryMetadataUtils").locationExists(this.props.storyMetadata.explicitLocation)?s=h.jsx(b("FBStoriesLocationComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):b("FBStoryMetadataUtils").minutiaeExists(this.props.storyMetadata.inlineActivities)?s=h.jsx(b("CameraPostMinutiaeComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):b("FBStoryMetadataUtils").withTagsExists(this.props.storyMetadata.withTags)&&(s=h.jsx(b("CameraPostWithTagsComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}));return h.jsxs("div",{className:"_ide",onMouseUp:m,onMouseDown:k,ref:this.$28,children:[this.$27(),s,this.$21(d)&&q,r,e]})}p="Error: media type not found "+String(b("CameraPostMediaHelper").getType(g));b("FBLogger")("FIXME").mustfix(p);return h.jsxs("div",{className:"_ide",onClick:j,onMouseUp:m,onMouseDown:k,children:[v,r,e]})};d.$27=function(){var a;a=(a=this.props.backdropImage)!=null?(a=a.image)!=null?a.uri:a:a;if(this.props.mediaBackground)return h.jsx(b("CameraPostMediaGradientBackground.react"),{data:this.props.mediaBackground});if(a)return h.jsx(b("BlurredBackgroundImage.react"),{width:this.state.width,height:this.state.height,src:a});return this.$7()?h.jsx(b("CameraPostSATPBackground.react"),{satpData:this.props.satpData,height:this.state.height}):h.jsx(b("CameraPostDefaultBackground.react"),{data:this.props.defaultBackground})};return c}(h.Component);a.defaultProps={forceHD:!1,disableAutoplay:!1,useVideoPlayerAutoplay:!1,loop:!1,loopTimer:!1,media:{id:"",__typename:"Video",preview_image:null,image:null,image_blurred:null},showMuteButton:!0,showOverlay:!1,onTimeUpdate:function(a){},onDone:c=b("emptyFunction"),onClick:c,onMouseUp:c,onMouseDown:c,paused:!1,cameraPostType:"",userID:null,threadID:null,width:1,height:1,isBucketLive:!1,isMediaMuted:!1,onMuteMouseUp:c,satpData:{rootMessageText:"",wwwTextFormatMetadata:null,textFormatMetadata:null},onVideoPaused:c,messageText:"",messageRanges:null,isPlainText:!1,backdropImage:null,defaultBackground:null,storyMetadata:{threadID:"1"},openWithSidePanel:function(){},linkAttachment:null,onLinkClick:function(){},expandHandler:function(){},truncateHandler:function(){},mediaBackground:null,delightRanges:[],showWarningScreen:!1,isTextInMediaComponentOverflow:!1,isMediaSizeBasedOnContainer:!1,onTextInMediaComponentOverflow:function(){}};e.exports=a}),null);
__d("CameraPostOwnerInfo.react",["cx","fbt","CameraPostAppAttribution.react","ProfileLink.react","React","Timestamp.react","Tooltip.react","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=function(a,b,c){var d=[];b.forEach(function(a){a[c]&&d.push(a[c])});return d},k=function(a,b,c){var d=[];b.forEach(function(b){b.id!==a&&b[c]&&d.push(b[c])});return d},l=function(a,b,c){a=j(a,b,c);return a.join(", ")},m=function(a,b,c){a=k(a,b,c);b=a.reduce(function(a,b){if(a.showingNames==="")return{showingNames:b,others:a.others};return(a.showingNames+", "+b).length<20?{showingNames:a.showingNames+", "+b,others:a.others}:{showingNames:a.showingNames,others:a.others+1}},{showingNames:"",others:0});return b.others>0?h._({"s":"{names_of_members} and {num_others} other","p":"{names_of_members} and {num_others} others"},[h._param("names_of_members",b.showingNames),h._param("num_others",b.others),h._enum(b.others===1?"s":"p",{s:"other",p:"others"})]):b.showingNames},n=function(a,b,c,d){return c!==""&&c!==null?c:m(a,b,d)},o=function(a,b,c){a=l(a,b,c);return i.jsxs("div",{children:[i.jsx("p",{className:"_3gpm",children:h._("Group members")}),i.jsx("p",{className:"_3gpn",children:a})]})};a=function(a){var c=a.id;a.instagramProfileURL;var d=a.isSphericalPhoto,e=a.name,f=a.threadID,g=a.time,j=a.cameraPostType,k=a.cameraPostSource,l=a.participants,m=a.groupName,p=a.originalPostStoryAttribution;a=function(){if(j==="GROUP_DIRECT")return i.jsxs("p",{className:"_v5n",children:[e,i.jsx("span",{className:"_3gpo",children:"\xa0to\xa0"}),i.jsx(b("Tooltip.react"),{tooltip:o(c,l,"name"),position:"below",children:n(c,l,m,"short_name")})]});else return i.jsx(b("ProfileLink.react"),{uid:c,target:"_blank",className:"_v5n",children:e})};var q=i.jsx(b("Timestamp.react"),{autoUpdate:!0,time:g,text:b("formatDate")(g,"M j, Y")});g=function(){if(p)return i.jsxs("div",{className:"_v5o",children:[q,"\xa0\u2022\xa0",i.jsx(b("CameraPostAppAttribution.react"),{currentThreadID:f,postStoryAttribution:p})]});else if(k==="LIVE")return i.jsxs("div",{className:"_v5o",children:[q,"\xa0 \u2022 \xa0",h._("Recorded live")]});else if(d)return i.jsxs("div",{className:"_v5o",children:[q,"\xa0\u2022\xa0",h._("360 photo")]});return i.jsx("div",{className:"_v5o",children:q})};return i.jsxs("div",{className:"_60x1",children:[a(),g()]})};e.exports=a}),null);
__d("CameraPostOwnerPic.react",["cx","AvailableListConstants","FBStoriesGatingConfig","Image.react","PresenceStatus","ProfileLink.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=h.jsx("svg",{width:"0",height:"0",children:h.jsx("defs",{children:h.jsx("clipPath",{id:"storyUserOnlineStatus",children:h.jsx("path",{d:"M37.5639554,29.5738543 C36.7864951,29.2058421 35.917286,29 35,29 C31.6862915,29 29,31.6862915 29,35 C29,35.917286 29.2058421,36.7864951 29.5738543,37.5639554 C26.7304079,39.1171646 23.4683026,40 20,40 C8.954305,40 0,31.045695 0,20 C0,8.954305 8.954305,0 20,0 C31.045695,0 40,8.954305 40,20 C40,23.4683026 39.1171646,26.7304079 37.5639554,29.5738543 Z",fill:"black"})})})});a=function(a){var c=a.profile_picture;a=a.id;if(!c)return null;var d=b("FBStoriesGatingConfig").userOnlineStatusEnabled,e=b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE;if(e&&d)if(b("UserAgent").isBrowser("Chrome"))return h.jsxs(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1",children:[i,h.jsx(b("Image.react"),{src:c.uri,className:"_1yfe"}),h.jsx("div",{className:"_1yff"})]});else return h.jsxs(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1",children:[h.jsx(b("Image.react"),{src:c.uri,className:"_1___"}),h.jsx("span",{className:"_2jlv"})]});return h.jsx(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1",children:h.jsx(b("Image.react"),{src:c.uri,className:"_1___"})})};e.exports=a}),null);
__d("CameraPostOwnerView.react",["cx","CameraEventGroupPostOwnerInfo.react","CameraEventGroupPostOwnerPic.react","CameraPostBucketOwnerHelper","CameraPostOwnerInfo.react","CameraPostOwnerPic.react","CameraPostThreadOwnerHelper","CameraPostTypesHelper","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c=a.bucketOwner,d=a.bucketAlternateName,e=a.instagramProfileURL,f=a.isSphericalPhoto,g=a.threadID,i=a.threadOwner,j=a.time,k=a.cameraPostType,l=a.cameraPostSource,m=a.participants,n=a.groupName;a=a.originalPostStoryAttribution;var o=b("CameraPostBucketOwnerHelper").getId(c);d=d==null?b("CameraPostBucketOwnerHelper").getName(c):d;if(b("CameraPostTypesHelper").isMultiAuthor(k)){var p=b("CameraPostThreadOwnerHelper").getName(i),q=b("CameraPostThreadOwnerHelper").getId(i);i={uri:b("CameraPostThreadOwnerHelper").getProfilePictureUri(i)};var r={uri:b("CameraPostBucketOwnerHelper").getProfilePictureUri(c)};return h.jsxs("div",{className:"_116v",children:[h.jsx(b("CameraEventGroupPostOwnerPic.react"),{bucketOwnerId:o,threadOwnerId:q,bucketProfilePicture:r,threadProfilePicture:i,cameraPostType:k}),h.jsx(b("CameraEventGroupPostOwnerInfo.react"),{bucketOwnerId:o,threadOwnerId:q,bucketOwnerName:d,originalPostStoryAttribution:a,threadID:g,threadOwnerName:p,time:j})]})}r={uri:b("CameraPostBucketOwnerHelper").getProfilePictureUri(c)};return h.jsxs("div",{className:"_116v",children:[h.jsx(b("CameraPostOwnerPic.react"),{profile_picture:r,id:o}),h.jsx(b("CameraPostOwnerInfo.react"),{id:o,instagramProfileURL:e,isSphericalPhoto:f,name:d,threadID:g,time:j,cameraPostType:k,cameraPostSource:l,participants:m||[],groupName:n||"",originalPostStoryAttribution:a})]})};e.exports=a}),null);
__d("CameraPostReportButton.react",["ix","cx","fbt","AsyncRequest","CameraFileBugButton.react","FBStoriesGatingConfig","FRXStrings","FRXURI","Image.react","PopoverMenu.react","React","ReactMenu","ReactXUIMenu","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactMenu").Item,l=b("FBStoriesGatingConfig").isStoriesDebugEligible;a=function(a){var c=function(){var c=b("FRXURI").withEntReportable({reportable_ent_token:a.threadID,story_location:"direct_messaging",entry_point:"report_button"});c=new(b("AsyncRequest"))().setURI(c);c.send()};c=[].concat(a.children||[],[a.canReportThreadToFacebook?j.jsxs(k,{onClick:c,children:[j.jsx(b("Image.react"),{src:g("372467")}),b("FRXStrings").report_story_title]},"report"):null,b("CameraFileBugButton.react")(),l?j.jsxs(k,{href:"https://our.intern.facebook.com/intern/fb_stories/inspector/?id="+a.threadID,target:"_blank",children:[j.jsx(b("Image.react"),{src:g("372467")}),i._("[FB Only] Open in Stories Inspector Tool")]},"link"):null,null]);c=j.jsx(b("ReactXUIMenu"),{className:"_2sh1",onItemClick:a.onPopoverItemClick,onItemFocus:a.onPopoverItemFocus,children:c});return j.jsx("div",{className:"_2sh5",children:j.jsx(b("PopoverMenu.react"),{alignv:"bottom",alignh:"center","aria-label":i._("More button"),menu:c,position:"below",onItemClick:a.onPopoverItemClick,onShow:a.onPopoverShow,onHide:a.onPopoverHide,children:j.jsx("a",{href:"#",children:j.jsx(b("Image.react"),{src:g("375454")})})})})};e.exports=a}),null);
__d("EventsRSVPStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Going");b=g._("Interested");c=g._("Message");d=g._("View event details");e.exports={goingFBT:a,interestedFBT:b,messageFBT:c,viewEventDetailsFBT:d}}),null);
__d("EventsRelayWatchStatusSelectorV2.react",["ix","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventWatchStatus","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","Image.react","React","RelayModern","asset","EventsRelayWatchStatusSelectorV2_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){c.stopPropagation();c=d.props;var e=c.event,f=e.eventID;e=e.watchStatus;c=c.actionContext;if(e===a)return;a===b("EventWatchStatus").WATCHED?b("EventsRelayWatchActions").watch({eventID:f},c,null,d.$2):a===b("EventWatchStatus").UNWATCHED?b("EventsRelayWatchActions").unwatch({eventID:f},c,null,d.$2):a===b("EventWatchStatus").GOING&&b("EventsRelayWatchActions").going({eventID:f},c,null,d.$2);b("EventsActionsLogger").log(d.props.event.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.RSVP_BUTTON,acontext:b("EventActionContext").getFromString(d.props.actionContext)});d.props.onChange&&d.props.onChange()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.event,c=a.connectionStyle,d=a.hasChildEvents;a=a.watchStatus;if(c!==b("EventConnectionStyle").INTERESTED)return null;c=a===b("EventWatchStatus").WATCHED;a=a===b("EventWatchStatus").GOING;var e=c?b("EventWatchStatus").WATCHED:a?b("EventWatchStatus").GOING:null,f=c||a?i.jsx(b("Image.react"),{src:g("495429")}):i.jsx(b("Image.react"),{src:g("560884")});d=[d==null||d===!1?i.jsx(b("FDSDropdownSelectorOption.react"),{selected:a,value:b("EventWatchStatus").GOING,children:a?b("EventRSVPActionStrings").getGoingActionText():b("EventRSVPActionStrings").getGoingDecidedText()}):null,i.jsx(b("FDSDropdownSelectorOption.react"),{selected:c,value:b("EventWatchStatus").WATCHED,children:c?b("EventRSVPActionStrings").getInterestedDecidedText():b("EventRSVPActionStrings").getInterestedActionText()}),i.jsx(b("FDSDropdownSelectorSeparator.react"),{}),i.jsx(b("FDSDropdownSelectorOption.react"),{value:b("EventWatchStatus").UNWATCHED,children:c?b("EventRSVPActionStrings").getInterestedNegateText():b("EventRSVPActionStrings").getGoingNegateText()})].filter(Boolean);return i.jsx("div",{children:i.jsx(b("FDSDropdownSelector.react"),{buttonSize:"small",buttonIcon:f,onChange:this.$1,placeholder:b("EventRSVPActionStrings").getInterestedActionText(),value:e,children:d})},"watchui")};d.$2=function(a){};return c}(i.Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventsRelayWatchStatusSelectorV2_event.graphql")})}),null);
__d("EventsRelayWatchButtonV2.react",["ix","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventsRelayWatchStatusSelectorV2.react","EventWatchStatus","FDSButton.react","Image.react","React","RelayModern","asset","EventsRelayWatchButtonV2_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("EventsActionsLogger").log(d.props.event.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.RSVP_BUTTON,acontext:b("EventActionContext").getFromString(d.props.actionContext)}),b("EventsRelayWatchActions").watch({eventID:d.props.event.eventID},d.props.actionContext,null,d.$2)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.actionContext,d=a.event;a=a.onChange;var e=d.connectionStyle,f=d.watchStatus;if(e!==b("EventConnectionStyle").INTERESTED)return null;e=f===b("EventWatchStatus").WATCHED;f=f===b("EventWatchStatus").GOING;if(e||f)return i.jsx(b("EventsRelayWatchStatusSelectorV2.react"),{actionContext:c,event:d,onChange:a});e=i.jsx(b("Image.react"),{src:g("560884")});return i.jsx(b("FDSButton.react"),{size:"small",icon:e,label:b("EventRSVPActionStrings").getInterestedActionText(),onClick:this.$1})};d.$2=function(a){};return c}(i.Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventsRelayWatchButtonV2_event.graphql")})}),null);
__d("EventInfoBarConstants",[],(function(a,b,c,d,e,f){"use strict";a=56;e.exports={IMAGE_SIZE:a}}),null);
__d("EventInfoBar.react",["cssVar","cx","EventActionContext","EventInfoBarConstants","EventsActionsLogger","EventsRelayWatchButtonV2.react","EventsRSVPStrings","FDSLink.react","FDSPopover.react","FDSText.react","React","RelayModern","ScaledImage.react","XEventsPermalinkController","EventInfoBar_event.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("EventInfoBarConstants").IMAGE_SIZE,k=b("EventsRSVPStrings").viewEventDetailsFBT,l=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showImage:!0},c.setShowImage=function(){var a;c.setState({showImage:(((a=c.$1)==null?void 0:a.offsetWidth)||0)>=6*j})},c.onPauseAnimation=function(){c.props.onPauseAnimation&&c.props.onPauseAnimation()},c.onStartAnimation=function(){c.props.onStartAnimation&&c.props.onStartAnimation()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("EventsActionsLogger").log(this.props.event.id,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.EVENT_INFO_BAR,acontext:b("EventActionContext").getFromString(this.props.actionContext)}),this.setShowImage(),window.addEventListener("resize",this.setShowImage)};d.componentWillUnmount=function(){window.removeEventListener("resize",this.setShowImage)};d.render=function(){var a,c,d=this,e,f=this.props,g=f.actionContext;f=f.event;var h=f.id,i=f.name;f=f.date;a=(a=this.props.event.place)==null?void 0:a.name;c=(c=this.props.event.cover_photo)==null?void 0:(c=c.photo)==null?void 0:c.image;return l.jsxs(l.Fragment,{children:[l.jsx("div",{onMouseEnter:this.onPauseAnimation,onMouseLeave:this.onStartAnimation,className:"_6vr0",ref:function(a){return d.$1=a},children:l.jsxs("div",{className:"_6vr1",children:[l.jsxs("div",{className:"_6x31",children:[c!=null&&this.state.showImage?l.jsx("div",{className:"_6vr2",children:l.jsx(b("ScaledImage.react"),{className:"_6vr3",height:j,imageSize:{height:(e=c.height)!=null?e:0,width:(e=c.width)!=null?e:0},src:c.uri,width:j})}):null,l.jsxs("div",{className:"_6vr4",children:[l.jsx(b("FDSText.react"),{size:"body3",color:"white",children:l.jsx("div",{style:{color:"#F35369"},className:"_6yvq",children:f})}),l.jsx(b("FDSText.react"),{size:"header3",color:"white",weight:"bold",children:l.jsx("div",{className:"_6yvq",children:i})}),l.jsx(b("FDSText.react"),{size:"body3",color:"white",children:l.jsx("div",{className:"_6yvq",children:a})})]})]}),l.jsx("div",{className:"_6vr5",children:l.jsx(b("EventsRelayWatchButtonV2.react"),{event:this.props.event,actionContext:(e=g)!=null?e:"{}",onChange:this.onStartAnimation})})]})}),l.jsx(b("FDSPopover.react"),{contextRef:function(){return d.$1},hoverContextRef:function(){return d.$1},position:"above",alignment:"center",children:l.jsx("div",{onMouseEnter:this.onPauseAnimation,onMouseLeave:this.onStartAnimation,children:l.jsx(b("FDSLink.react"),{onClick:function(){return b("EventsActionsLogger").log(d.props.event.id,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.VIEW_EVENT,acontext:b("EventActionContext").getFromString(d.props.actionContext)})},target:"_self",href:b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",h).setString("acontext",g).getURI(),children:l.jsx(b("FDSText.react"),{children:k})})})})]})};return c}(l.Component);e.exports=a(c,{event:i!==void 0?i:i=b("EventInfoBar_event.graphql")})}),null);
__d("EventInfoBarLoading.react",["cx","EventInfoBarConstants","FBLoadShimmer.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("EventInfoBarConstants").IMAGE_SIZE,i=b("React"),j=.15;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return i.jsx("div",{className:"_6vr0",children:i.jsxs("div",{className:"_6vr1",children:[i.jsxs("div",{className:"_6x31",children:[i.jsx("div",{className:"_6vr2",children:i.jsx(a=b("FBLoadShimmer.react"),{style:{opacity:j},className:"_6vr3",height:h,width:h})}),i.jsxs("div",{className:"_6vr4",children:[i.jsx(a,{style:{opacity:j},height:12,width:120,className:"_3-8h"}),i.jsx(a,{style:{opacity:j},height:12,width:180,className:"_3-8h"}),i.jsx(a,{style:{opacity:j},height:12,width:150,className:"_3-8h"})]})]}),i.jsx("div",{className:"_6vr5",children:i.jsx(a,{style:{opacity:j},height:28,width:92})})]})})};return c}(i.Component);e.exports=a}),null);
__d("EventInfoBarRenderer.react",["BanzaiODS","EventInfoBar.react","EventInfoBarLoading.react","FBLogger","React","RelayFBEnvironment","RelayModern","EventInfoBarRendererQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g!==void 0?g:g=b("EventInfoBarRendererQuery.graphql");function a(a){var c=a.eventID,d=babelHelpers.objectWithoutPropertiesLoose(a,["eventID"]);a={eventID:c};return h.jsx(i,{environment:b("RelayFBEnvironment"),query:j,variables:a,render:function(a){var c=a.error;a=a.props;if(c){b("FBLogger")("EventInfoBar").catching(c).debug("Error querying graphQL endpoint for event info bar");b("BanzaiODS").bumpEntityKey(2966,"events.event_info_bar","renderer_error");return null}else if(a)return h.jsx(b("EventInfoBar.react"),babelHelpers["extends"]({event:a.event},d));return h.jsx(b("EventInfoBarLoading.react"),{})}})}e.exports=a}),null);
__d("FBStoriesStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=g._("Friends");d=g._("Connections");f=function(a){return g._({"*":"{number} new","_1":"1 new"},[g._plural(a,"number")])};b=g._("When friends open your story, they'll appear here");var h=g._("Others"),i=g._("Followers");a=g._("Learn more about {=Messenger connections}",[g._param("=Messenger connections",a.jsx("a",{href:"https://www.facebook.com/help/messenger-app/122070095126335",target:"_blank",children:g._("Messenger connections")}))]);e.exports={messengerConnectionsFBT:a,othersFBT:h,followersFBT:i,friendsFBT:c,connectionsFBT:d,newCountFBT:f,noFriendsViewedStoryFBT:b}}),null);
__d("FBStoriesNavigationDirection",[],(function(a,b,c,d,e,f){"use strict";e.exports={PREV:"prev",NEXT:"next",STAY_HERE:"stay_here"}}),null);
__d("FBStoriesThreadNavigationButton.react",["cx","fbt","FBStoriesNavigationDirection","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){if(!a.showStoryUI||a.showPausedOverlay||!a.enableNavigation)return null;var c=a.allowedNavType==="PREV_ONLY"&&a.direction===b("FBStoriesNavigationDirection").NEXT,d=a.allowedNavType==="NEXT_ONLY"&&a.direction===b("FBStoriesNavigationDirection").PREV;if(d||c)return null;d=function(b){b.preventDefault(),b.stopPropagation(),a.rootElem.focus(),a.directionChange()};c=function(b){b.stopPropagation(),a.setNavDirection(a.direction)};return i.jsx("button",{"aria-label":a.direction===b("FBStoriesNavigationDirection").NEXT?h._("Next button"):a.direction===b("FBStoriesNavigationDirection").PREV?h._("Previous button"):h._("Button"),className:"_24o5"+(a.direction===b("FBStoriesNavigationDirection").NEXT?" _24o8":"")+(a.direction===b("FBStoriesNavigationDirection").PREV?" _24o7":"")+(a.navDirectionOnClick===a.direction?" _24o6":""),onClick:d,onMouseMove:c,tabIndex:0})};e.exports=a}),null);
__d("SegmentedProgressBar.react",["cx","React","range"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.currentSegmentIndex,d=a.currentSegmentPercentComplete;a=a.segmentCount;a=b("range")(0,a).map(function(a){var b;a<c?b=100:a>c?b=0:b=d;return h.jsx(i,{current:a===c,percentDone:b},a)});return h.jsx("div",{className:"_jxz",children:a})};return c}(h.Component);var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){var a=this.props.percentDone;a={width:a+"%"};return h.jsx("div",{className:"_jx-",children:h.jsx("div",{className:"_jx_",style:a})})};return a}(h.Component);e.exports=a}),null);
__d("FBStoriesDeleteConfirmationDialog.react",["cx","fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs(b("XUIDialog.react"),{width:j,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction,"data-testid":void 0,children:[i.jsx(b("XUIDialogTitle.react"),{children:this.$1(this.props.mediaType)}),i.jsx(b("XUIDialogBody.react"),{children:this.$2(this.props.mediaType)}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsxs("div",{children:[i.jsx(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),i.jsx(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Delete"),onClick:this.props.confirmAction,"data-testid":void 0})]})})]})};d.$2=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Delete this photo from your story?");case"VIDEO":return h._("Delete this video from your story?");default:return h._("Delete this from your story?")}};d.$1=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Delete photo?");case"VIDEO":return h._("Delete video?");default:return h._("Delete?")}};return c}(i.Component);e.exports=a}),null);
__d("FBStoriesExternalSong.react",["ix","cx","fbt","FBStoriesInteractiveLoggingHelper","Image.react","Link.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.linkClicked=function(){b("FBStoriesInteractiveLoggingHelper").logOpenStoryMediaPermalink({action_detail:"external_song_button_click",link_type:d.props.overlay.song_data.platform_name,link_url:d.props.overlay.url,thread_id:d.props.currentThreadID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.overlay.song_data||!b("gkx")("678363"))return null;var a=i._("Listen on {partnerName}",[i._param("partnerName",this.props.overlay.song_data.platform_name)]),c=null;switch(this.props.overlay.song_data.platform_name){case"Spotify":a=i._("Play on {partnerName}",[i._param("partnerName",this.props.overlay.song_data.platform_name)]);c=j.jsx(b("Image.react"),{className:"_3-_y _3-8_",src:g("506051")});break;case"iTunes":a=i._("Get it on iTunes");break}var d=this.props.overlay.link_bounds.y*100;d={top:d+"%"};return j.jsxs(b("Link.react"),{className:"_3vp6",href:this.props.overlay.url,label:a,onClick:this.linkClicked,style:d,target:"_blank",children:[c,a]})};return c}(j.Component);e.exports=a}),null);
__d("FBStoriesPollStickerConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;b={HEIGHT:72,WIDTH:240,DEFAULT_OPTION_WIDTH:120,AVAILABLE_WIDTH:240-2*a,TEXT_SMALL_HEIGHT:25,TEXT_BIG_HEIGHT:40,TEXT_BIG_MIN_FONT_SIZE:20,TEXT_BIG_MAX_FONT_SIZE:30,TEXT_SMALL_MIN_FONT_SIZE:12,TEXT_SMALL_MAX_FONT_SIZE:20,VOTE_OPTION_MAX_WIDTH_RATIO:.75,MINIMUM_LABEL_WIDTH:.31*240,H_PADDING:a};c={VOTING:"VOTING",JUST_VOTED:"JUST_VOTED",RESULTS:"RESULTS"};e.exports={DIMENSIONS:b,VOTING_PHASES:c}}),null);
__d("FBStoriesPollStickerOptionLabel.react",["cx","Autosize.react","FBStoriesPollStickerConstants","React","range"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBStoriesPollStickerConstants").DIMENSIONS,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.voteCountPercent,c=a!==void 0&&a!==null,d=this.$1(c),e=h.VOTE_OPTION_MAX_WIDTH_RATIO*100,f="_2iz1"+(this.props.isResultView?" resultView":"")+(this.props.isSelected?" selected":"")+(this.props.isOverflowedOption?" overflow_option":"")+(c?" hasPercent":"")+(this.props.pollStyle==="ig_two_option_combined".toUpperCase()?" instagramPoll":"")+(this.props.isLeftOption?" left":"")+(this.props.isLeftOption?"":" right"),g=this.props.isOverflowLayout?h.DEFAULT_OPTION_WIDTH*h.VOTE_OPTION_MAX_WIDTH_RATIO:d.width,j={};a={width:g,height:d.height,zIndex:a!==void 0&&a!==null?a<=50?1:0:0};this.props.isOverflowLayout?(j.maxWidth=g,a.width="auto"):j.maxWidth=e+"%";e={width:a.width,zIndex:a.zIndex};var k=c?h.TEXT_SMALL_MIN_FONT_SIZE:h.TEXT_BIG_MIN_FONT_SIZE,l=c?h.TEXT_SMALL_MAX_FONT_SIZE:h.TEXT_BIG_MAX_FONT_SIZE;return i.jsxs("div",{className:f,style:j,children:[i.jsx("div",{className:"_2i_3",style:a,children:i.jsx(b("Autosize.react"),{sizes:b("range")(k,l+1,2),width:g,height:d.height,children:this.props.text.toUpperCase()})}),c&&i.jsx("div",{className:"_66ry",style:e,children:(this.props.voteCountPercent||0)+"%"})]})};d.$1=function(a){var b=(this.props.voteCountPercent||50)/100;b=Math.floor(h.AVAILABLE_WIDTH*b*h.VOTE_OPTION_MAX_WIDTH_RATIO);a=a?h.TEXT_SMALL_HEIGHT:h.TEXT_BIG_HEIGHT;return{width:b,height:a}};return c}(i.Component);a.defaultProps={voteCountPercent:void 0,isLeftOption:!1,isSelected:!1,isResultView:!1,isOverflowLayout:!1,isOverflowedOption:!1};e.exports=a}),null);
__d("FBStoriesPollStickerOption.react",["cx","FBStoriesPollStickerConstants","FBStoriesPollStickerOptionLabel.react","React","ReactMotion","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";a=b("FBStoriesPollStickerConstants").DIMENSIONS;var h=b("FBStoriesPollStickerConstants").VOTING_PHASES,i=b("React"),j=b("ReactMotion").Motion,k=b("ReactMotion").presets,l=b("ReactMotion").spring,m=a.DEFAULT_OPTION_WIDTH+"px",n=a.AVAILABLE_WIDTH;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(this.props.votingPhase===h.VOTING)return i.jsx(b("ShimButton.react"),{className:"_1jl5 _66l8 voting"+(this.props.isSelected?" selected":""),onClick:this.props.onSelect,style:{width:m},children:i.jsx(b("FBStoriesPollStickerOptionLabel.react"),{isLeftOption:this.props.isLeftOption,isSelected:this.props.isSelected,isOverflowLayout:this.props.isOverflowLayout,isOverflowedOption:this.props.isOverflowedOption,pollStyle:this.props.pollStyle,text:this.props.text})});else if(this.props.votingPhase===h.RESULTS)return i.jsx("div",{className:"_1jl5 _66l8 results"+(this.props.isConsumer?" consumer":"")+(this.props.isSelected?" selected":"")+(this.props.isOverflowLayout?" overflow":"")+(this.props.isOverflowedOption?" overflow_option":""),style:{width:this.props.width},children:i.jsx(b("FBStoriesPollStickerOptionLabel.react"),{isLeftOption:this.props.isLeftOption,isResultView:!this.props.isConsumer,isSelected:this.props.isSelected,isOverflowLayout:this.props.isOverflowLayout,isOverflowedOption:this.props.isOverflowedOption,pollStyle:this.props.pollStyle,text:this.props.text,voteCountPercent:this.props.voteCountPercent})});else{var c=this.props.isLeftOption&&this.props.isSelected||!this.props.isLeftOption&&!this.props.isSelected;c=c?0:n;var d=this.props.isLeftOption?this.props.width:Math.abs(this.props.width-n);c=this.props.isLeftOption?c:Math.abs(n-c);d=this.props.isLeftOption?d:Math.abs(n-d);return i.jsx(j,{defaultStyle:{width:c},style:{width:l(d,babelHelpers["extends"]({},k.noWobble))},children:function(c){return i.jsx("div",{className:"_1jl5 _66l8 justVoted"+(a.props.isSelected?" selected":"")+(a.props.isOverflowLayout?" overflow":"")+(a.props.isOverflowedOption?" overflow_option":""),style:c,children:i.jsx(b("FBStoriesPollStickerOptionLabel.react"),{isSelected:a.props.isSelected,isOverflowLayout:a.props.isOverflowLayout,isOverflowedOption:a.props.isOverflowedOption,pollStyle:a.props.pollStyle,text:a.props.text,voteCountPercent:a.props.voteCountPercent})})}})}};return c}(i.PureComponent);c.defaultProps={animateIn:!1,isConsumer:!0,isSelected:!1,votingPhase:h.VOTING,isOverflowLayout:!1,isOverflowedOption:!1,isLeftOption:!1,voteCountPercent:void 0};e.exports=c}),null);
__d("FBStoriesPollSticker.react",["cx","FBStoriesPollStickerConstants","FBStoriesPollStickerOption.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBStoriesPollStickerConstants").DIMENSIONS,i=b("FBStoriesPollStickerConstants").VOTING_PHASES,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={didVoteChange:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.$1();return j.jsx("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,className:"_4gto"+(this.props.pollStyle==="ig_two_option_combined".toUpperCase()?" instagramPoll":""),children:a})};d.$2=function(a){if(!this.props.canViewerVote)return;this.props.onOptionVoted&&this.props.onOptionVoted(this.props.pollId,a);this.setState({didVoteChange:!0})};d.$3=function(){return this.props.pollOptions.filter(function(a){return a.voteCount>0}).length===1};d.$1=function(){var a=this,c=this.$4(),d=c.findIndex(function(a){return a.width<=h.MINIMUM_LABEL_WIDTH});return c.map(function(c,e){return j.jsx(b("FBStoriesPollStickerOption.react"),babelHelpers["extends"]({},c,{isLeftOption:e===0,isOverflowLayout:d>=0,isOverflowedOption:d===e,pollStyle:a.props.pollStyle}))})};d.$4=function(){var a=this,b=this.props,c=b.pollOptions,d=b.viewerVoteIndex,e=b.canViewerVote,f=b.isConsumer,g=c.reduce(function(a,b){return a+=b.voteCount},0),j=c.reduce(function(a,b,d){b.voteCount>c[a].voteCount&&(a=d);return a},0),k=d!==void 0&&d!==null&&d>=0;b=f?!k&&e:g===0;var l=!b&&!this.state.didVoteChange,m=!b&&this.state.didVoteChange,n=0;return c.reduce(function(b,e,o){var p=e.text;e=e.voteCount;var q=a.$3();q=o===d||q;if((l||m)&&e===0)return b;var r=void 0,s=h.DEFAULT_OPTION_WIDTH,t=i.VOTING,u=!1;if(l||m){l?t=i.RESULTS:m&&(t=i.JUST_VOTED);var v=!f&&!k&&j===o;u=q||v;if(o===c.length-1)r=100-n;else{q=e/g;r=q*100;v=Math.round(r)!=r;e=r<.1;q=v?r.toFixed(e?1:0):r;r=parseFloat(q);n+=r}s=h.WIDTH*(r/100)}b.push({animateIn:a.state.didVoteChange,key:o,isConsumer:f,isSelected:u,votingPhase:t,onSelect:function(){return a.$2(o)},text:p,voteCountPercent:r,width:s});return b},[])};return c}(j.PureComponent);a.defaultProps={top:0,left:0,rotation:0,scaleX:1,scaleY:1,canViewerVote:!0,viewerVoteIndex:void 0,isConsumer:!0,onMouseEnter:b("emptyFunction"),onMouseLeave:b("emptyFunction"),onOptionVoted:b("emptyFunction")};e.exports=a}),null);
__d("FBStoriesReactionSticker.react",["cx","FBStoriesReactionStickerConstants","Keyframes.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBStoriesReactionStickerConstants").ANIMATIONS_INTERVAL_THROTTLE,i=b("FBStoriesReactionStickerConstants").HOLD_DELAY,j=b("React");function k(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={keyframes:[c.$1("AFFORDANCE",c.props.animations)]},c.$2=null,c.$3=0,c.$4=null,c.$6=k(function(){var a=c.props,b=a.onPauseThread,d=a.onReactToSticker;a=a.id;b();c.$3+=1;d(a,c.$3);c.setState(function(a,b){return{keyframes:[].concat(a.keyframes,[c.$1("TAP",b.animations)])}});c.$2=setTimeout(function(){c.$7()},i)},h),c.$8=function(){clearTimeout(c.$2),clearTimeout(c.$4)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a,c,d){var e=this;d===void 0;var f={key:"",animation:c[0],repeatCount:1,onRepeatEnd:b("emptyFunction")};f.key=Date.now().toString();for(var d=0;d<c.length;d++){var g=c[d];if(g.type===a){f.animation=g;break}}a==="TAP"&&(f.repeatCount=1,f.onRepeatEnd=function(){e.$5(f.key,e.props.onPlayThread)});a==="AFFORDANCE"&&(f.repeatCount=Infinity,f.onRepeatEnd=b("emptyFunction"));return f};d.$5=function(a,b){this.setState(function(c,d){d=c.keyframes.slice();for(var c=0;c<d.length;c++)if(d[c].key===a){d.splice(c,1);break}d.length<2&&b();return{keyframes:d}})};d.$7=function(){var a=this;this.$3+=1;this.$4=setTimeout(function(){a.setState(function(b,c){return{keyframes:[].concat(b.keyframes,[a.$1("TAP",c.animations)])}}),a.$7()},h)};d.$9=function(a){var c=a.key,d=a.animation,e=a.repeatCount;a=a.onRepeatEnd;var f=this.props,g=f.originalHeight;f=f.originalWidth;var h=d?d.asset:{};h=h.keyframe_uri;var i=d?d.asset.initial_state_bounds:{},k=i.height,l=i.width,m=i.x;i=i.y;g=g/k;k=f/l;f={position:"absolute",left:"-"+m*k+"px",top:"-"+i*g+"px"};return j.jsx(b("Keyframes.react"),{className:d.type==="TAP"?"_6w0m":"",style:f,height:g,width:k,source:h,projectName:"facebook_stories",assetName:"reaction_sticker",repeatCount:e,onRepeatEnd:a},c)};d.render=function(){var a=this,b=this.state.keyframes;return j.jsx("div",{className:"_6w0n",onMouseDown:this.$6,onMouseUp:this.$8,onMouseLeave:this.$8,children:b.map(function(b){return a.$9(b)})})};return c}(j.PureComponent);e.exports=a}),null);
__d("ResharesConsumptionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setOriginalContentID=function(a){this.$1.original_content_id=a;return this};c.setProductTag=function(a){this.$1.product_tag=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={event_name:!0,original_content_id:!0,product_tag:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FBStoriesTagSticker.react",["cx","fbt","Link.react","React","ResharesConsumptionTypedLogger","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!1},c.$1=function(){c.props.onPauseThread(),c.setState({dialogShown:!0})},c.$2=function(){c.props.onPlayThread(),c.setState({dialogShown:!1})},c.$3=function(){return c.refs&&c.refs.body},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(){switch(this.props.type){case"LOCATION":return h._("See location");case"PEOPLE":return h._("See people");case"PRODUCT":return h._("See product");case"EVENT":return h._("See event")}return null};d.$5=function(){var a=Math.cos(this.props.bounds.rotation/180*Math.PI);return a<0?"below":"above"};d.$6=function(){new(b("ResharesConsumptionTypedLogger"))().setEventName("reshared_post_tap").setOriginalContentID(this.props.tag_id).log()};d.render=function(){var a=this,c={transform:"rotate("+-this.props.bounds.rotation+"deg)"},d=this.props.tag_url;d===void 0&&(this.props.tag_id!==void 0&&(d="/"+this.props.tag_id));return i.jsx(b("Link.react"),{href:d,target:"_blank",onClick:function(){return a.$6()},children:i.jsx("div",{className:"_6zqx",onMouseLeave:this.$2,onMouseEnter:this.$1,children:i.jsx("div",{ref:"body",style:c,children:i.jsx(b("XUIContextualDialog.react"),{shown:this.state.dialogShown,contextRef:this.$3,position:this.$5(),alignment:"center",label:"",children:i.jsx(b("XUIContextualDialogBody.react"),{children:this.props.dialogBodyText===null||this.props.dialogBodyText===void 0?this.$4():this.props.dialogBodyText})})})})})};return c}(i.PureComponent);a.propTypes={tag_url:function(a){if(a.tag_url===void 0&&a.tag_id===void 0)return new Error("Please provide either tag_id or tag_url")}};e.exports=a}),null);
__d("FBStoriesInteractiveFeedbackOverlay.react",["cx","EventActionContext","EventInfoBarRenderer.react","EventsActionsLogger","FBStoriesActions","FBStoriesExternalSong.react","FBStoriesGatingConfig","FBStoriesPollSticker.react","FBStoriesPollStickerConstants","FBStoriesReactionSticker.react","FBStoriesReactionStickerConstants","FBStoriesTagSticker.react","React","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=["two_option_combined".toUpperCase(),"ig_two_option_combined".toUpperCase()];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_4xuu",style:{width:this.props.widthPx,height:this.props.heightPx,top:this.props.topPx,left:this.props.leftPx},children:this.$1()})};d.$1=function(){var a=this;return this.props.overlays.reduce(function(c,d){if(a.props.heightPx===""||a.props.widthPx==="")return c;var e=parseInt(a.props.heightPx.replace("px",""),10),f=parseInt(a.props.widthPx.replace("px",""),10);if(d.__typename==="StoryOverlayPollSticker"){if(i.indexOf(d.style)===-1)return c;var g=d.poll,k=g.can_viewer_vote,l=g.viewer_vote_index,m=g.id;g=g.poll_options;g=g.map(function(a){return{voteCount:a.vote_count,text:a.text}});c.push(h.jsx(j,{containerHeight:e,containerWidth:f,width:b("FBStoriesPollStickerConstants").DIMENSIONS.WIDTH,height:b("FBStoriesPollStickerConstants").DIMENSIONS.HEIGHT,bounds:d.voting_control_bounds,children:h.jsx(b("FBStoriesPollSticker.react"),{canViewerVote:k,viewerVoteIndex:l,isConsumer:a.props.isConsumer,pollId:m,pollOptions:g,onOptionVoted:a.$2,onMouseEnter:a.props.onInteractiveOverlayMouseEnter,onMouseLeave:a.props.onInteractiveOverlayMouseLeave,pollStyle:d.style})},"poll_"+d.poll.id))}else if(d.__typename==="StoryOverlayExternalSong")c.push(h.jsx(b("FBStoriesExternalSong.react"),{overlay:d,currentThreadID:a.props.currentThreadID},"song"));else if(d.__typename==="StoryOverlayReactionSticker"){if(b("FBStoriesGatingConfig").canSeeInteractiveStickers){k=d.reaction_sticker.sticker_asset.sticker_animation_assets;c.push(h.jsx(j,{containerHeight:e,containerWidth:f,height:(l=b("FBStoriesReactionStickerConstants")).DIMENSIONS.HEIGHT,width:l.DIMENSIONS.WIDTH,bounds:d.bounds,children:h.jsx(b("FBStoriesReactionSticker.react"),{id:d.reaction_sticker.id,animations:k,originalHeight:l.DIMENSIONS.HEIGHT,originalWidth:l.DIMENSIONS.WIDTH,onPauseThread:a.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:a.props.onInteractiveOverlayMouseLeave||b("emptyFunction"),onReactToSticker:a.$3})},"reaction_"+d.reaction_sticker.id))}}else if(d.__typename==="StoryOverlayEventInfoBar"){m=b("gkx")("678356");if(m){g=d.event_id;k=d.event_info_bar_style;l=d.sticker_bounds;m=b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.FACEBOOK_STORY,mechanism:b("EventsActionsLogger").Mechanism.EVENT_INFO_BAR,extra_data:JSON.stringify({action_button_type:k,event_id:g,story_id:a.props.currentThreadID,events_story_type:"personal"})});k=l.height;var n=l.width,o=l.x,p=l.y;l=l.rotation;l={transform:"rotate("+l+"deg)"};c.push(h.jsx("div",{className:"_4xux",style:l,children:h.jsx("div",{style:{position:"absolute",width:f*n,height:e*k,top:p*100+"%",left:o*100+"%",pointerEvents:"all"},children:h.jsx(b("EventInfoBarRenderer.react"),{eventID:g,actionContext:b("EventActionContext").toString(m),onPauseAnimation:a.props.onInteractiveOverlayMouseEnter,onStartAnimation:a.props.onInteractiveOverlayMouseLeave})})}))}}else if(d.__typename==="StoryOverlayTagSticker"){l=b("gkx")("692141");if(l){n=d.bounds;k=d.tag_id;p=d.type;c.push(h.jsx(j,{containerHeight:e,containerWidth:f,height:n.height*e,width:n.width*f,bounds:n,children:h.jsx(b("FBStoriesTagSticker.react"),{tag_id:k,type:p,bounds:n,onPauseThread:a.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:a.props.onInteractiveOverlayMouseLeave||b("emptyFunction"),onReactToSticker:a.$3})}))}}else if(d.__typename==="StoryOverlayResharedPost"&&b("gkx")("719196")){o=d.bounds;g=d.action_title;m=d.post_url;c.push(h.jsx(j,{containerHeight:e,containerWidth:f,height:o.height*e,width:o.width*f,bounds:o,children:h.jsx(b("FBStoriesTagSticker.react"),{dialogBodyText:g,tag_url:m,bounds:o,onPauseThread:a.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:a.props.onInteractiveOverlayMouseLeave||b("emptyFunction")})},"reshare_"+m))}return c},[])};d.$2=function(a,c){b("FBStoriesActions").onPollOptionVoted(a,c)};d.$3=function(a,c){b("FBStoriesActions").onReactToSticker(a,c)};return c}(h.Component);var j=function(a){var b=a.bounds,c=b.height,d=b.width,e=b.x,f=b.y;b=b.rotation;c=a.containerHeight*c;d=a.containerWidth*d;c=c/a.height;d=d/a.width;f=f*100;e=e*100;f={width:a.width+"px",height:a.height+"px",top:f+"%",left:e+"%",transform:"scaleY("+c+") scaleX("+d+")"};e={transform:"rotate("+b+"deg)"};return h.jsx("div",{className:"_4xuv",style:f,children:h.jsx("div",{className:"_4xux",style:e,children:a.children})})};e.exports=a}),null);
__d("FBStoriesIntegrityContext.react",["ix","cx","Image.react","Link.react","React","XArticleContextMainDialogController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.integrityInfo;if(a&&a.object_id){a=b("XArticleContextMainDialogController").getURIBuilder().setString("share_id",a.object_id).setEnum("entry_type","stories_learn_more").getURI();return i.jsx(b("Link.react"),{onClick:this.props.onLinkClick,onMouseUp:function(a){return a.stopPropagation()},ajaxify:a,href:"#",rel:"dialog-post",className:"_2xoz",children:i.jsx(b("Image.react"),{src:g("650443")})})}return null};return c}(i.Component);e.exports=a}),null);
__d("FBStoriesLinkRenderer.react",["ix","cx","FBStoriesIntegrityContext.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","Image.react","LineClamp.react","Link.react","React","asset","first"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=600,k=315,l=56;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onLinkClick(a),c.$3("link")},c.$2=function(a){c.props.onLinkClick(a),c.$3("integrity_context")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.currentThreadData;if(a&&!a.isLive){var c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags);a=a.linkAttachment;if(a&&a.url){var d,e,f,h,m;m=((m=a)!=null?(m=m.title_with_entities)!=null?m.text:m:m)||"";h=((h=a)!=null?(h=h.animated_media)!=null?h.animated_image_attribution:h:h)||"";h=h||((h=a)!=null?(h=h.source)!=null?h.text:h:h)||"";var n=a.action_links||[];n=b("first")(n.filter(function(a){return a.__typename==="ArticleContextActionLink"&&a.object_id}));f=(f=a)!=null?(f=f.media)!=null?(f=f.small_image)!=null?f.uri:f:f:f;e=(e=a)!=null?(e=e.media)!=null?(e=e.image)!=null?e.width:e:e:e;d=(d=a)!=null?(d=d.media)!=null?(d=d.image)!=null?d.height:d:d:d;var o=null;f&&e&&d&&(e<j||d<k||c!=="none"||this.props.isTextInMediaComponentOverflow)&&(o=i.jsx("div",{className:"_6z27",children:i.jsx(b("Image.react"),{width:l,height:l,src:f})}));return i.jsxs("div",{className:"_68xc",children:[i.jsxs(b("Link.react"),{onClick:this.$1,onMouseUp:function(a){return a.stopPropagation()},href:a.url,target:"_blank",className:"_3ddv",children:[o,i.jsxs("div",{className:"_68xd",children:[i.jsx(b("LineClamp.react"),{lines:2,className:"_68xe"+(n!==null?" _6q76":""),children:m}),i.jsxs("div",{className:"_68xf",children:[i.jsx(b("Image.react"),{className:"_15iz",src:g("533519")}),h]})]})]}),i.jsx(b("FBStoriesIntegrityContext.react"),{onLinkClick:this.$2,integrityInfo:n})]})}}return null};d.$3=function(a){this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.threadID&&b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:a,thread_id:this.props.currentThreadData.threadID})};return c}(i.Component);e.exports=a}),null);
__d("FBStoriesViewersAnchor.react",["ix","cx","fbt","Image.react","React","asset","emptyFunction","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){return c.$1=a},c.$3=function(a){a.stopPropagation();a.preventDefault();if(c.props.disabled)return;c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.totalViewers;if(a<=0)return null;a=b("intlSummarizeNumber")(a);var c=this.props.color==="light"?g("380946"):g("404279");return j.jsxs("div",{className:"_1w7c"+(this.props.color==="light"?" light":"")+(this.props.color==="dark"?" dark":"")+(this.props.disabled?" disabled":"")+(this.props.highlighted?" highlighted":""),ref:this.$2,onMouseDown:this.$3,onMouseUp:function(a){return a.stopPropagation()},children:[j.jsx(b("Image.react"),{src:c}),j.jsx("span",{className:"_2lc0",children:this.props.showTotalViewerString?i._("Seen by {count}",[i._param("count",a)]):a})]})};return c}(j.Component);a.defaultProps={onClick:b("emptyFunction"),color:"light",showTotalViewerString:!1,disabled:!1};e.exports=a}),null);
__d("FBStoriesResults.react",["cx","React","intlSummarizeNumber"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:"_70p3",children:a.options.map(function(a,c){return h.jsxs("div",{className:"_70p4",children:[h.jsx("div",{className:"_70p5",children:b("intlSummarizeNumber")(a.count)}),h.jsx("div",{className:"_70p6",children:a.description})]},c)})})}e.exports=a}),null);
__d("FBStoryThreadViewersReactions.react",["cx","FBEmoji.react","React","UFIReactionIconImpl.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={SURPRISED:"\ud83d\ude2e",LAUGHING:"\ud83d\ude06",SAD:"\ud83d\ude22",RED_WITH_ANGER:"\ud83d\ude21",ANGRY:"\ud83d\ude20",THUMB_UP:"\ud83d\udc4d",RED_HEART:"\u2764\ufe0f",HEART:"\u2764"};function a(a){a=a.emojiUnicodes;if(a.length===0)return null;var c=function(a,c){var d=function(a){return h.jsx(b("UFIReactionIconImpl.react"),{className:"_6j3j _6j3k",reaction:a},c)};switch(a){case i.SURPRISED:return d(3);case i.LAUGHING:return d(4);case i.RED_WITH_ANGER:case i.ANGRY:return d(8);case i.SAD:return d(7);case i.THUMB_UP:return d(1);case i.RED_HEART:case i.HEART:return d(2);default:return h.jsx(b("FBEmoji.react"),{codepoints:[a],size:16},c)}};return h.jsx(h.Fragment,{children:a.slice(-6).map(c)})}e.exports=a}),null);
__d("FBStorySidePaneUserList.react",["cx","FBStoriesGatingConfig","FBStoryThreadViewersReactions.react","Image.react","ProfileLink.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.data.map(function(c,d){return h.jsxs("div",{className:"_2lc3"+(a.props.renderStatus?"":" inlineItem"),children:[h.jsx(b("Image.react"),{src:(d=c)!=null?(d=d.profile_picture)!=null?d.uri:d:d,className:"_2lc4"}),h.jsxs("div",{className:"_6iz1",children:[c.is_messenger_only?h.jsx("span",{className:"_2lc6",children:c.name}):h.jsx(b("ProfileLink.react"),{target:"_blank",uid:c.id,children:c.name}),c.isNewViewer&&h.jsx(j,{}),h.jsxs("div",{className:"_6ix9",children:[h.jsx(i,{reactionStickers:c.reactionStickers}),b("FBStoriesGatingConfig").isLightweightReactionsViewerSheetEnabled&&h.jsx(b("FBStoryThreadViewersReactions.react"),{emojiUnicodes:c.reactions})]})]}),a.props.renderStatus&&a.props.renderStatus(c.id)]},c.id)});return h.jsxs("div",{children:[c,this.props.children]})};return c}(h.Component);var i=function(a){a=a.reactionStickers;return!a||a.length===0?null:a.map(function(a){var c=a.stickerID;a=a.imgURL;return h.jsx(b("Image.react"),{className:"_6w0i",src:a},c)})},j=function(a){return h.jsx("span",{className:"_2lc9"})};e.exports=a}),null);
__d("XEventMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/ajax/event_message/",{app_id:{type:"Int"},entry_point:{type:"String"},id:{type:"Int",required:!0},type:{type:"Int",required:!0},surface:{type:"String"},preselected_ids:{type:"FBIDVector"},post_id:{type:"FBID"},acontext:{type:"String"}})}),null);
__d("FBStoriesEventConnections.react",["ix","cx","EventActionContext","EventsActionsLogger","EventsRSVPStrings","FBStoriesResults.react","FBStoriesStrings","FBStorySidePaneUserList.react","FDSButton.react","FDSButtonGroup.react","Image.react","React","XEventMessageController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("EventsRSVPStrings").goingFBT,j=b("EventsRSVPStrings").interestedFBT,k=b("EventsRSVPStrings").messageFBT,l=b("FBStoriesStrings").friendsFBT,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.STORY_VIEWER_SHEET,acontext:b("EventActionContext").getFromString(this.props.actionContext)})};d.render=function(){var a,c=this,d=this.props,e=d.eventID,f=d.eventInfoBar.responses_to_event;d=d.viewers;var h=(a=(a=f.find(function(a){return a.response==="GOING"}))==null?void 0:a.responders.edges)!=null?a:[],n=(f=(a=f.find(function(a){return a.response==="INTERESTED"}))==null?void 0:a.responders.edges)!=null?f:[];if(h.length===0&&n.length===0)return null;a=b("XEventMessageController").getURIBuilder().setInt("id",e).setInt("type",7).setString("surface",b("EventsActionsLogger").Surface.FACEBOOK_STORY).setString("acontext",this.props.actionContext).getURI();return m.jsxs(m.Fragment,{children:[m.jsx(b("FBStoriesResults.react"),{options:[{count:h.length,description:i},{count:n.length,description:j}]}),m.jsx(b("FDSButtonGroup.react"),{density:"flex",children:m.jsx(b("FDSButton.react"),{style:{margin:"12px"},icon:m.jsx(b("Image.react"),{src:g("499159")}),label:k,maxWidth:2048,href:a,rel:"dialog",size:"medium",use:"default",onClick:function(){return b("EventsActionsLogger").log(c.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.MESSAGE_BUTTON,acontext:b("EventActionContext").getFromString(c.props.actionContext)})}})}),m.jsx("div",{className:"_1w77",children:l}),m.jsx(b("FBStorySidePaneUserList.react"),{data:d.filter(function(a){return h.find(function(b){return b.node.id===a.id})}),renderStatus:function(a){return m.jsx("div",{className:"_70q4",children:i})}}),m.jsx(b("FBStorySidePaneUserList.react"),{data:d.filter(function(a){return n.find(function(b){return b.node.id===a.id})}),renderStatus:function(a){return m.jsx("div",{className:"_70q4",children:j})}})]})};return c}(m.Component);e.exports=a}),null);
__d("FBStoriesPollResults.react",["cx","fbt","React","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.poll)return null;var a=this.props.poll.poll_options;a=a.map(function(a,c){return i.jsxs("div",{className:"_4k6j",children:[i.jsx("div",{className:"_4k6k",children:b("intlSummarizeNumber")(a.vote_count)}),i.jsx("div",{className:"_4k6l",children:h._("Votes for {poll option title}",[h._param("poll option title",a.text.toUpperCase())])})]},c)});return i.jsx("div",{className:"_4k6i",children:a})};return c}(i.Component);e.exports=a}),null);
__d("FBStorySidePaneSectionHeader.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_1w73",children:this.props.children})};return b}(h.Component);e.exports=a}),null);
__d("FBStorySidePaneSectionPadding.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_3res"})};return b}(h.PureComponent);e.exports=a}),null);
__d("FBStoryThreadViewers.react",["ix","cx","CameraPostTypesHelper","EventActionContext","EventsActionsLogger","FBStoriesEventConnections.react","FBStoriesPollResults.react","FBStoriesStrings","FBStoriesViewersAnchor.react","FBStorySidePaneSectionHeader.react","FBStorySidePaneSectionPadding.react","FBStorySidePaneUserList.react","Image.react","React","XUISpinner.react","asset","gkx","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i=(a=b("FBStoriesStrings")).connectionsFBT,j=a.followersFBT,k=a.friendsFBT,l=a.messengerConnectionsFBT,m=a.newCountFBT,n=a.noFriendsViewedStoryFBT,o=a.othersFBT,p=b("React");function q(a,b){return!a||a.length===0?null:a.find(function(a){return a.__typename===b})}function r(a){a=q(a,"StoryOverlayPollSticker");return a!=null&&a.__typename==="StoryOverlayPollSticker"?a:null}function s(a){a=q(a,"StoryOverlayEventInfoBar");return a!=null&&a.__typename==="StoryOverlayEventInfoBar"?a:null}c=function(a){var c,d=a.viewers,e=d.totalCount,f=d.totalNew,g=d.friends,h=d.connections,j=d.nonFriendsCount;d=d.hasNewViewers;var k=a.cameraPostType;if(e===0)return p.jsx("div",{children:p.jsx(b("XUISpinner.react"),{background:"light",className:"_1v68",size:"small"})});var n=b("gkx")("678253")&&h.length>0,o=j>0;c=(c=r(a.threadOverlays))==null?void 0:c.poll;var q=s(a.threadOverlays);e=p.jsxs(b("FBStorySidePaneSectionHeader.react"),{children:[p.jsx(b("FBStoriesViewersAnchor.react"),{totalViewers:e,highlighted:!1,color:"dark",showTotalViewerString:!0}),d&&p.jsx("div",{className:"_1wbm",children:m(f)})]});d=b("gkx")("709977");f=d&&q!=null?p.jsx(b("FBStoriesEventConnections.react"),{actionContext:b("EventActionContext").toString(b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.FACEBOOK_STORY,mechanism:b("EventsActionsLogger").Mechanism.EVENT_INFO_BAR,extra_data:JSON.stringify({action_button_type:q.event_info_bar_style,event_id:q.event_id,story_id:a.threadID,events_story_type:"personal"})})),eventID:q.event_id,eventInfoBar:q.event_info_bar,viewers:g}):null;d=n?p.jsx("div",{className:"_1w77",children:i}):o?p.jsx(b("FBStorySidePaneSectionPadding.react"),{}):null;a=p.jsx(b("FBStorySidePaneUserList.react"),{data:h,renderStatus:v(c),children:o&&p.jsx(u,{nonFriendsCount:j,isMultiAuthor:b("CameraPostTypesHelper").isMultiAuthor(k)})});q=n&&p.jsx("div",{className:"_1w74",children:l});h=p.jsxs(p.Fragment,{children:[d,a,q]});return p.jsxs("div",{className:"_434n",children:[e,p.jsxs("div",{className:"_434o",children:[p.jsx("div",{className:"_1w76",children:f}),p.jsxs("div",{className:"_1w76",children:[p.jsx(t,{friendsData:g,poll:c}),h]})]})]})};var t=function(a){var c=p.jsx("div",{className:"_1w77",children:k});return a.friendsData.length===0?p.jsxs(p.Fragment,{children:[p.jsx(b("FBStoriesPollResults.react"),{poll:a.poll}),c,p.jsxs("div",{className:"_2lc3",children:[p.jsx("div",{className:"_2flc",children:p.jsx(b("Image.react"),{src:g("359067")})}),p.jsx("span",{className:"_2fld",children:n})]},"fnull")]}):p.jsxs(p.Fragment,{children:[p.jsx(b("FBStoriesPollResults.react"),{poll:a.poll}),c,p.jsx(b("FBStorySidePaneUserList.react"),{data:a.friendsData,renderStatus:v(a.poll)},"fs")]})},u=function(a){var c=a.isMultiAuthor?o:j;a=b("intlSummarizeNumber")(a.nonFriendsCount);return p.jsxs("div",{className:"_2lc3",children:[p.jsx("div",{className:"_1wbp",children:a}),p.jsx("span",{className:"_1wbo",children:c})]})},v=function(a){return a?function(b){var c=a.poll_options.find(function(a){a=a==null?void 0:(a=a.voters)==null?void 0:a.nodes;return a!=null&&a.find(function(a){return a.id===b})});return c?p.jsx("div",{className:"_70q4",children:c.text.toUpperCase()}):null}:null};e.exports=c}),null);
__d("FBStoryArchivedCardView.react",["ix","cx","fbt","invariant","ActorURI","CameraPostDeletedToast.react","CameraPostMedia.react","CameraPostMediaHelper","CameraPostOwnerView.react","CameraPostReportButton.react","CurrentUser","Event","FBStoriesArchiveLoggingHelper","FBStoriesDeleteConfirmationDialog.react","FBStoriesFooterMetadataRenderer.react","FBStoriesGraphQLAPI","FBStoriesInteractiveFeedbackOverlay.react","FBStoriesLinkRenderer.react","FBStoriesNavigationDirection","FBStoriesThreadNavigationButton.react","FBStoriesViewersAnchor.react","FBStoryThreadViewers.react","Image.react","ImagePositioner.react","Keys","Locale","React","ReactCSSTransitionGroup","ReactMenu","ShimButton.react","Visibility","XPagesComposerDialogController","XReactSproutComposerShareMediaFromArchiveDialogController","XUIButton.react","asset","clearTimeout","createCancelableFunction","emptyFunction","setTimeout","SegmentedProgressBar.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("ReactMenu").Item,m={enter:"_1gs8",enterActive:"_1gs9",leave:"_1gsa",leaveActive:"_1gsc"},n=1e3,o=200,p=200,q=200,r=500,s=500,t={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=[],d.state={isPaused:!1,isShowingDeletedToast:!1,isViewersPanelShown:!1,showPausedOverlay:!1,showStoryUI:!0,isDeleteConfirmationDialogShown:!1,navDirectionOnClick:b("FBStoriesNavigationDirection").STAY_HERE},d.$11=!1,d.$33=function(a){d.setState({navDirectionOnClick:a})},d.$34=function(){d.props.onNextThread()},d.$32=function(){d.props.onPrevThread()},d.$16=function(a){if(a!==d.$5&&a){var c;(c=b("Event")).listen(a,"keydown",function(a){return d.$39(a)},c.Priority.URGENT);c.listen(a,"keyup",function(a){return d.$40(a)},c.Priority.URGENT);a.focus()}d.$5=a},d.$36=function(a){d.$12(!1,!0);a.stopPropagation();a=d.props.cardID;if(!a)return;b("FBStoriesArchiveLoggingHelper").openMediaInComposerLog(a,d.props.mediaID)},d.$19=function(){d.$12(!1,!0),d.$7=!0},d.$20=function(){!d.$6&&!d.state.isViewersPanelShown&&d.$13(),d.$6=!1,d.$7=!1},d.$21=function(){d.$6=!0,d.$12(!1,!1)},d.$22=function(){if(d.state.isPaused)return;d.$12(!1,!0)},d.$41=function(){var a=!d.state.isViewersPanelShown;d.setState(function(a){return{isViewersPanelShown:!a.isViewersPanelShown}});a&&d.$15();d.$7||(a?d.$12(!1,!0):d.$13())},d.$27=function(){d.setState({isViewersPanelShown:!1}),d.$7||d.$12(!1,!0)},d.$28=function(a){d.$7||d.$12(!1,!0),a.stopPropagation()},d.$17=function(){d.setState({isDeleteConfirmationDialogShown:!0})},d.$38=function(){d.setState({isDeleteConfirmationDialogShown:!1})},d.$37=function(){d.setState({isDeleteConfirmationDialogShown:!1}),d.$42()},d.$30=function(){d.$34()},d.$45=b("createCancelableFunction")(function(a,c){d.setState({isShowingDeletedToast:!1}),c&&(d.$10=b("setTimeout")(function(){d.$10=void 0,c&&c()},a))}),d.$44=b("createCancelableFunction")(function(a,c,e){d.setState({isShowingDeletedToast:!0},function(){d.$9=b("setTimeout")(function(){d.$9=void 0,d.$45(c,e)},a)})}),d.$29=function(a){d.state.isPaused?d.$13():d.$12(!1,!0)},d.$23=function(a){b("clearTimeout")(d.$4),d.$4=b("setTimeout")(function(){if(d.state.isPaused)return;d.$12(!0,!1)},r)},d.$24=function(a){b("clearTimeout")(d.$4);if(a.target.tagName==="INPUT")return;if(d.state.isPaused)d.$13();else if(a.target.className!=="_ide")return},d.$25=function(a){d.$1=a.target},d.$26=function(a){d.state.isPaused&&d.setState({showPausedOverlay:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c;this.$2=[(c=b("Visibility")).addListener(c.HIDDEN,function(){if(a.state.isPaused){a.$11=!1;return}a.$11=!0;a.$12(!1,!0)}),c.addListener(c.VISIBLE,function(){a.$11&&a.$13()})];b("FBStoriesArchiveLoggingHelper").openMediaLog(this.props.storyID,this.props.mediaID)};d.componentDidUpdate=function(a,b){b.isViewersPanelShown===!0&&this.state.isViewersPanelShown===!1&&this.$14()};d.$15=function(){b("FBStoriesArchiveLoggingHelper").openSeenSummaryLog(this.props.storyID,this.props.mediaID)};d.render=function(){var a=this,c="_4tkv _24o3",d=b("CurrentUser").getID(),e=this.props.currentThreadData;if(!e)return k.jsx("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:-1,ref:this.$16,className:c});var f=e.media,h=e.cameraPostType,j=b("CameraPostMediaHelper").getType(f),n=b("CameraPostMediaHelper").getWidth(f),r=b("CameraPostMediaHelper").getHeight(f),s=b("CameraPostMediaHelper").isSphericalPhoto(f),u,v,w,x="",y,z,A,B={},C,D,E;if(!e.isLive){var F=e.time,G=e.participants,H=e.bucketOwner,I=e.threadOwner,J=e.cameraPostSource,K=e.wwwTextFormatMetadata,L=e.textFormatMetadata,M=e.instagramProfileURL,N=e.originalPostStoryAttribution,O=e.withTags,P=e.inlineActivities,Q=e.explicitLocation,R=e.activityDescription;w=e.threadID;x=e.messageText;y=e.isPlainText;z=e.backdropImage;A=e.defaultBackground;D=e.linkAttachment;E=e.mediaBackground;v={rootMessageText:x,wwwTextFormatMetadata:K,textFormatMetadata:L};B={withTags:O,inlineActivities:P,explicitLocation:Q,activityDescription:R};e=[];e.push(k.jsxs(l,{disabled:!1,onClick:this.$17,children:[k.jsx(b("Image.react"),{src:g("483828")}),this.$18(j)]},"delete_own_thread"));C=k.jsxs("span",{children:[k.jsx(b("SegmentedProgressBar.react"),{paused:this.state.isPaused,currentSegmentIndex:this.props.currentStoryCardIndex,currentSegmentPercentComplete:this.props.currentThreadPercentDone,segmentCount:this.props.threadsCount}),k.jsx(b("CameraPostReportButton.react"),{canReportThreadToFacebook:!1,threadID:w,onPopoverShow:this.$19,onPopoverHide:this.$20,onPopoverItemClick:this.$21,onPopoverItemFocus:this.$22,children:e})]});u=k.jsx(b("CameraPostOwnerView.react"),{cameraPostType:h,cameraPostSource:J,isSphericalPhoto:s,participants:G,bucketOwner:H,threadID:w,threadOwner:I,time:F,instagramProfileURL:M,originalPostStoryAttribution:N})}K=200;L=this.state.showPausedOverlay&&!s?k.jsx(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:K,transitionLeaveTimeout:K,children:k.jsx(b("ShimButton.react"),{"aria-label":i._("Play"),className:"_ida",onMouseDown:this.$23,onMouseUp:this.$24,onKeyPress:this.$24,tabIndex:0,children:k.jsx("span",{className:"_idd"})})}):null;O=b("CameraPostMedia.react").getMediaSizeBasedOnWindow();P=k.jsxs("span",{children:[k.jsxs("div",{id:"fbStoryContainer",role:"tabpanel",ref:this.$16,tabIndex:0,className:c,onFocus:this.$25,onMouseOut:this.$26,onMouseMove:function(){},children:[k.jsxs("div",{className:"_24o4",children:[k.jsx(b("CameraPostMedia.react"),{forceHD:!0,backdropImage:z,linkAttachment:D,mediaBackground:E,defaultBackground:A,storyMetadata:B,openWithSidePanel:this.$27,onLinkClick:this.$28,media:f,loop:!1,paused:this.state.isPaused,onTimeUpdate:this.props.onTimeUpdate,onMouseDown:s?null:this.$23,onMouseUp:s?null:this.$24,onClick:s?this.$29:null,onDone:this.$30,onMuteMouseUp:function(){},isBucketLive:!1,isMediaMuted:!1,cameraPostType:h,userID:d,threadID:w,showMuteButton:!1,satpData:v,messageText:x,isPlainText:y,onVideoPaused:function(){a.state.isPaused||a.$12(!1,!0)},children:k.jsx(b("ReactCSSTransitionGroup"),{className:"_2up9",transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q,children:this.$31()})}),L,k.jsxs(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q,children:[this.state.showStoryUI&&u,k.jsx(b("FBStoriesThreadNavigationButton.react"),{allowedNavType:this.props.allowedNavType,direction:b("FBStoriesNavigationDirection").PREV,enableNavigation:this.props.enableNavigation,navDirectionOnClick:this.state.navDirectionOnClick,directionChange:this.$32,showPausedOverlay:this.state.showPausedOverlay,showStoryUI:this.state.showStoryUI,setNavDirection:this.$33,rootElem:this.$5}),k.jsx(b("FBStoriesThreadNavigationButton.react"),{allowedNavType:this.props.allowedNavType,direction:b("FBStoriesNavigationDirection").NEXT,enableNavigation:this.props.enableNavigation,navDirectionOnClick:this.state.navDirectionOnClick,directionChange:this.$34,showPausedOverlay:this.state.showPausedOverlay,showStoryUI:this.state.showStoryUI,setNavDirection:this.$33,rootElem:this.$5})]}),k.jsx(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q}),k.jsx(b("ReactCSSTransitionGroup"),{transitionName:m,transitionEnterTimeout:o,transitionLeaveTimeout:o,children:k.jsx(b("CameraPostDeletedToast.react"),{visible:this.state.isShowingDeletedToast},this.state.isShowingDeletedToast)})]},w),k.jsx(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q,children:k.jsx("div",{children:this.state.showStoryUI&&C})}),k.jsx("div",{className:"_2n_t",children:k.jsx(b("XUIButton.react"),{className:"_2n_u",image:k.jsx(b("Image.react"),{src:g("372092")}),label:i._("Share"),href:this.$35(this.props.cardID,this.props.ownerID,this.props.storyOwnerType),onClick:this.$36,rel:"dialog-post"})}),k.jsx(b("ImagePositioner.react"),{backgroundSize:"fitWidth",width:O.width,height:O.height,imageWidth:n,imageHeight:r,children:function(c){var d=c.top,e=c.left,f=c.width;c=c.height;return k.jsx(b("FBStoriesInteractiveFeedbackOverlay.react"),{currentThreadID:w,topPx:d,leftPx:e,widthPx:f,heightPx:c,overlays:a.props.threadOverlays,isConsumer:!1})}})]}),k.jsx(b("FBStoriesDeleteConfirmationDialog.react"),{confirmAction:this.$37,hideAction:this.$38,mediaType:j,shown:this.state.isDeleteConfirmationDialogShown})]});Q=null;this.state.isViewersPanelShown&&(Q=k.jsx("div",{className:"_115r _397_",children:k.jsx(b("FBStoryThreadViewers.react"),{threadID:w,viewers:this.props.threadViewers,threadOverlays:this.props.threadOverlays,cameraPostType:h})}));return Q?k.jsxs("div",{className:"_115q",children:[k.jsx(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q,children:Q}),P]}):P};d.$14=function(){this.props.storyID&&b("FBStoriesGraphQLAPI").updateStorySeenReciept(this.props.storyID)};d.$42=function(){var a=this;this.$12(!1,!1);var b=function(){var b=a.props.cardID;a.$13();b&&a.props.onDeleteCurrentThread()};this.$43(b)};d.$43=function(a){this.$44(n,o,a)};d.$39=function(a){if(a.getModifiers().any||a.target!==this.$5||!this.props.enableNavigation)return!0;a=b("Event").getKeyCode(a);switch(a){case b("Keys").LEFT:b("Locale").isRTL()?this.$34():this.$32();return!1;case b("Keys").RIGHT:b("Locale").isRTL()?this.$32():this.$34();return!1;default:return null}};d.$40=function(a){if(a.getModifiers().any||a.target!==this.$5)return!0;var c=b("Event").getKeyCode(a);switch(c){case b("Keys").SPACE:if(this.$7||this.state.isViewersPanelShown)return!1;!this.state.isPaused?this.$12(!1,!0):this.$13();a.preventDefault();a.stopImmediatePropagation();return!1;default:return null}};d.$12=function(a,c){var d=this;this.setState({isPaused:!0,showStoryUI:!0,showPausedOverlay:c});a&&(b("clearTimeout")(this.$3),this.$3=b("setTimeout")(function(){d.setState({showStoryUI:!1})},s))};d.$13=function(){b("clearTimeout")(this.$4),b("clearTimeout")(this.$3),this.setState({isPaused:!1,showPausedOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1})};d.$35=function(a,c,d){switch(d){case"page":c!==null&&c!==void 0||j(0,13388);return b("ActorURI").create(b("XPagesComposerDialogController").getURIBuilder().setString("entry_point","pages_archived_story_card_viewer").setEnum("open_composer","MEDIA").setFBID("archived_story_card_id",a).getURI(),c);default:return b("XReactSproutComposerShareMediaFromArchiveDialogController").getURIBuilder().setFBIDSet("archivedStoryCardIDs",[a]).getURI()}};d.$18=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return i._("Delete photo");case"VIDEO":return i._("Delete video");default:return i._("Delete")}};d.$31=function(){var a=k.jsx(b("FBStoriesViewersAnchor.react"),{totalViewers:this.props.threadViewers.totalCount,highlighted:this.props.threadViewers.hasNewViewers,onClick:this.$41,disabled:!1,color:"light"});return k.jsxs(k.Fragment,{children:[k.jsx(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.$27,onLinkClick:this.$28}),k.jsx(b("FBStoriesLinkRenderer.react"),{currentThreadData:this.props.currentThreadData,onLinkClick:this.$28}),k.jsx("div",{className:"_2upa",children:a})]})};d.componentWillUnmount=function(){this.$13(),this.$2.forEach(function(a){return a.remove()}),this.$2=[],this.state.isViewersPanelShown===!0&&this.$14(),this.$44.cancel(),this.$45.cancel(),[this.$8,this.$9,this.$10].forEach(function(a){a&&b("clearTimeout")(a)})};return c}(k.Component);a.defaultProps={allowedNavType:"NEXT_ONLY",cardID:null,isLandscape:!1,currentStoryCardIndex:0,currentThreadData:null,currentThreadPercentDone:0,enableNavigation:!1,threadOverlays:[],onDone:c=b("emptyFunction"),onDeleteCurrentThread:c,onNextThread:c,onPrevThread:c,onTimeUpdate:function(a){}};e.exports=a}),null);
__d("PagesStoryArchiveActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({FETCH_STORY_ARCHIVE_DATA:null,LOAD_STORY_ARCHIVE_DATA_SUCCESS:null,LOAD_STORY_ARCHIVE_INTRO_DATA_SUCCESS:null,RESET_STORY_ARCHIVE_STORE:null,SAVE_STORY_ARCHIVE_SETTINGS_CLICK:null,SAVE_STORY_ARCHIVE_SETTINGS_SUCCESS:null,TOGGLE_STORY_ARCHIVE_INTRO_DIALOG:null,TOGGLE_STORY_ARCHIVE_SETTINGS_DIALOG:null},"PagesStoryArchiveActionTypes");e.exports=a}),null);
__d("PagesStoryArchiveActions",["PagesSharingDispatcher","PagesStoryArchiveActionTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){b("PagesSharingDispatcher").dispatch({type:b("PagesStoryArchiveActionTypes").FETCH_STORY_ARCHIVE_DATA})};c=function(a){b("PagesSharingDispatcher").dispatch({pagesStoryArchiveData:a,type:b("PagesStoryArchiveActionTypes").LOAD_STORY_ARCHIVE_DATA_SUCCESS})};d=function(a){b("PagesSharingDispatcher").dispatch({pagesStoryArchiveData:a,type:b("PagesStoryArchiveActionTypes").LOAD_STORY_ARCHIVE_INTRO_DATA_SUCCESS})};f=function(a){b("PagesSharingDispatcher").dispatch({pagesStoryArchiveData:a,type:b("PagesStoryArchiveActionTypes").SAVE_STORY_ARCHIVE_SETTINGS_SUCCESS})};var g=function(){b("PagesSharingDispatcher").dispatch({type:b("PagesStoryArchiveActionTypes").SAVE_STORY_ARCHIVE_SETTINGS_CLICK})},h=function(a){b("PagesSharingDispatcher").dispatch({isShown:a,type:b("PagesStoryArchiveActionTypes").TOGGLE_STORY_ARCHIVE_INTRO_DIALOG})},i=function(a){b("PagesSharingDispatcher").dispatch({isShown:a,type:b("PagesStoryArchiveActionTypes").TOGGLE_STORY_ARCHIVE_SETTINGS_DIALOG})},j=function(){b("PagesSharingDispatcher").dispatch({type:b("PagesStoryArchiveActionTypes").RESET_STORY_ARCHIVE_STORE})};e.exports={fetchStoryArchiveData:a,handleStoryArchiveDataLoadSuccess:c,handleStoryArchiveIntroDataLoadSuccess:d,handleStoryArchiveSettingsSaveSuccess:f,handleStoryArchiveSettingsSaveClick:g,toggleStoryArchiveIntroDialog:h,toggleStoryArchiveSettingsDialog:i,resetStoryArchiveStore:j}}),null);
__d("PagesStoryArchiveCardViewerQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2116326418446703"};b.getQueryID=function(){return"771906856509019"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XFetchPagesStoryArchiveDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/sharing/story/fetch_pages_story_archive_data/",{cursor:{type:"String"},ref_source:{type:"Enum",enumType:1},saving_mode:{type:"Enum",enumType:1}})}),null);
__d("PagesStoryArchiveDataLoader",["ActorURI","AsyncRequest","PagesStoryArchiveActions","PagesStoryArchiveCardViewerQueryWebGraphQLQuery","WebGraphQL","XFetchPagesStoryArchiveDataController","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("PagesStoryArchiveActions")).fetchStoryArchiveData,h=a.handleStoryArchiveDataLoadSuccess,i=a.handleStoryArchiveIntroDataLoadSuccess,j=a.handleStoryArchiveSettingsSaveSuccess,k=500;c=function(a,c){g();var d=b("XFetchPagesStoryArchiveDataController").getURIBuilder().setString("cursor",c).getURI();d=b("ActorURI").create(d,a);new(b("AsyncRequest"))(d).setHandler(function(a){var d=c!==null?k:0;b("setTimeout")(function(){h(a.payload)},d)}).setErrorHandler(function(a){}).send()};d=function(a,c){c=b("XFetchPagesStoryArchiveDataController").getURIBuilder().setEnum("saving_mode",c).getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))(c).setHandler(function(a){j(a.payload)}).setErrorHandler(function(a){}).send()};f=function(a,c,d,e,f){return b("WebGraphQL").exec(new(b("PagesStoryArchiveCardViewerQueryWebGraphQLQuery"))({page_id:a,current_id:c,current_time:d,lower_bound_time:e,upper_bound_time:f}))};a=function(a){var c=b("XFetchPagesStoryArchiveDataController").getURIBuilder().setEnum("ref_source","STORY_ARCHIVE_INTRO_DIALOG").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))(c).setHandler(function(a){i(a.payload)}).setErrorHandler(function(a){}).send()};e.exports={loadPagesStoryArchiveData:c,saveAndReloadPagesStoryArchiveData:d,loadArchivedCardsData:f,loadStoryArchiveIntroData:a}}),null);
__d("FBStoryArchivedCardViewContainer.react",["invariant","CameraPostGraphQLAPI","CurrentUser","ErrorBoundary.react","FBStoriesArchiveLoggingHelper","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesStoryCardHelper","FBStoryArchivedCardView.react","PagesStoryArchiveDataLoader","React","StoriesLoggerSession","XUISpinner.react","cxMargin","formatDate","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={allStoryCards:[],allowedNavType:"NEXT_ONLY",currentStoryCardIndex:0,currentThreadData:null,currentThreadPercentDone:0,enableNavigation:!1,friendsSeenCount:0,isLandscape:!1,isLoaded:!1,nonFriendsSeenCount:0,threadsCount:1,threadOverlays:[],threadViewers:{hasNewViewers:!1,friends:[],connections:[],nonFriendsCount:0,totalCount:0,totalNew:0}},d.$4=function(){var a=d.state.currentStoryCardIndex,c=d.state.allStoryCards;if(!c)return;var e=d.$12();if(!e)return;c.splice(a,1);var f=a===d.state.threadsCount-1;c.length===0||f?d.props.onHide&&d.props.onHide():d.setState({currentStoryCardIndex:a-1,enableNavigation:c.length>1,threadsCount:c.length},function(){c.length>1&&d.$5()});b("FBStoriesGraphQLAPI").deleteArchivedStoryCard(b("CurrentUser").getID(),e);b("FBStoriesArchiveLoggingHelper").deleteStoryCardLog(d.props.storyID,d.props.mediaID);d.props.onDeleted&&d.props.onDeleted()},d.$7=function(a){a=Math.min(100,Math.max(a,0));d.setState({currentThreadPercentDone:a});a===100&&!d.state.enableNavigation&&(d.props.onHide&&d.props.onHide())},d.$5=function(){if(d.state.allowedNavType==="PREV_ONLY"){d.props.onHide&&d.props.onHide();return}var a=d.state.currentStoryCardIndex+1;a<=d.state.threadsCount-1&&d.setState({currentStoryCardIndex:a,currentThreadPercentDone:0},function(){d.$9()})},d.$6=function(){if(d.state.allowedNavType==="NEXT_ONLY")return;var a=d.state.currentStoryCardIndex-1;a>=0&&d.setState({currentStoryCardIndex:a,currentThreadPercentDone:0},function(){d.$9()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=b("uuid")();b("StoriesLoggerSession").initialize(null,c,b("FBStoriesLoggingConstants").SOURCES.ARCHIVE);c=new Date(this.props.currentTime);var d=c.toISOString().substring(0,19),e=b("formatDate")(c,"Y-m-d",{skipPatternLocalization:!0});c=b("formatDate")(new Date(c.setDate(c.getDate()+1)),"Y-m-d",{skipPatternLocalization:!0});switch(this.props.storyOwnerType){case"page":this.props.ownerID!==null&&this.props.ownerID!==void 0||g(0,13388);b("promiseDone")(b("PagesStoryArchiveDataLoader").loadArchivedCardsData(this.props.ownerID,this.props.storyID,d,e,c),function(b){return a.$1(b)},function(b){return a.$2(b)});break;default:b("promiseDone")(b("FBStoriesGraphQLAPI").loadArchivedCardsData(this.props.storyID,d,e,c),function(b){return a.$3(b)},function(b){return a.$2(b)});break}};d.render=function(){return!this.state.isLoaded?h.jsx(b("XUISpinner.react"),{className:"_3-90",size:"large"}):h.jsx(b("ErrorBoundary.react"),{children:h.jsx(b("FBStoryArchivedCardView.react"),babelHelpers["extends"]({},this.props,this.state,{onDeleteCurrentThread:this.$4,onNextThread:this.$5,onPrevThread:this.$6,onTimeUpdate:this.$7}))})};d.$3=function(a){var b=this,c,d;d=(d=a)!=null?(d=d.viewer)!=null?(d=d.stories_data)!=null?(d=d.story_archive)!=null?(d=d.currentCard)!=null?d.edges:d:d:d:d:d;d=d?d.map(function(a){return a.node}):[];c=(c=a)!=null?(c=c.viewer)!=null?(c=c.stories_data)!=null?(c=c.story_archive)!=null?(c=c.afterCards)!=null?c.edges:c:c:c:c:c;c=c?c.map(function(a){return a.node}).filter(function(a){return a&&a.id!==b.props.storyID}):[];a=(a=a)!=null?(a=a.viewer)!=null?(a=a.stories_data)!=null?(a=a.story_archive)!=null?(a=a.beforeCards)!=null?a.edges:a:a:a:a:a;a=a?a.map(function(a){return a.node}).filter(function(a){return a&&a.id!==b.props.storyID}):[];a=a.reverse();this.$8(a,d,c)};d.$1=function(a){var b=this,c,d;d=(d=a)!=null?(d=d.page)!=null?(d=d.page_story_archive)!=null?(d=d.currentCard)!=null?d.edges:d:d:d:d;d=d?d.map(function(a){return a.node}):[];c=(c=a)!=null?(c=c.page)!=null?(c=c.page_story_archive)!=null?(c=c.afterCards)!=null?c.edges:c:c:c:c;c=c?c.map(function(a){return a.node}).filter(function(a){return a&&a.id!==b.props.storyID}):[];c=c.reverse();a=(a=a)!=null?(a=a.page)!=null?(a=a.page_story_archive)!=null?(a=a.beforeCards)!=null?a.edges:a:a:a:a;a=a?a.map(function(a){return a.node}).filter(function(a){return a&&a.id!==b.props.storyID}):[];this.$8(c,d,a)};d.$8=function(a,b,c){var d=this;a=a.concat(b,c);b=a?a.findIndex(function(a){return a&&a.id===d.props.storyID}):0;c=a.length;this.setState({threadsCount:c,allStoryCards:a,currentStoryCardIndex:b,enableNavigation:a.length>1});this.$9();this.$10()};d.$9=function(){var a=this.state.currentStoryCardIndex,c=this.state.threadsCount,d=this.$11();if(!d)return;var e=b("FBStoriesStoryCardHelper").getCurrentCardData(d,d.id),f=b("FBStoriesStoryCardHelper").getThreadViewers(d,!0),g=b("FBStoriesStoryCardHelper").getStoryOverlays(d),h=b("FBStoriesStoryCardHelper").getNonFriendsSeenCount(d),i=b("FBStoriesStoryCardHelper").getNonFriendsSeenCount(d);d=b("FBStoriesStoryCardHelper").isLandscape(d);a=b("FBStoriesStoryCardHelper").getAllowedNavigationType(a,c);this.setState({allowedNavType:a,currentThreadData:e,threadViewers:f,threadOverlays:g,nonFriendsSeenCount:h,friendsSeenCount:i,isLandscape:d,isLoaded:!0})};d.$12=function(){var a=this.state.currentStoryCardIndex,b=this.state.allStoryCards;if(!b)return null;b=b[a];return(a=b)!=null?a.id:a};d.$11=function(){var a=this.state.allStoryCards;if(!a)return null;var b=this.state.currentStoryCardIndex;return a[b]};d.$10=function(){var a=this.$11();if(!a)return;Object.assign(a,{isCardViewed:!0});a=this.$12();var c=this.state.currentThreadData;if(!c||c.isLive)return;var d=c.latestMessageID;c=c.cameraPostType;a&&b("CameraPostGraphQLAPI").markThreadSeen(b("CurrentUser").getID(),a,d,c,a);this.props.onResetUnseenStory&&this.props.onResetUnseenStory()};d.$2=function(a){};return c}(h.Component);e.exports=a}),null);
__d("ManagedSpotlightViewer",["DOM","React","ReactDOM","SpotlightViewer","SpotlightViewerClose","ge"],(function(a,b,c,d,e,f){"use strict";var g=b("React");e.exports={ref:null,bootstrap:function(a){var b=this,c=a.wrappedComponent;a=a.props;c=g.createElement(c,babelHelpers["extends"]({},a,{ref:function(a){b.ref=a}}));this.renderComponent(c)},renderComponent:function(a){var c=this,d=!1,e=function(){c.ref&&Object.prototype.hasOwnProperty.call(c.ref,"logSpotlightHide")&&!d&&(c.ref.logSpotlightHide(),d=!0),b("ReactDOM").unmountComponentAtNode(f),document.body&&f.parentNode===document.body&&document.body.removeChild(f)},f=b("ge")("spotlight_viewer_container");f||(f=b("DOM").create("div",{id:"spotlight_viewer_container"}),document.body&&document.body.appendChild(f));a=g.cloneElement(a,{onHide:e});e=g.jsxs(b("SpotlightViewer"),{open:!0,onHide:e,children:[g.jsx(b("SpotlightViewerClose"),{isFixed:!0,position:"right",onClick:e}),a]});b("ReactDOM").render(e,f)}}}),null);
__d("ArchivedStoryCard.react",["ix","cx","fbt","requireCond","Event","FBStoriesArchiveLoggingHelper","FBStoriesQPLUtils","cr:1268827","FBStoryArchivedCardViewContainer.react","FDSButton.react","Image.react","ManagedSpotlightViewer","React","ShimButton.react","StoriesArchiveCardStoreForBlue","StoriesLoggingConstants","Timestamp.react","XReactSproutComposerShareMediaFromArchiveDialogController","asset","formatDate","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={deleted:!1,unseenStoryReset:!1},d.$3=function(){var a=d.props.storyID;if(!a)return;b("FBStoriesArchiveLoggingHelper").selectMediaLog(d.props.id,d.props.mediaID);if(b("cr:1268827"))b("cr:1268827").getInstance().openDialogArchive({bucketID:d.props.creationTime.toString(),currentTime:d.props.creationTime,cardID:a,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE,traySessionID:null,tilePosition:void 0,trackingString:null,viewerSessionID:b("uuid")()});else{a=j.jsx(b("FBStoryArchivedCardViewContainer.react"),{cardID:d.props.id,currentTime:d.props.creationTime,mediaID:d.props.mediaID,onDeleted:d.$1,onResetUnseenStory:d.$2,ownerID:d.props.ownerID,storyID:a,storyOwnerType:d.props.storyOwnerType});b("ManagedSpotlightViewer").renderComponent(a)}},d.$1=function(){d.setState({deleted:!0})},d.$4=function(a){b("Event").stop(a),b("FBStoriesArchiveLoggingHelper").openMediaInComposerLog(d.props.id,d.props.mediaID)},d.$2=function(){d.setState({unseenStoryReset:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){try{var a=this.props.storyID;if(a){var c={onDeleted:this.$1,onSeenStory:this.$2};b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.set(a,c)}b("FBStoriesQPLUtils").end({qplMarker:22347782})}catch(a){}};d.componentWillUnmount=function(){this.props.storyID&&b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.has(this.props.storyID)&&b("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap["delete"](this.props.storyID)};d.render=function(){return this.state.deleted?null:j.jsxs(b("ShimButton.react"),{className:"_6a3o",onClick:this.$3,style:this.props.backgroundColorInfo?{background:"linear-gradient(#"+this.props.backgroundColorInfo.top_color+", #"+this.props.backgroundColorInfo.bottom_color+")"}:{},children:[j.jsxs("div",{className:"_2nzu",children:[j.jsxs("div",{className:"_2nzv",children:[j.jsx(b("Timestamp.react"),{autoUpdate:!0,time:this.props.creationTime/1e3,text:b("formatDate")(this.props.creationTime/1e3,"M j",{utc:!0})}),!this.props.wasSeenByViewer&&!this.state.unseenStoryReset&&this.props.storyOwnerType!=="page"&&j.jsx(k,{})]}),this.props.storyOwnerType!=="page"&&this.props.totalViewerCount>0?j.jsxs("div",{className:"_2n_n",children:[j.jsx(b("Image.react"),{className:"_2n_o",src:g("532616")}),this.props.totalViewerCount]}):null,this.props.storyOwnerType!=="page"?j.jsx("div",{className:"_2n_p",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("494783")}),label:i._("Share"),href:b("XReactSproutComposerShareMediaFromArchiveDialogController").getURIBuilder().setFBIDSet("archivedStoryCardIDs",[this.props.id]).getURI(),onClick:this.$4,rel:"dialog-post",size:"small"})}):null]}),j.jsx("div",{className:"_2n_q",children:j.jsx(b("Image.react"),{src:this.props.mediaURI,className:"_2n_r",width:"100%"})})]})};return c}(j.Component);var k=function(a){return j.jsx("span",{className:"_6fv7"})};e.exports=a}),null);