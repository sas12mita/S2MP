if (self.CavalryLogger) { CavalryLogger.start_js(["075rl"]); }

__d("cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"params",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],f=[d];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",selections:[{alias:null,args:b,concreteType:"LinkPreviewRoot",kind:"LinkedField",name:"link_preview",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"composer_post_confirmation_renderer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMisinformationLinkComposerConfirmationDialog_confirmationRenderer"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",selections:[{alias:null,args:b,concreteType:"LinkPreviewRoot",kind:"LinkedField",name:"link_preview",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"composer_post_confirmation_renderer",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cid",storageKey:null},{alias:null,args:null,concreteType:"ManualFactCheck",kind:"LinkedField",name:"fact_checks",plural:!0,selections:[d,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"external_uri",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment_thumbnail",plural:!1,selections:[c,{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_page_admin_warning",storageKey:null}],type:"MisinformationComposerPostConfirmationRenderer",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3707183875964037",metadata:{},name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("breakingNewsReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.breakingNews;a=babelHelpers.objectWithoutPropertiesLoose(a,["breakingNews"]);switch(b.type){case"ADD_BREAKING_NEWS":b=b.breakingNewsDuration;return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:b}});case"REMOVE_BREAKING_NEWS":return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:void 0}});case"REMOVE_ATTACHMENT_TYPE":case"ADD_LINK_URL":case"REMOVE_LINK_URL":return babelHelpers["extends"]({},a,{breakingNews:void 0})}return babelHelpers["extends"]({breakingNews:c},a)}e.exports=a}),null);
__d("composerMediaAttachmentUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.state){case"PREEXISTING":return a.data.id;case"OPTIMISTIC_UPLOADED":return a.uploadID;default:return a.file.uploadID}}e.exports={getIDFromMediaAttachment:a}}),null);
__d("composerMediaAttachmentReducer",["Promise","CometComposerAttachmentPluginTypes","cometUniqueID","composerMediaAttachmentUtils","isMimeTypeForMedia","qex"],(function(a,b,c,d,e,f){"use strict";var g=b("composerMediaAttachmentUtils").getIDFromMediaAttachment,h=b("isMimeTypeForMedia").isMimeTypeForPhoto,i=b("isMimeTypeForMedia").isMimeTypeForVideo,j=b("qex")._("1221850")===!0,k=b("qex")._("1526734")===!0;function l(a,c){return a.reduce(function(a,c){if(j){if(c.file==null)return a;var d=c.file.uploadID;if(d==null)return a;if(a[d]!=null)return a;var e=null,f=new(b("Promise"))(function(a){e=a});e&&(c.fileType==="PHOTO"||c.fileType==="VIDEO")&&(a[d]={onFileComplete:f,resolveFileUpload:e})}return a},c)}function m(a,b){var c={},d=function(d){a.some(function(a){return d===g(a)})||(c[d]=b[d])};for(var e in b)d(e);return c}function n(a,c){c=c.files.map(function(a){if(a==null)return null;var c=b("cometUniqueID")();a.uploadID=c;var d=URL.createObjectURL(a);if(h(a.type))return{data:{id:c},file:a,fileObjectURL:d,fileType:"PHOTO",state:"NEW"};else if(i(a.type)){var e=URL.createObjectURL(a);return{data:{id:c},file:a,fileObjectURL:e,fileType:"VIDEO",state:"NEW"}}else return{data:{id:c},file:a,fileObjectURL:d,fileType:"UNKNOWN",state:"NEW"}}).filter(Boolean);var d=(a.mediaAttachments||[]).concat(c);return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:l(c,babelHelpers["extends"]({},a.mediaUploadStatuses)||Object.freeze({}))})}function o(a,b){if(a.mediaAttachments==null)return a;else{var c=a.mediaAttachments.filter(function(a){if(g(b.attachment)===g(a)){a.fileObjectURL!=null&&URL.revokeObjectURL(a.fileObjectURL);return!1}else return!0});return c.length>0||a.isMediaAttachmentsRequired===!0?babelHelpers["extends"]({},a,{mediaAttachments:c,mediaUploadStatuses:m([b.attachment],babelHelpers["extends"]({},a.mediaUploadStatuses)||Object.freeze({}))}):babelHelpers["extends"]({},a,{attachmentArea:void 0,mediaAttachments:void 0,mediaUploadStatuses:void 0})}}function p(a,c){if(((c=a.attachmentArea)==null?void 0:c.activeAttachmentType)===b("CometComposerAttachmentPluginTypes").GET_MESSAGES)return babelHelpers["extends"]({},a);(a.mediaAttachments||[]).forEach(function(a){a.fileObjectURL!=null&&URL.revokeObjectURL(a.fileObjectURL)});return babelHelpers["extends"]({},a,{mediaAttachments:void 0,mediaUploadStatuses:void 0})}function q(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state==="NEW"&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",state:"CLIENT_PROCESSING",useCDNPreview:a.useCDNPreview};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",state:"CLIENT_PROCESSING",useCDNPreview:a.useCDNPreview};case"FILE":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING"};case"UNKNOWN":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING"}}else return a}).filter(Boolean)})}function r(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.file&&a.fileType==="UNKNOWN"&&b.uploadIDs.includes(a.file.uploadID))switch(a.state){case"NEW":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING":case"QUEUED":case"UPLOADING":case"UPLOADED":case"FAILED":return babelHelpers["extends"]({},a,{data:{id:a.data.id},fileType:"PHOTO"})}return a})})}function s(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if((a.state==="NEW"||a.state==="CLIENT_PROCESSING")&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,state:"CLIENT_PROCESSING_COMPLETE",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"CLIENT_PROCESSING_COMPLETE",useCDNPreview:a.useCDNPreview,width:a.width};case"FILE":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING_COMPLETE"};case"UNKNOWN":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING_COMPLETE"}}else return a}).filter(Boolean)})}function t(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&b.uploadIDs.includes(a.file.uploadID))switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,state:"QUEUED",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"QUEUED",width:a.width};default:return{data:a.data,file:a.file,fileType:"FILE",state:"QUEUED"}}else return a}),mediaUploadStatuses:l(c.filter(function(a){return a.file!=null&&b.uploadIDs.includes(a.file.uploadID)}),babelHelpers["extends"]({},a.mediaUploadStatuses)||Object.freeze({}))})}function u(a,b){if(a.mediaAttachments==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a){if(a.state!=="CLIENT_PROCESSING"&&a.state!=="UPLOADING"&&a.state!=="UPLOADED"&&a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,percentComplete:0,state:"UPLOADING",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,percentComplete:0,state:"UPLOADING",width:a.width};default:return{data:a.data,file:a.file,fileType:"FILE",percentComplete:0,state:"UPLOADING"}}else return a})})}function v(a,b){if(a.mediaAttachments==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a){if(a.state==="UPLOADING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",percentComplete:b.percentComplete});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",percentComplete:b.percentComplete});default:return babelHelpers["extends"]({},a,{fileType:"FILE",percentComplete:b.percentComplete})}else return a})})}function w(a,b){if(a.mediaAttachments==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a){if(a.state!=="CLIENT_PROCESSING"&&a.state!=="CLIENT_PROCESSING_COMPLETE"&&a.state!=="UPLOADED"&&a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return{data:{id:b.entID},entID:b.entID,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,state:"UPLOADED",uploadedImageURL:b.imageURL,useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:{id:b.entID},entID:b.entID,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"UPLOADED",useCDNPreview:a.useCDNPreview,width:a.width};default:return{data:{id:b.entID},entID:b.entID,file:a.file,fileType:"FILE",state:"UPLOADED"}}else return a})})}function x(a,b){var c=a.mediaAttachments;if(c==null)return a;else return babelHelpers["extends"]({},a,{mediaAttachments:c.map(function(a){if(a.state!=="PREEXISTING"&&a.file.uploadID===b.uploadID)switch(a.fileType){case"PHOTO":return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,state:"FAILED",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"FAILED",useCDNPreview:a.useCDNPreview,width:a.width};default:return{data:{id:b.uploadID},error:b.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"FILE",state:"FAILED"}}else return a})})}function y(a,b){return a.mediaAttachments==null?a:babelHelpers["extends"]({},a,{mediaAttachments:a.mediaAttachments.map(function(a,c){return c!==b.index?a:b.photo}),withTagIDs:((a=b.photo.data.tags)!=null?a:[]).map(function(a){return a==null?void 0:(a=a.taggee)==null?void 0:a.id}).filter(Boolean)})}function z(a,b){if(a.mediaAttachments!=null){var c=[].concat(a.mediaAttachments);c.splice(b.targetIndex,0,c.splice(b.sourceIndex,1)[0]);b=c.reduce(function(b,c){c=g(c);c!=null&&a.mediaUploadStatuses!=null&&(b[c]=a.mediaUploadStatuses[c]);return b},{});return babelHelpers["extends"]({},a,{mediaAttachments:c,mediaUploadStatuses:b})}else return a}function A(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a===b.attachment){switch(a.state){case"NEW":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"QUEUED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"UPLOADING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"UPLOADED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}case"PREEXISTING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});case"UNKNOWN":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"UNKNOWN"})}return a;case"FAILED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:{text:b.caption}}),fileType:"VIDEO"});default:return a}}return a}else return a})})}function B(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(g(a)===g(b.attachment)){switch(a.state){case"NEW":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"QUEUED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"UPLOADING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"UPLOADED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"FAILED":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"CLIENT_PROCESSING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return a}case"PREEXISTING":switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",useCDNPreview:!0});default:return babelHelpers["extends"]({},a,{fileType:"UNKNOWN",useCDNPreview:!0})}}return a}else return a})})}function C(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){if(a.data.id===b.entID&&a.state==="UPLOADED")switch(a.fileType){case"PHOTO":return babelHelpers["extends"]({},a,{fileType:"PHOTO",height:b.height,width:b.width});case"VIDEO":return babelHelpers["extends"]({},a,{fileType:"VIDEO",height:b.height,width:b.width});case"UNKOWN":return babelHelpers["extends"]({},a,{fileType:"UNKNOWN",height:b.height,width:b.width});default:return a}else return a})})}function D(a,b){return babelHelpers["extends"]({},a,{mediaAttachments:(a.mediaAttachments||[]).map(function(a){return g(a)===g(b.attachment)?F(b.height,b.width,a):a})})}function E(a,b){var c=URL.createObjectURL(b.placeholderImage.file);a.photo3dAttachment&&URL.revokeObjectURL(a.photo3dAttachment.inputData.placeholderImageSrc);return babelHelpers["extends"]({},a,{photo3dAttachment:{inputData:{colorImageIds:b.colorImageIds,depthImageIds:b.depthImageIds,placeholderImageHeight:(a=b.placeholderImage.height)!=null?a:0,placeholderImageSrc:c,placeholderImageWidth:(a=b.placeholderImage.width)!=null?a:0},renderData:void 0}})}function F(a,b,c){switch(c.fileType){case"PHOTO":switch(c.state){case"NEW":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"CLIENT_PROCESSING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"QUEUED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"UPLOADING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"UPLOADED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"FAILED":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});case"PREEXISTING":return babelHelpers["extends"]({},c,{fileType:"PHOTO",height:a,width:b});default:return c}case"VIDEO":switch(c.state){case"NEW":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"CLIENT_PROCESSING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"QUEUED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"UPLOADING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"UPLOADED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"FAILED":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});case"PREEXISTING":return babelHelpers["extends"]({},c,{fileType:"VIDEO",height:a,width:b});default:return c}default:return c}}function a(a,b){switch(b.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":return n(a,b);case"REMOVE_MEDIA_ATTACHMENT_ITEM":return o(a,b);case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":return p(a,b);case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":return s(a,b);case"QUEUE_UPLOADS":return t(a,b);case"MARK_UPLOADS_CLIENT_PROCESSING":return q(a,b);case"MARK_UPLOADS_AS_PHOTO":return r(a,b);case"MEDIA_UPLOAD_STARTED":return u(a,b);case"MEDIA_UPLOAD_PROGRESS":return v(a,b);case"MEDIA_UPLOAD_SUCCESSFUL":return w(a,b);case"REORDER_MEDIA_ATTACHMENT_ITEM":return z(a,b);case"SAVE_PHOTO_EDITS":return y(a,b);case"SET_MEDIA_ATTACHMENT_CAPTION":return A(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":return B(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":return C(a,b);case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":return D(a,b);case"SET_PHOTO3D_CREATION_DATA":return E(a,b);case"MEDIA_UPLOAD_FAILED":if(k)return x(a,b);else return a}return a}e.exports=a}),null);
__d("useComposerPreSubmitHook",["CometComposerPreSubmitHooksContext","useContextRef"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useContextRef")(a,b("CometComposerPreSubmitHooksContext"))}e.exports=a}),null);
__d("getSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function b(b){var c=a.getSelection();if(c==null||c.rangeCount===0)return null;var d=c.anchorNode,e=c.anchorOffset,f=c.focusNode;c=c.focusOffset;if(d==null||f==null)return null;var g=0,h=-1,i=-1,j=0,k=0,l=b,m=null;outer:while(!0){var n=null;while(!0){var o;l!=null&&l===d&&(e===0||l.nodeType===Node.TEXT_NODE)&&(h=g+e);l!=null&&l===f&&(c===0||l.nodeType===Node.TEXT_NODE)&&(i=g+c);l!=null&&l.nodeType===Node.TEXT_NODE&&(g+=l.nodeValue.length);if((n=(o=l)==null?void 0:o.firstChild)===null)break;m=l;l=n}while(!0){if(l===b)break outer;m===d&&++j===e&&(h=g);m===f&&++k===c&&(i=g);if((n=(o=l)==null?void 0:o.nextSibling)!==null)break;l=m;m=(o=l)==null?void 0:o.parentNode}l=n}return h===-1||i===-1?null:{end:i,isCollapsed:d===f&&c===e,start:h}}e.exports=b}),null);
__d("setSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function g(a){a=a;while(a!=null&&a.firstChild!=null)a=a.firstChild;return a}function h(a){a=a;while(a!=null){if(a.nextSibling!=null)return a.nextSibling;a=a.parentNode}return null}function i(a,b){var c=g(a),d=0,e;while(c!=null){if(c.nodeType===Node.TEXT_NODE){e=d+c.textContent.length;if(d<=b&&e>=b)return{node:c,offset:b-d};d=e}e=h(c);c=e!=null?g(e):null;if(c!=null&&c.contains(a))return null}return null}function b(b,c){var d=a.getSelection(),e=b.textContent.length,f=Math.min(c.start,e);c=Math.min(c.end,e);if(!d.extend==null&&f>c){e=c;c=f;f=e}e=i(b,f);b=i(b,c);if(e!=null&&b!=null){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),d.addRange(g))}}e.exports=b}),null);
__d("CometPlaintextEditor.react",["FBLogger","React","ReactDOMComet","clearTimeout","getSelectionOffsets","setSelectionOffsets","setTimeout","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(){try{return a.document.activeElement}catch(a){return null}}var i=8,j=46,k=13;c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var d,e;for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];return(d=e=c.call.apply(c,[this].concat(l))||this,e.$1=g.createRef(),e.$4=function(a){e.$1.current=a,e.props.onInputRefUpdate&&e.props.onInputRefUpdate(a)},e.$8=function(a){e.props.onBeforeInput&&e.props.onBeforeInput(a),e.$9()},e.$11=function(a){e.props.onBlur&&e.props.onBlur(a),e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!1,isPendingSelection:!1}))},e.$12=function(a){e.props.onCompositionEnd&&e.props.onCompositionEnd(a),e.props.editorState.isComposing&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!1}))},e.$13=function(a){e.props.onCompositionStart&&e.props.onCompositionStart(a),e.props.editorState.isComposing||e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!0}))},e.$14=function(a){e.props.onCut&&e.props.onCut(a),a.isDefaultPrevented()||e.$9()},e.$15=function(a){e.$10();e.props.onInput&&e.props.onInput(a);if(!a.isDefaultPrevented()){a=e.$6();a!==null&&e.props.editorState.text!==a&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:a}))}},e.$16=function(a){var b=e.props.onReturn;if(b!=null&&a.keyCode===k&&!(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))){b(a);return}e.props.onKeyDown&&e.props.onKeyDown(a);!a.isDefaultPrevented()&&(a.keyCode===i||a.keyCode===j)&&e.$9()},e.$17=function(a){e.props.onFocus&&e.props.onFocus(a),!a.isDefaultPrevented()&&!e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!0}))},e.$18=function(){e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!0})),e.$2=b("setTimeout")(function(){b("FBLogger")("CometPlaintextEditor").warn("_onMouseDown had no corresonding mouseup event for 30s."),e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},3e4),document.addEventListener("mouseup",function(){var a=e.$1.current;a===h()&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},{once:!0})},e.$19=function(b){e.props.onPaste&&e.props.onPaste(b);if(!b.isDefaultPrevented()){b.preventDefault();try{b=b.clipboardData.getData("text/plain")}catch(d){var c;typeof ((c=a.clipboardData)==null?void 0:c.getData)==="function"&&(b=a.clipboardData.getData("Text"))}if(b!=null&&!document.execCommand("insertText",!1,b)&&!document.execCommand("insertHTML",!1,b)){c=a.getSelection();if(c!=null){var d=c.getRangeAt(0);if(d!=null){d.deleteContents();b=document.createTextNode(b);d.insertNode(b);d=d.cloneRange();d.setStartAfter(b);d.collapse(!0);c.removeAllRanges();c.addRange(d);e.$9();return}}}b=e.$6();b!==null&&e.props.editorState.text!==b&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:b}))}},e.$20=function(a){e.props.onSelect&&e.props.onSelect(a);var c=e.$1.current;if(!a.isDefaultPrevented()&&c!=null){a=b("getSelectionOffsets")(c);e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1,selectionOffsets:a}))}},d)||babelHelpers.assertThisInitialized(e)}var e=d.prototype;e.componentDidMount=function(){this.$5()};e.componentDidUpdate=function(a){(a.editorState.text!==this.props.editorState.text||a.editorState.selectionOffsets!==this.props.editorState.selectionOffsets)&&this.$5()};e.componentWillUnmount=function(){b("clearTimeout")(this.$2),delete this.$2,b("clearTimeout")(this.$3),delete this.$3};e.notify=function(a){var c=this,d=b("ReactDOMComet").unstable_flushControlled,e=function(){!a.isPendingSelection&&c.$2!=null&&(b("clearTimeout")(c.$2),delete c.$2),c.props.onStateChange(a)};d!=null?d(function(){return e()}):e()};e.$6=function(){var a=this.$1.current;if(a==null)return null;var b=a.innerText||"";return a.textContent!==""?b:""};e.$5=function(){var a=this.$1.current;if(a===null||this.$7())return;var c=this.props.editorState.text,d=this.props.editorState.selectionOffsets;h()===a&&d==null&&(d=b("getSelectionOffsets")(a));var e=this.$6();e!==null&&c!==e&&(a.innerText=c,d!=null&&(c===""?(a.innerText="\xa0",b("setSelectionOffsets")(a,{end:0,start:0}),document.execCommand("delete",!1,null)):b("setSelectionOffsets")(a,{end:d.end,start:d.start})))};e.$7=function(){return this.$3!=null};e.$10=function(){b("clearTimeout")(this.$3),delete this.$3};e.$9=function(){var a=this;this.$7()&&this.$10();this.$3=b("setTimeout")(function(){var c=a.$1.current;if(c==null||!a.$7())return;a.$10();var d=a.$6();if(d!==null&&a.props.editorState.text!==d){c=b("getSelectionOffsets")(c);a.notify(babelHelpers["extends"]({},a.props.editorState,{selectionOffsets:c,text:d}))}},0)};e.focus=function(){this.$1.current&&this.$1.current.focus()};e.focusEnd=function(){var a=this.$1.current;if(a&&window.getSelection&&document.createRange){var b=document.createRange();b.selectNodeContents(a);b.collapse(!1);a=window.getSelection();a.removeAllRanges();a.addRange(b)}};e.render=function(){var a=this.props,b=a.editorState,c=a.onClick;a.onStateChange;var d=a.placeholder,e=a.readOnly;e=e===void 0?!1:e;var f=a.testid;f=babelHelpers.objectWithoutPropertiesLoose(a,["editorState","onClick","onStateChange","placeholder","readOnly","testid"]);f.onInputRefUpdate;f.onReturn;a=babelHelpers.objectWithoutPropertiesLoose(f,["onInputRefUpdate","onReturn"]);f=b.text.trim().length>0;b=g.jsxs("div",{className:"k4urcfbm l9j0dhe7 datstx6m","data-testid":void 0,children:[g.jsx("div",babelHelpers["extends"]({},a,{className:"tkr6xdv7 qv66sw1b ieid39z1 l9j0dhe7 lzcic4wl datstx6m r7d6kgcz e9989ue4 esr5mh6w qu0x051f g5ia77u1",contentEditable:!e,onBeforeInput:this.$8,onBlur:this.$11,onCompositionEnd:this.$12,onCompositionStart:this.$13,onCut:this.$14,onFocus:this.$17,onInput:this.$15,onKeyDown:this.$16,onMouseDown:this.$18,onPaste:this.$19,onSelect:this.$20,ref:this.$4})),f||d==null?null:g.jsx("div",{className:"du4w35lb abiwlrkh kr520xx4 ltmttdrg j9ispegn pmk7jnqg hzruof5a stjgntxs ni8dbmo4 n7fi1qx3 pipptul6 i09qtzwb",children:d})]});return c!=null?g.jsx("div",{onClick:c,role:"none",children:b}):b};return d}(g.PureComponent);e.exports=c}),null);
__d("DeferredDraftEditor.react",["requireDeferred","CometPlaintextEditor.react","React","SubscriptionsHandler","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("requireDeferred")("DraftEditor.react"),i=b("requireDeferred")("EditorState"),j=b("React"),k=b("requireDeferred")("getEditorStateFromContentEditableState"),l={root:{boxSizing:"rq0escxv",height:"datstx6m",width:"k4urcfbm"}};function m(){return{DraftEditor:h.getModuleIfRequired(),EditorState:i.getModuleIfRequired(),getEditorStateFromContentEditableState:k.getModuleIfRequired()}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$1=j.createRef(),e.$2=j.createRef(),e.$3=new(b("SubscriptionsHandler"))(),e.$4=function(a){var b=e.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},e.$6=function(a){e.$1.current=a;a=a==null?void 0:a.editor;var b=e.props.onInputRefUpdate;b!=null&&b(a instanceof HTMLDivElement?a:null)},e.$5=function(){var a=e.props.editorState;if(a.__type!==c.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!c.richDependenciesAreMet())return;var b=m();b=b.getEditorStateFromContentEditableState;if(b==null)return;var d=e.props,f=d.decorator;d=d.onStateChange;d&&d({__type:c.EDITOR_STATE,draftEditorState:b(a,f)})},e.onEditorStateChange=function(a){if(e.props.onStateChange!=null){var b=e.props.editorState;b.draftEditorState!==a&&e.props.onStateChange(b.__type===c.EDITOR_STATE?babelHelpers["extends"]({},b,{draftEditorState:a}):{__type:c.EDITOR_STATE,draftEditorState:a})}},e.onPlainTextChange=function(a){e.props.onStateChange&&e.props.onStateChange(a)},e.onPlaintextReturn=function(a){e.props.handleReturn&&e.props.handleReturn(a)},d)||babelHelpers.assertThisInitialized(e)}c.richDependenciesAreMet=function(){var a=m();for(var b in a)if(a[b]==null)return!1;return!0};c.createEmptyComposerState=function(){var a=m();a=a==null?void 0:a.EditorState;return a!=null&&c.richDependenciesAreMet()?{__type:c.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:c.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var d=c.prototype;d.componentDidMount=function(){var a=this.props.autoFocus;!c.richDependenciesAreMet()?this.$3.addSubscriptions(h.onReady(this.$5),i.onReady(this.$5),k.onReady(this.$5)):this.$5();a===!0&&this.focusEnd()};d.focus=function(){this.$2.current!=null?this.$2.current.focus():this.$1.current!=null&&this.$1.current.focus()};d.focusEnd=function(){if(this.$2.current!=null)this.$2.current.focusEnd();else if(this.$1.current!=null){var a=i.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};d.componentDidUpdate=function(){this.$5()};d.componentWillUnmount=function(){this.$3.release()};d.render=function(){var a=m();a=a==null?void 0:a.DraftEditor;var d=this.props,e=d.editorState;d=babelHelpers.objectWithoutPropertiesLoose(d,["editorState"]);if(a&&e.__type===c.EDITOR_STATE)return j.jsx("div",{className:(g||(g=b("stylex")))(l.root,this.props.xstyle),children:j.jsx(a,babelHelpers["extends"]({},d,{editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:this.$6,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))});else if(e.__type===c.EDITOR_STATE)throw h.load();else if(e.__type===c.PLAIN_TEXT)return j.jsx("div",{className:(g||(g=b("stylex")))(l.root,this.props.xstyle),children:j.jsx(b("CometPlaintextEditor.react"),{editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$4,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,ref:this.$2,testid:void 0})})};return c}(j.PureComponent);a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text";e.exports=a}),null);
__d("getPlainTextFromDeferredDraftEditorState",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.draftEditorState.getCurrentContent().getPlainText();default:return a}}e.exports=a}),null);
__d("CometComposerTaggerPluginTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BC_SUPPORT:"BC_SUPPORT",BRANDED_CONTENT:"BRANDED_CONTENT",DRAFT_FOR:"DRAFT_FOR",EVENT:"EVENT",GET_MESSAGES:"GET_MESSAGES",LINK:"LINK",LOCAL_ALERT:"LOCAL_ALERT",LOCATION:"LOCATION",MINUTIAE:"MINUTIAE",PRODUCT_TAG:"PRODUCT_TAG",SCHEDULE_POST:"SCHEDULE_POST",TAG:"TAG",WORK_AMA:"WORK_AMA"});e.exports=a}),null);
__d("useCometComposerHashtagsDecorator",["React","getHashtagMatches","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useMemo;function i(a){var b=a.children,c=a.hasFormattedText;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText"]);a.blockKey;a.contentState;a.decoratedText;a.entityKey;a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey","offsetKey"]);return g.jsx("span",babelHelpers["extends"]({},a,{className:(c?"":"diy96o5h")+(c?" oo483o9r":""),children:b}))}function a(a){var c=a.hasFormattedText;a=a.priority;var d=a===void 0?0:a;return h(function(){return{component:g.memo(i),priority:d,props:{hasFormattedText:c},strategy:b("getHashtagMatches")}},[c,d])}e.exports=a}),null);
__d("CometComposerHashtagsPlugin.react",["React","useCometComposerDecorator","useCometComposerHashtagsDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";b("React");function a(a){a=a.hasFormattedText;b("useCometComposerDecorator")(b("useCometComposerHashtagsDecorator")({hasFormattedText:a}));return null}e.exports=b("withComposerViewStatePart")(a,function(a){var b;return{hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPresetID)!=null||((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}})}),null);
__d("composerLinkAttachmentChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return(a==null?void 0:(a=a.linkAttachment)==null?void 0:a.url)!==(b==null?void 0:(a=b.linkAttachment)==null?void 0:a.url)}e.exports=a}),null);
__d("composerLinkAttachmentReducer",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c,d;if(((c=a.attachmentArea)==null?void 0:c.activeAttachmentType)==="FORMATTED_TEXT")return a;c=((c=a.linkAttachment)==null?void 0:c.previousUrls)||[];d=(d=a.linkAttachment)==null?void 0:d.url;b=b.url;if(d!=null){var e=d.length>b.length?[b,d]:[d,b],f=e[0];e=e[1];if(e.startsWith(f))return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{url:b})})}e=d!=null?[].concat(c,[d]):c;return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{previousUrls:e,url:b})})}function h(a,b){var c;c=((c=a.linkAttachment)==null?void 0:c.previousUrls)||[];if(c.length===0){b.onRemovedLast(!0);return babelHelpers["extends"]({},a,{attachmentArea:{activeAttachmentType:null},linkAttachment:void 0})}var d=c[c.length-1];c=c.slice(0,-1);b.onRemovedLast(!1);return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{previousUrls:c,url:d})})}function i(a,b){var c;return((c=a.linkAttachment)==null?void 0:c.url)!==b.url?a:babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{linkPreview:{share_scrape_data:b.shareScrapeData},url:b.url})})}function a(a,b){switch(b.type){case"ADD_LINK_URL":return g(a,b);case"REMOVE_LINK_URL":return h(a,b);case"SET_LINK_PREVIEW":return i(a,b)}return a}e.exports=a}),null);
__d("CometComposerLinksPlugin.react",["Promise","React","breakingNewsReducer","composerLinkAttachmentChecker","composerLinkAttachmentReducer","getEntityMatcher","getImplicitURLMatches","stylex","useCometComposerDecorator","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useEffect,i=function(a){var c=a.children,d=a.href,e=b("useComposerViewStateDispatcher")();h(function(){e({attachmentType:"LINK",onRemove:function(){return new(b("Promise"))(function(a){e({onRemovedLast:a,type:"REMOVE_LINK_URL"})})},type:"ACTIVATE_ATTACHMENT_TYPE"}),e({type:"ADD_LINK_URL",url:d})},[d,e]);return g.jsx("span",{className:"py34i1dx",children:c})};d=function(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var c=a.contentState;a=a.entityKey;c=a!=null?c.getEntity(a):null;a=c!=null?c.getData():null;a=(c=a==null?void 0:a.url)!=null?c:"";return g.jsx(i,{href:a,children:b})};f=function(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);a=a.decoratedText;a=a.startsWith("http://")||a.startsWith("https://")?a:"https://"+a;return g.jsx(i,{href:a,children:b})};var j={component:g.memo(f),priority:0,props:{},strategy:b("getImplicitURLMatches")},k={component:g.memo(d),priority:0,props:{},strategy:b("getEntityMatcher")(function(a){return a.getType()==="LINK"})};function a(a){b("useComposerViewStateReducer")(b("composerLinkAttachmentReducer"),b("composerLinkAttachmentChecker"));b("useComposerViewStateReducer")(b("breakingNewsReducer"));b("useCometComposerDecorator")(j);b("useCometComposerDecorator")(k);return null}e.exports=a}),null);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){return h.jsx("div",{className:"taijpn5t tv7at329 j83agx80 bp9cbjyn",children:h.jsx(b("TetraText.react"),{color:"tertiary",type:"body2",children:g._("No people found")})})}e.exports=a}),null);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","CometSearchTypeaheadBaseProgressGlimmer.react","CometSearchTypeaheadBaseViewListStrategy.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);return g.jsxs("div",{role:"listbox",children:[g.jsx(b("CometSearchTypeaheadBaseViewListStrategy.react"),babelHelpers["extends"]({},a)),c?g.jsx(b("CometSearchTypeaheadBaseProgressGlimmer.react"),{}):null,!c&&a.entries.length===0?g.jsx(b("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]})}e.exports=a}),null);
__d("CometComposerMentionsTypeaheadContextualLayer.react",["CometContextualLayer.react","CometPopover.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","React","cometSearchTypeaheadBaseKeyboardNavigationUtils","useCometSearchTypeaheadBaseDataSourceFetch"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useEffect,j=c.useImperativeHandle,k=c.useRef,l=c.useState,m=b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveDown,n=b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveUp;function a(a,c){var d=a.context,e=a.dataSource,f=a.onHighlightEntry,p=a.onSelectedEntry,q=a.position;q=q===void 0?"above":q;var r=a.query,s=a.viewItemStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","onHighlightEntry","onSelectedEntry","position","query","viewItemStrategyRenderer"]);var t=l([]),u=t[0],v=t[1];t=l(null);var w=t[0],x=t[1],y=k(null);j(c,function(){return{getNode:function(){return y.current},hasSelection:function(){return o(u,w)},moveDown:function(){m(u,w!=null?w.getKey():null,x)},moveUp:function(){n(u,w!=null?w.getKey():null,x)},select:function(){p&&w!=null&&o(u,w)&&p(w,r)}}},[w,p,r,u]);t=b("useCometSearchTypeaheadBaseDataSourceFetch")({dataSource:e,onResolvePayload:h(function(a){a=a.entries;return v(a)},[])});t[0];var z=t[1];i(function(){z({query:r})},[z,r]);c=h(function(a){f&&f(a);x((a=a)!=null?a:null)},[f]);e=h(function(a){p&&o(u,a)&&p(a,r)},[p,r,u]);i(function(){!o(u,w)&&u.length>0&&x(u[0])},[w,u]);return u.length===0?null:g.jsx(b("CometContextualLayer.react"),{align:"start",context:d,position:q,children:g.jsx(b("CometPopover.react"),{onBlur:a.onBlur,onFocus:a.onFocus,ref:y,children:g.jsx(b("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),{entries:u,highlightedEntry:w,isLoading:!1,onHighlightEntry:c,onPressEntry:e,queryString:r,viewItemStrategyRenderer:s})})})}function o(a,b){if(b==null)return!1;var c=b.getKey();return a.find(function(a){return a.getKey()===c})!=null}e.exports=g.forwardRef(a)}),null);
__d("cometReplaceMentionedTextInEditorState",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){f=f(c.getCurrentContent(),a);a=f.getLastCreatedEntityKey();f=b("DraftModifier").replaceText(f,d,e,c.getCurrentInlineStyle(),a);return b("EditorState").push(c,f,"insert-fragment")}function a(a,b,c,d,e){var f=b.getSelection(),j=b.getCurrentContent(),k=f.getAnchorKey(),l=f.getAnchorOffset();j=j.getBlockMap().get(k);k=f.getStartOffset();k=j.getText().substr(k-c,c);k=h(a,k);j=l-i(j.getText().substr(0,l),k,c);return g(a,b,f.set("anchorOffset",j),e(a),d)}function h(a,b){return a.getLabel()}function i(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}e.exports=a}),null);
__d("CometComposerMentionsTypeahead.react",["CometComposerMentionsTypeaheadContextualLayer.react","FBLogger","Keys","React","cometReplaceMentionedTextInEditorState","debounce","recoverableViolation","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("Keys")).DOWN,h=c.ESC,i=c.RETURN,j=c.TAB,k=c.UP,l=b("React");d=function(c){babelHelpers.inheritsLoose(d,c);function d(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=c.call.apply(c,[this].concat(g))||this,e.$2=l.createRef(),e.state={editorHasFocus:!1,searchText:null,typeaheadResultsHasFocus:!1},e.$4=function(){var a=e.props,b=a.editorRef,c=a.editorState;a=a.strategyResolver;if(b!=null&&c!=null&&c.__type==="editor-state-based"){b=c.draftEditorState;if(b.getSelection().getHasFocus()){c=e.props.getSearchText(b);c!==e.state.searchText&&e.setState({editorHasFocus:!0,searchText:c!=null&&c.length>0&&a(c)!=null?c:null,typeaheadResultsHasFocus:!1})}else e.setState({editorHasFocus:!1})}},e.$9=function(a,c){c=e.props;var d=c.editorState;c=c.strategyResolver;if(d==null||d.__type!=="editor-state-based")return;d=d.draftEditorState;var f=e.props.getSearchText(d);if(f==null){b("FBLogger")("CometComposer").warn("Race condition where the user selected a mention but theres no text in the editor");return}c=c(f);f=c.searchResult;if(f==null){b("recoverableViolation")("onPressEntry was called and no search result was found for the query","CometComposer");return}c=b("cometReplaceMentionedTextInEditorState")(a,d,f.replaceableString.length,e.props.onMentionCreateContentState,e.props.getReplacementString);d!==c&&(e.props.onEditorStateChange(c),e.setState({editorHasFocus:!0,searchText:null}))},e.$10=function(b){b=!1;var c=e.$2.current;if(c!=null){c=c.getNode();if(c!=null){var d=a.document.activeElement;while(d!=null){if(d===c){b=!0;break}d=d.parentNode}}}e.setState({typeaheadResultsHasFocus:b})},e.$11=function(a){e.setState({typeaheadResultsHasFocus:!0})},d)||babelHelpers.assertThisInitialized(e)}var e=d.prototype;e.componentDidMount=function(){this.$3=b("debounce")(this.$4,100,this);this.$1={handleKeyCommand:this.$5.bind(this),keyBindingFn:this.$6.bind(this),priority:this.props.priority};this.props.pluginsDispatcher({handler:this.$1,type:"install_handler"});var a=this.$3;a!=null&&a()};e.componentDidUpdate=function(a){var b=this.props,c=b.editorState;b=b.strategyResolver;if(c!=null&&a.editorState!==c&&c.__type==="editor-state-based"){c=c.draftEditorState;a=a.getSearchText(c);if(a==null||a.length===0||b(a)==null)this.$4();else{c=this.$3;c!=null&&c()}}};e.componentWillUnmount=function(){this.$1!=null&&this.props.pluginsDispatcher({handler:this.$1,type:"uninstall_handler"});var a=this.$3;a!=null&&a.reset()};e.$5=function(a,b,c){b=this.$2.current;switch(a){case"MentionsAutocomplete/cancel":this.setState({searchText:null});break;case"MentionsAutocomplete/select-mention":b&&b.select();break;case"MentionsAutocomplete/previous-mention":b&&b.moveUp();break;case"MentionsAutocomplete/next-mention":b&&b.moveDown();break}return"not-handled"};e.$7=function(){var a=this.state,b=a.editorHasFocus;a=a.searchText;b=b||this.$8();return a!=null&&a.length>0&&b};e.$8=function(){var a=this.$2.current;return a==null?!1:this.state.typeaheadResultsHasFocus};e.$6=function(a){var b=this.$2.current;if(a.keyCode===h&&this.state.searchText!=null){a.preventDefault();return"MentionsAutocomplete/cancel"}if(b!=null)switch(a.keyCode){case g:a.preventDefault();return"MentionsAutocomplete/next-mention";case i:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case j:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case k:a.preventDefault();return"MentionsAutocomplete/previous-mention"}return void 0};e.render=function(){var a=this.props,c=a.getAnchorRef,d=a.position;d=d===void 0?"below":d;var e=a.strategyResolver;a=a.viewItemStrategyRenderer;var f=this.state.searchText;e=e(f);f=e.dataSource;e=e.searchResult;c=c();return this.$7()&&c!=null&&f!=null&&e!=null?l.jsx(b("CometComposerMentionsTypeaheadContextualLayer.react"),{context:c,dataSource:f,onBlur:this.$10,onFocus:this.$11,onSelectedEntry:this.$9,position:d,query:e.matchingString,ref:this.$2,viewItemStrategyRenderer:a}):null};return d}(l.PureComponent);e.exports=b("withComposerViewStatePart")(d,function(a){return{editorRef:a.editorRef,editorState:a.editorState}})}),null);
__d("useCometComposerMentionsCaretDecorator",["CometComposerMentionsTypeahead.react","CometComposerPluginsDispatchContext","React","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useContext,j=c.useMemo,k=c.useRef;function l(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=i(b("CometComposerPluginsDispatchContext")),e=b("useComposerViewStateDispatcher")(),f=h(function(a){e({draftEditorState:a,type:"update_draft_editor_state"})},[e]),j=k();return g.jsxs("span",{ref:j,children:[g.jsx(b("CometComposerMentionsTypeahead.react"),babelHelpers["extends"]({getAnchorRef:function(){return j.current},onEditorStateChange:f,pluginsDispatcher:d},a)),c]})}function a(a,b){return j(function(){return{component:g.memo(l),priority:1,props:a,strategy:b.bind(null,a.strategyResolver,a.currentBlockKey)}},[a])}e.exports=a}),null);
__d("useCometComposerMentionsDecorator",["React","getEntityMatcher","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useMemo;function i(a){var b=a.children,c=a.hasFormattedText,d=a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText","offsetKey"]);a.blockKey;a.contentState;a.decoratedText;a.entityKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey"]);return g.jsx("span",babelHelpers["extends"]({},a,{className:(c?"":"diy96o5h")+(c?" oo483o9r":""),"data-offset-key":d,spellCheck:!1,children:b}))}function a(a){var c=b("getEntityMatcher")(function(a){return a.getType()==="MENTION"});return h(function(){return{component:g.memo(i),priority:1,props:{hasFormattedText:a},strategy:c}},[a,c])}e.exports=a}),null);
__d("CometComposerMentionsPlugin.react",["React","composerEditorStateViewStateReducer","useCometComposerDecorator","useCometComposerMentionsCaretDecorator","useCometComposerMentionsDecorator","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";b("React");var g=function(a,b,c,d){if(b!==c.getKey())return;var e=c.getText();c.findEntityRanges(function(a){return a.getEntity()==null},function(b,c){c=e.substring(b,c);var f=a(c);f=f.searchResult;if(f!=null){f=f.replaceableString;b=b+c.indexOf(f);d(b,b+f.length)}})};function a(a){var c=a.hasFormattedText;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);b("useComposerViewStateReducer")(b("composerEditorStateViewStateReducer"));b("useCometComposerDecorator")(b("useCometComposerMentionsDecorator")(c));b("useCometComposerDecorator")(b("useCometComposerMentionsCaretDecorator")(babelHelpers["extends"]({},a),g));return null}e.exports=a}),null);
__d("getCometComposerMentionsSearch",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();a=a.getBlockForKey(c);return g(a,b.getAnchorOffset())}e.exports=a}),null);
__d("useCometMentionsStrategyResolver",["JSTracing","React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useLayoutEffect,h=c.useMemo;function a(a){g(function(){a.forEach(function(a){var c=a.dataSource;b("JSTracing").clear(function(){return c.bootstrap()})})},[a]);return h(function(){var b=new Map();return function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(var e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.searchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}},[a])}e.exports=a}),null);
__d("cometMisinformationLinkDetectorPluginInternalStateReducer",["CometRelay","FBLogger","WebPixelRatio","relay-runtime","cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").fetchQuery;b("CometRelay").graphql;var i=b("relay-runtime").__internal.getOperationVariables,j=b("relay-runtime").createOperationDescriptor,k=b("relay-runtime").getRequest,l=g!==void 0?g:g=b("cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql");function m(a,b){return o(a,b,"ADD")}function n(a,b){return o(a,b,"REMOVE")}function o(a,b,c){if(a.composedURLs.has(b)===(c==="ADD"))return a;var d=new Set(a.composedURLs);c==="ADD"?d.add(b):d["delete"](b);return babelHelpers["extends"]({},a,{composedURLs:d})}function p(a,c,d){var e=a.misinformationRecords[c];if(e==null){b("FBLogger")("misinformation").mustfix("Tried to update a misinformation record for a URL that was not being tracked.");return a}var f=Object.entries(d).find(function(a){var b=a[0];a=a[1];return e[b]!==a});return f===!1?a:babelHelpers["extends"]({},a,{misinformationRecords:babelHelpers["extends"]({},a.misinformationRecords,(f={},f[c]=babelHelpers["extends"]({},e,d),f))})}function a(a,c){switch(c.__type){case"ACCEPT_URL":return p(a,c.url,{status:"ACCEPTED"});case"ENTER_COOLDOWN_PERIOD":return Object.keys(a.misinformationRecords).reduce(function(b,c){var d;d=(d=b.misinformationRecords[c])==null?void 0:d.status;if(d==null)return b;switch(d){case"ACCEPTED":case"CLEAN":case"DECISION_DEFERRED":case"FAILED":case"FETCHING":return a;case"DIRTY_AWAITING_DECISION":return p(b,c,{status:"DECISION_DEFERRED"});default:return d}},a);case"EXIT_COOLDOWN_PERIOD":return Object.keys(a.misinformationRecords).reduce(function(b,c){var d;d=(d=b.misinformationRecords[c])==null?void 0:d.status;if(d==null)return b;switch(d){case"ACCEPTED":case"CLEAN":case"DIRTY_AWAITING_DECISION":case"FAILED":case"FETCHING":return a;case"DECISION_DEFERRED":return p(b,c,{status:"DIRTY_AWAITING_DECISION"});default:return d}},a);case"MARK_URL_FAILED_DETECTION":return p(a,c.url,{status:"FAILED"});case"SET_DETECTION_RESULT":return p(a,c.url,{confirmationRenderer:c.confirmationRenderer,status:c.confirmationRenderer!=null?"DIRTY_AWAITING_DECISION":"CLEAN"});case"TRACK_COMPOSED_URL":if(a.misinformationRecords[c.url]!=null)return m(a,c.url);var d,e,f={confirmationRenderer:void 0,dispose:function(){d&&(d.unsubscribe(),d=null),e&&(e.dispose(),e=null)},status:"FETCHING"},g={input:{url:c.url},scale:b("WebPixelRatio").get()},o=k(l),q=i(o.operation,g);o=j(o,q);e=a.environment.retain(o);var r=!0;d=h(a.environment,l,g).subscribe({error:function(){c.dispatch({__type:"MARK_URL_FAILED_DETECTION",url:c.url})},next:function(a){a=(a=a.link_preview)==null?void 0:a.composer_post_confirmation_renderer;r?f.confirmationRenderer=a:c.dispatch({__type:"SET_DETECTION_RESULT",confirmationRenderer:a,url:c.url})}});r=!1;return babelHelpers["extends"]({},m(a,c.url),{misinformationRecords:babelHelpers["extends"]({},a.misinformationRecords,(q={},q[c.url]=f,q))});case"UNTRACK_COMPOSED_URL":return n(a,c.url);default:return c.__type}}e.exports=a}),null);
__d("CometComposerMisinformationLinkDetectorPlugin.react",["CometRelay","JSResource","React","cometMisinformationLinkDetectorPluginInternalStateReducer","getImplicitURLMatches","useCometLazyDialog","useComposerPreSubmitHook","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("CometRelay").useRelayEnvironment;b("React");c=b("React");var h=c.useEffect,i=c.useMemo,j=c.useReducer,k=c.useRef,l=c.useState,m=b("JSResource")("CometMisinformationLinkComposerConfirmationDialog.react").__setRef("CometComposerMisinformationLinkDetectorPlugin.react");function n(a){return a.trim().replace(/(^\w+:|^)\/\//,"").replace(/^www\./,"").replace(/\/*$/,"").toLowerCase()}function a(a){var c=a.composerType,d=a.editorState,e=a.linkAttachment,f=g();a=i(function(){return{composedURLs:new Set(),environment:f,misinformationRecords:{}}},[f]);a=j(b("cometMisinformationLinkDetectorPluginInternalStateReducer"),a);var o=a[0],p=o.composedURLs,q=o.misinformationRecords,r=a[1],s=k(null);o=l("COMPOSING");var t=o[0],u=o[1];a=b("useCometLazyDialog")(m);var v=a[0],w=k(!1);h(function(){s.current=q;if(w.current===!0)return;var a=Array.from(p).find(function(a){return((a=q[a])==null?void 0:a.status)==="DIRTY_AWAITING_DECISION"});if(a!=null){var b=q[a];if(b==null)return;b=b.confirmationRenderer;if(b==null)return;w.current=!0;v({composerPhase:t,composerType:c,confirmationRenderer:b},function(b){switch(b){case"ACCEPTED":r({__type:"ACCEPT_URL",url:a});break;case"NO_DECISION":r({__type:"ENTER_COOLDOWN_PERIOD"});break;default:return b}w.current=!1})}},[p,t,c,q,v]);h(function(){var a=new Set();if(d!=null)switch(d.__type){case"editor-state-based":d.draftEditorState.getCurrentContent().getBlocksAsArray().forEach(function(c){b("getImplicitURLMatches")(c,function(b,c,d){a.add(n(d))})});break;case"plain-text":break;default:return d.__type}var c=e==null?void 0:e.url;c!=null&&c!==""&&a.add(n(c));Array.from(a.values()).filter(function(a){return p.has(a)===!1}).forEach(function(a){return r({__type:"TRACK_COMPOSED_URL",dispatch:r,url:a})});Array.from(p.values()).filter(function(b){return a.has(b)===!1}).forEach(function(a){r({__type:"UNTRACK_COMPOSED_URL",url:a})})},[p,d,e]);var x=k([]);h(function(){var a=Array.from(p);for(var b=0;b<a.length;b++){var c=q[a[b]];if(c==null)continue;c=c.status;switch(c){case"ACCEPTED":case"CLEAN":case"FAILED":break;case"DECISION_DEFERRED":var d=[].concat(x.current);x.current.length=0;d.forEach(function(a){a=a.onHalt;a()});return;case"DIRTY_AWAITING_DECISION":case"FETCHING":return;default:return c}}d=[].concat(x.current);x.current.length=0;d.forEach(function(a){a=a.onContinue;a()})},[p,q]);function y(a){var b=a.onContinue,c=a.onHalt;u("COMMITTING");x.current.push({onContinue:function(){u("COMPOSING"),b()},onHalt:function(){u("COMPOSING"),c()}});a=Array.from(p).every(function(a){a=q[a];if(a==null)return!0;a=a.status;switch(a){case"ACCEPTED":case"CLEAN":case"FAILED":return!0;case"DECISION_DEFERRED":case"DIRTY_AWAITING_DECISION":case"FETCHING":return!1;default:return a}});if(a){a=[].concat(x.current);x.current.length=0;a.forEach(function(a){a=a.onContinue;a()})}else r({__type:"EXIT_COOLDOWN_PERIOD"})}b("useComposerPreSubmitHook")(y);h(function(){return function(){var a=s.current;a!==null&&Object.keys(a).forEach(function(b){b=a[b];b!=null&&b.dispose()})}},[]);return null}e.exports=b("withComposerViewStatePart")(a,function(a){return{editorState:a.editorState,linkAttachment:a.linkAttachment}})}),null);
__d("CometSearchMentionsBaseViewItem.react",["CometSearchTypeaheadBaseViewItem.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onPressEntry,d=a.onPressEntryIn;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntry","onPressEntryIn","queryString"]);var e=function(a,b){b.preventDefault(),c&&c(a,b),d&&d(a,b)};return g.jsx(b("CometSearchTypeaheadBaseViewItem.react"),babelHelpers["extends"]({},a,{onPressEntry:b("emptyFunction"),onPressEntryIn:e}))}e.exports=a}),null);
__d("FeedComposerCometMentionsTypeheadListItem.react",["CometImageIcon.react","CometSearchMentionsBaseViewItem.react","React","TetraText.react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=c.getRawData();if(d==null)return null;d=c.getLabel();var e=c.getPhotoURI();if(e==null){b("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}return g.jsx(b("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,testid:void 0,children:g.jsxs("div",{className:"rbrg37tu j83agx80 bp9cbjyn",children:[g.jsx("div",{className:"q676j6op qypqp5cg",children:g.jsx(b("CometImageIcon.react"),{size:40,src:e,style:"circle"})}),g.jsx("div",{className:"ozuftl9m",children:g.jsx(b("TetraText.react"),{type:"headlineEmphasized4",children:d})})]})}))}e.exports=a}),null);
__d("createCometAtSignMentionStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";c=b("DocumentMentionsRegex").PUNCTUATION;d=["@","\\uff20"].join("");f="[^"+d+c+"\\s]";b="(?:\\.[ |$]| |["+c+"]|)";c=20;var g=new RegExp("(^|\\s|[(\\/])(["+d+"]((?:"+f+b+"){0,"+c+"}))$");function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){a=g.exec(a);if(a!==null){var c=a[3];if(c!=null&&c.length>=b)return{leadOffset:a[1].length,matchingString:c,replaceableString:a[2]}}return null},name:"AtSignMentionStrategy("+b.toString()+")"}}e.exports=a}),null);
__d("createCometCapitalizedNameMentionStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.minMatchLength,d=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+1+",})$)");return{findMentionableString:function(a){a=d.exec(a);if(a!==null){var b=a[2];if(b!=null&&b.length>=c)return{leadOffset:a[1].length,matchingString:b,replaceableString:b}}return null},name:"CapitalizedNameMentionStrategy("+c.toString()+")"}}e.exports=a}),null);
__d("useFeedComposerCometMentionsStrategyResolver",["requireCond","React","createCometAtSignMentionStrategy","createCometCapitalizedNameMentionStrategy","useCometMentionsStrategyResolver","useFeedComposerCometMentionsBootloadDataSource","useFeedComposerCometMentionsSearchDataSource","useFeedComposerCometMentionsTypeaheadDataSource","cr:1448686"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useMemo;function a(a){a=a.limit;var c=h({bootstrapOptions:{includeViewer:!1,typeaheadContext:"mentions",types:["USER","GROUP","EVENT","PAGE"]},limit:a,networkOptions:{includeViewer:!1,typeaheadContext:"mentions",types:["user","group","event","page"]}}),d=b("cr:1448686")({limit:a});a=g(function(){return[{dataSource:c,searchStrategy:b("createCometAtSignMentionStrategy")({minMatchLength:1})},{dataSource:d,searchStrategy:b("createCometCapitalizedNameMentionStrategy")({minMatchLength:3})}]},[c,d]);return b("useCometMentionsStrategyResolver")(a)}function h(a){var c=a.bootstrapOptions,d=a.limit;a=a.networkOptions;return b("useFeedComposerCometMentionsTypeaheadDataSource")({bootstrapDataSource:b("useFeedComposerCometMentionsBootloadDataSource")(babelHelpers["extends"]({limit:Math.floor(d/2)},c)),limit:d,networkDataSource:b("useFeedComposerCometMentionsSearchDataSource")(babelHelpers["extends"]({limit:d},a))})}e.exports=a}),null);
__d("FeedComposerCometMentionsPlugin.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsTypeheadListItem.react","React","createCometComposerMentionsEntity","getCometComposerMentionsSearch","useFeedComposerCometMentionsStrategyResolver","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){return a.getLabel()}function i(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)}function a(a){var c=b("useFeedComposerCometMentionsStrategyResolver")({limit:5});return g.jsx(b("CometComposerMentionsPlugin.react"),{currentBlockKey:a.currentBlockKey,getReplacementString:h,getSearchText:b("getCometComposerMentionsSearch"),hasFormattedText:a.hasFormattedText,onMentionCreateContentState:i,priority:1,strategyResolver:c,viewItemStrategyRenderer:b("FeedComposerCometMentionsTypeheadListItem.react")})}e.exports=b("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPresetID)!=null||((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}})}),null);