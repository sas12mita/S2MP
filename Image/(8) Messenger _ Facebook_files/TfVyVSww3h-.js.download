if (self.CavalryLogger) { CavalryLogger.start_js(["BmHk8"]); }

__d("MessengerBusinessPersistentMenuUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerBusinessPersistentMenuResult",kind:"LinkedField",name:"messenger_business_persistent_menu_update_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerNonNestedCTAShareData",kind:"LinkedField",name:"menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"webview_height_ratio",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerBusinessPersistentMenuUpdateSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscription",selections:b},params:{id:"2907290672616359",metadata:{subscriptionName:"messenger_business_persistent_menu_update_subscribe"},name:"MessengerBusinessPersistentMenuUpdateSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"custom_user_settings"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"custom_user_settings")'}],type:"Page",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"2587770514615695",metadata:{},name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a;else return void 0}e.exports=a}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";var g={search:function(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","createReactClass_DEPRECATED","joinClasses","loadImage","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"Pixelz",propTypes:{width:(a=b("prop-types")).number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return h.jsx("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:h.jsx("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle(),children:a})},getInsetBorder:function(){return!this.hasInsetBorder()?null:h.jsx("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var b=this.getInsetBorder();return h.jsxs("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle(),children:[a,b]})},render:function(){var a=this.getSrcDimensions();return!a?h.jsx("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("MNCoWatchEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsCowatchActive=function(a){this.$1.is_cowatch_active=a;return this};c.setIsFullscreenMode=function(a){this.$1.is_fullscreen_mode=a;return this};c.setIsJoinPayloadReceivedWhileBackgrounded=function(a){this.$1.is_join_payload_received_while_backgrounded=a;return this};c.setIsRtcActive=function(a){this.$1.is_rtc_active=a;return this};c.setJoinPayloadReceivedCallType=function(a){this.$1.join_payload_received_call_type=a;return this};c.setJoinPayloadReceivedCallUI=function(a){this.$1.join_payload_received_call_ui=a;return this};c.setJoinPayloadReceivedSource=function(a){this.$1.join_payload_received_source=a;return this};c.setLayoutMode=function(a){this.$1.layout_mode=a;return this};c.setLivingRoomID=function(a){this.$1.living_room_id=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOrientation=function(a){this.$1.orientation=a;return this};c.setPigeonReservedKeywordLogType=function(a){this.$1.pigeon_reserved_keyword_log_type=a;return this};c.setPigeonReservedKeywordModule=function(a){this.$1.pigeon_reserved_keyword_module=a;return this};c.setRadioType=function(a){this.$1.radio_type=a;return this};c.setReactionType=function(a){this.$1.reaction_type=a;return this};c.setRtcCowatchEligibleParticipantCount=function(a){this.$1.rtc_cowatch_eligible_participant_count=a;return this};c.setRtcParticipantCount=function(a){this.$1.rtc_participant_count=a;return this};c.setRtcTabFailureReason=function(a){this.$1.rtc_tab_failure_reason=a;return this};c.setSamplingFrequency=function(a){this.$1.sampling_frequency=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoTab=function(a){this.$1.video_tab=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,entry_point:!0,error_code:!0,event:!0,is_cowatch_active:!0,is_fullscreen_mode:!0,is_join_payload_received_while_backgrounded:!0,is_rtc_active:!0,join_payload_received_call_type:!0,join_payload_received_call_ui:!0,join_payload_received_source:!0,layout_mode:!0,living_room_id:!0,name:!0,orientation:!0,pigeon_reserved_keyword_log_type:!0,pigeon_reserved_keyword_module:!0,radio_type:!0,reaction_type:!0,rtc_cowatch_eligible_participant_count:!0,rtc_participant_count:!0,rtc_tab_failure_reason:!0,sampling_frequency:!0,session_id:!0,thread_id:!0,time:!0,video_id:!0,video_tab:!0,weight:!0};e.exports=a}),null);
__d("MessengerBotsWebTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCount=function(a){this.$1.count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIndex=function(a){this.$1.index=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPayload=function(a){this.$1.payload=a;return this};c.setQrContentType=function(a){this.$1.qr_content_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTitle=function(a){this.$1.title=a;return this};c.setTitles=function(a){this.$1.titles=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setType=function(a){this.$1.type=a;return this};c.setURL=function(a){this.$1.url=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={count:!0,event:!0,index:!0,page_id:!0,payload:!0,qr_content_type:!0,time:!0,title:!0,titles:!0,type:!0,url:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setDomain=function(a){this.$1.domain=a;return this};c.setLinkLocation=function(a){this.$1.link_location=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action:!0,domain:!0,link_location:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("WorkChatSuggestionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setSuggestionType=function(a){this.$1.suggestion_type=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,message_id:!0,suggestion_type:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ChatFlyoutPlaceholder.react",["React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={padding:"30px",textAlign:"center"};a=function(){return g.jsx("div",{style:h,children:g.jsx(b("XUISpinner.react"),{size:"large"})})};e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","immutable"],(function(a,b,c,d,e,f){a={fromSearchableEntry:function(a){var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c=="message"&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);c==="message"&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=c==="message"&&e.messageResultType==="groupConversation";c==="thread"||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","gkx","bs_caml_option","CurrentUser","TooltipData","joinClasses","MessagingThreadType","getViewportDimensions","MessengerDotComAndInboxM4Check.bs","LazyWorkMultiCompanyChatTooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.ariaHidden,d=a.customBadge,e=a.useRectBorder,f=a.isMessengerUser,g=a.isPartiesUser,h=a.threadColor,j=a.threadType,k=a.tooltipContent,l=a.size,m=a.isMultiCompany,n=a.className,o=a.showBadge;a=a.children;n=n!==void 0?n:"";var p=function(a){if(d!==void 0)return i.jsx("div",{children:i.jsx("div",{children:b("bs_caml_option").valFromOption(d),className:"_2pon _67in"}),className:"_4ld_ _2pom"});else{if(f===void 0&&g===void 0&&m===void 0)return null;if(o)if(g!==void 0)if(b("CurrentUser").isWorkUser())return null;else return i.jsx("div",{children:i.jsx("div",{className:"_2pon _2poo"}),className:"_4ld_ _2pom"});else if(m!==void 0)if(b("CurrentUser").isWorkUser()){a=m;var c=l!==void 0?l>45:!1;return i.jsx("div",{children:i.jsx(b("LazyWorkMultiCompanyChatTooltip.react"),{children:i.jsx("div",{className:(a&&!c?"_4rwy":"")+(a&&c?" _2zb5":"")})}),className:"_4ld_ _2pom"+(c?"":" _91qq")})}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=f;return i.jsx("div",{children:i.jsx("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}),className:"_4ld_ _2pom"})}else return null}},q=l!==void 0?""+(String(l)+"px"):"auto";j=j!==void 0?j===b("MessagingThreadType").ROOM:!1;var r;if(k!==void 0){var s=k;if(s==="")r={};else{var t=b("getViewportDimensions")().width,u=parseInt("700px".replace("px",""),10);t=t<=u?"above":"left";r=Object.assign({},b("TooltipData").propsFor(s,t))}}else r={};u=k!==void 0&&k!==""?0:void 0;s=j?{background:h!==void 0?h:"#0084ff",height:q,width:q}:{height:q,width:q};t=e!==void 0&&e?!0:!1;k={children:a,className:(t?"":"_4ld-")+(t?" _94ns":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1r":"")+(b("gkx")("1425119")?" _93x9":"")+(j?" _180i":""),style:s};u!==void 0&&(k.tabIndex=b("bs_caml_option").valFromOption(u));h={children:[i.jsx("div",k),p(0)],className:b("joinClasses")("_4ldz",n),style:{height:q,width:q}};c!==void 0&&(h["aria-hidden"]=b("bs_caml_option").valFromOption(c));return i.cloneElement(i.jsxs("div",h),r)}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerProfileImageWrapperReact.re",["MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerProfileImageWrapperReact.bs").make;f.make=a;(function(a){return null});c=b("MessengerProfileImageWrapperReact.bs").jsComponent;f.jsComponent=c}),null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapperReact.re","React"],(function(a,b,c,d,e,f){var g=b("MessengerProfileImageWrapperReact.re").jsComponent,h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsx("div",{className:this.props.className,children:h.jsx(g,{isMessengerUser:(a=this.props.isMessengerUser)!=null?a:void 0,isPartiesUser:(a=this.props.isPartiesUser)!=null?a:void 0,size:this.props.size,customBadge:this.props.customBadge,showBadge:!1,children:h.jsx(b("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";a={getNextHighlightedEntry:function(a,c,d,e){var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()==="search"&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","SearchableEntry","WorkForeignEntityType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function i(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function j(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=i(a):b&&a.is_viewer_friend===!1&&(c=b);return c}var k={convertWorkChatProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d&&(e="fb4c");return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:c,photo:a.profile_picture&&a.profile_picture.uri,auxiliaryData:{isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info},order:-a.viewer_affinity})},convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d?e="fb4c":(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e="friend");d=j(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isActiveAccount:a.work_info&&a.work_info.is_active_account,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertIGMessagingUserToEntry:function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"friend",subtitle:"Instagram",photo:a.profile_picture&&a.profile_picture.uri,uri:null,auxiliaryData:{},order:0})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:a.is_verified,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"game",photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertMessageToEntry:function(a){var c,d;c=a==null?void 0:(c=a.message_thread)==null?void 0:c.thread;d=a==null?void 0:(d=a.matched_message)==null?void 0:d.message;var e=a==null?void 0:a.thread_id,f=a==null?void 0:a.matched_message;a=Number(a==null?void 0:(a=a.message_thread)==null?void 0:a.approx_count);if(c==null||d==null||e==null||f==null||a==null)return null;var i="message:"+e,j=d.snippet,l=g._("{number of messages} matched messages",[g._param("number of messages",a)]);l=a>1?l:j;j=d.timestamp;typeof j==="number"&&a===1?j*=1e3:j=void 0;a=a==1?(d=f)!=null?(d=d.search_result_context)!=null?d.match_ranges:d:d:null;f={matchRanges:a,timestamp:j,thread_id:e,messageResultType:"1on1Conversation"};d="";a=null;if(c.image!==void 0){c.thread_name&&(d=c.thread_name);c.image&&(a=c.image.uri);if(c.all_participants&&c.all_participants.nodes&&c.all_participants.count){if(d==""){j=c.all_participants.count;var m=c.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);d=k.getParticipantsText(!0,m,j)}m=c.all_participants.nodes.map(function(a){a=h(a.messaging_actor.id);return{id:a}});f=babelHelpers["extends"]({},f,{messageResultType:"groupConversation",participantsToRender:m,thread:{thread_id:e,image_src:a,participants:m.map(function(a){return a.id})}})}}else if(c.all_participants&&c.all_participants.nodes[0]&&c.all_participants.nodes[0].messaging_actor){j=c.all_participants.nodes[0].messaging_actor;j.name&&(d=j.name);j.profile_picture&&(a=j.profile_picture.uri);typeof j.is_memorialized==="boolean"&&(f.isMemorializedUser=j.is_memorialized);typeof j.is_messenger_user==="boolean"&&(f.isMessengerUser=j.is_messenger_user);typeof j.is_work_user==="boolean"&&(f.isWorkUser=j.is_work_user);typeof j.is_verified==="boolean"&&(j.__typename==="User"||j.__typename==="Page"?f.isVerified=j.is_verified:f.isVerified=!1);typeof j.username==="string"&&(f.alias=j.username);j.work_foreign_entity_info&&(f.workForeignEntityInfo=j.work_foreign_entity_info)}return new(b("SearchableEntry"))({uniqueID:i,title:d,subtitle:l,type:"message",photo:a,uri:null,order:0,auxiliaryData:f})},convertGroupToEntry:function(a,c){var d;if(!a||!a.thread_key||!a.is_group_thread)return null;var e=a.thread_key.thread_fbid;if(!e)return null;var f=a.image&&a.image.uri;d=a==null?void 0:(d=a.other_participants)==null?void 0:d.edges;if(d==null)return null;d=d.map(function(a){return a.node.messaging_actor.name});d=k.getParticipantsText(!1,d,a.other_participants.count);var g=a.name,i=null;!g?g=d:i=d;if(!g)return null;d={};d.thread={thread_id:e,other_user_fbid:null,image_src:f,participants:a.other_participants.edges.map(function(a){return h(a.node.messaging_actor.id)})};d.participantsToRender=a.other_participants.edges.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:f,title:g,subtitle:i,type:"thread",auxiliaryData:d})},convertMSQGroupToEntry:function(a,c,d){var e,f;if(!a||!a.thread_key)return null;e=a==null?void 0:(e=a.thread_key)==null?void 0:e.thread_fbid;if(!e)return null;var g=a.image&&a.image.uri;f=a==null?void 0:(f=a.all_participants)==null?void 0:f.edges;if(f==null)return null;f=f.filter(function(a){return a.node.id!==d});var i=f.map(function(a){return a.node.messaging_actor.name});i=k.getParticipantsText(!0,i,a.all_participants.count);a=a.thread_name;var j=null;!a?a=i:j=i;if(!a)return null;i={};i.thread={thread_id:e,other_user_fbid:null,image_src:g,participants:f.map(function(a){return h(a.node.messaging_actor.id)})};i.participantsToRender=f.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:g,title:a,subtitle:j,type:"thread",auxiliaryData:i})},getValidatedMatchesRanges:function(a,b){if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c},getParticipantsText:function(a,b,c,d){d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} and {number of other participants} more",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])}};e.exports=k}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2339215389425518"};b.getQueryID=function(){return"339708329890231"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){var c=this;if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var d=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;d=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:d,count:50});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var d=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(d);c.orderedFriendEntries=d;d=(d=a)!=null?(d=d.viewer)!=null?(d=d.messenger_contextual_ranked_users)!=null?(d=d.page_info)!=null?d.has_next_page:d:d:d:d;d&&(c.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.orderedFriendEntries),c.loadMoreFriends(),c.shouldRefetch=!1},b("emptyFunction"))};c.loadMoreFriends=function(){var a=this;if(this.cursor==null)return;var c=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:c})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(c){a.callbackManager.addLocalEntries(c.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};c.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};c.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};c.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};return a}();a=function(){a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};b.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};b.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2046569042080039"};b.getQueryID=function(){return"2118248735074331"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){var c=this;if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var d=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(a);c.audienceEntries=a})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.audienceEntries,!0)},b("emptyFunction"))};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.isBootstrapped=function(){return this.audienceEntries!==null};return a}();a=function(){a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};b.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};b.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerURLUploader",["requireCond","cr:988286","Event","MessengerActions","SubscriptionsHandler","URLMatcher","debounce"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){var e=this;this.handleInputValueChange=function(a){a=e.$1();a=b("URLMatcher").match(a)||(b("cr:988286")!=null?b("cr:988286").matchTaskNumber(a)||b("cr:988286").matchDiffNumber(a):null);a&&(e.$3!==a&&(e.$3=a,b("MessengerActions").loadingPreview(e.$5,a)))};this.$1=a;this.$4=new(b("SubscriptionsHandler"))();this.$5=d;this.$2=b("debounce")(this.handleInputValueChange,200);this.initInput(c)}var c=a.prototype;c.getMatchedURL=function(){return this.$3};c.initInput=function(a){this.$4.addSubscriptions(b("Event").listen(a,"keyup",this.$2),b("Event").listen(a,"paste",this.$2))};c.setThreadID=function(a){this.$5=a};c.clearShareData=function(){this.$3=null};return a}();e.exports=a}),null);
__d("MessengerThreadSearchActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CHANGE_RESULT_INDEX:null,GET_MORE_CONTEXT:null,GET_MORE_THREADS:null,UPDATE_THREAD_STATE:null,SCROLL_TO_MESSAGE:null});a={Types:g,selectPrevious:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:1})},selectNext:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:-1})},getMoreSearchContext:function(a,c){b("MessengerDispatcher").dispatch({type:g.GET_MORE_CONTEXT,direction:a,threadID:c})},updateThreadState:function(a,c){b("MessengerDispatcher").dispatch({type:g.UPDATE_THREAD_STATE,threadID:a,mid:c})},loadMoreThreads:function(){b("MessengerDispatcher").dispatch({type:g.GET_MORE_THREADS})},scrollToMessage:function(a){b("MessengerDispatcher").dispatch({type:g.SCROLL_TO_MESSAGE,messageID:a})}};e.exports=a}),null);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("BootloadOnRender.react"),{component:h.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:h.jsx("div",{className:"_497p",children:"..."})})};return c}(h.PureComponent);e.exports=a}),null);
__d("MercuryThreadTitleReact.re",["bs_curry","MercuryThreadTitleReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MercuryThreadTitleReact.bs").component,function(a){return b("bs_curry").app(b("MercuryThreadTitleReact.bs").make,[a.className,a.maxTitle,a.thread,a.viewer,a.isNewThread,a.showUnreadCount,a.useShortName,a.useAndSeparator,a.children])});f.component=a;f["default"]=a}),null);
__d("makeMercuryThreadPayload",[],(function(a,b,c,d,e,f){"use strict";var g={admins:{},approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:!0,cannot_reply_reason:null,can_viewer_report:!1,solid_color:null,header_color:null,footer_color:null,game_id:null,gradient_colors:[],group_thread_subtype:0,theme_id:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!0,description:null,ephemeral_ttl_mode:0,folder:"inbox",has_email_participant:!1,has_montage:!1,image_src:null,square_image_src:null,is_archived:!1,is_business_page_active:!1,is_canonical_user:!1,is_canonical:!1,is_from_weak_entry_point:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,is_pinned:!1,is_pin_protected:!1,is_subscribed:!0,is_thread_queue_enabled:!0,joinable_link:null,joinable_mode:{link:"",mode:0},last_message_id:null,last_message_timestamp:0,last_message_type:null,last_read_timestamp:0,linked_mentorship_programs:null,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,message_count:0,mute_until:null,name:"",object_association_type:null,other_user_fbid:null,page_unsubscribe_status:!1,page_thread_info:null,participant_add_mode:null,participants:[],participants_event_status:null,pinned_messages:[],reactions_mute_mode:0,read_only:!1,recipients_loadable:!0,rtc_call_data:null,server_timestamp:0,snippet_attachments:[],snippet_sender:null,snippet:null,thread_associated_job_applications:null,thread_associated_page_admin:null,thread_connectivity_data:null,thread_fbid:null,thread_id:"",thread_pin_timestamp:null,thread_type:0,thread_unsendability_status:null,timestamp:0,unread_count:0,comm_status:null,comm_source_id:null,page_comm_item_id:null,subtitle:null,comm_item_owners:null,comm_icon_type:[],composer_input_disabled:!1,is_other_recipient_page:!1,is_canonical_neo_user:!1,group_approval_queue:null,admin_model_status:null,groups_sync_status:null,work_associated_group:null,graphql_token:null,conversion_detection_data:{is_eligible:!1,conversion_type:"",currency_code:null,currency_amount:0,timestamp:0,classifier:null,page_reply:null,icebreaker_key:null,icebreaker_message:null}};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}e.exports=a}),null);
__d("MercuryThreadTitleSafe.react",["MercuryThreadTitleReact.re","React","makeMercuryThreadPayload"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryThreadTitleReact.re").component,h=b("React");function a(a){var c=a.thread;a=babelHelpers.objectWithoutPropertiesLoose(a,["thread"]);a=babelHelpers["extends"]({},a,{thread:b("makeMercuryThreadPayload")(c)});return h.jsx(g,babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("MessengerBusinessCallToActionUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.convertCTATypeToInt=function(a){switch(a){case"OPEN_NATIVE":return 1;case"OPEN_URL":return 2;case"POSTBACK":return 4;case"ACCOUNT_LINK":return 5;case"SHARE":return 7;case"PAYMENT":return 8;case"FACEBOOK_REPORT_A_PROBLEM":return 9;case"NAVIGATION":return 11;case"EXTENSIBLE_SHARE":return 12;case"OPEN_PAGE_ABOUT":return 14;case"OPEN_BRANDED_CAMERA":return 15;case"OPEN_THREAD":return 16;case"OPEN_MARKETPLACE_PROFILE_REPORT":return 17;case"OPEN_DIRECT_SEND_VIEW":return 18;case"BOOKING":return 19;case"BOOKING_ADD_TO_CALENDAR":return 20;case"ACCOUNT_UNLINK":return 21;case"SUBSCRIPTION_PRESELECT":return 10;case"OPEN_REACT_NATIVE_MINI_APP":return 13;case"OPEN_CANCEL_RIDE_MUTATION":return 3;case"MANAGE_MESSAGES":return 6;default:return-1}};return a}();e.exports=new a()}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscription",["RelayFBEnvironment","RelayModern","MessengerBusinessPersistentMenuUpdateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("MessengerBusinessPersistentMenuUpdateSubscription.graphql");function a(a,c){a={input:{page_id:a}};return h(b("RelayFBEnvironment"),{subscription:i,variables:a,updater:c})}e.exports={subscribe:a}}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react",["invariant","MessengerBusinessCallToActionUtils","MessengerBusinessPersistentMenuUpdateSubscription","React","RelayFBEnvironment","RelayModern","promiseDone","MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("React");var i=b("RelayModern").fetchQuery;b("RelayModern").graphql;var j=h!==void 0?h:h=b("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(i(b("RelayFBEnvironment"),j,{pageID:this.props.pageID}),function(c){c.node.gk_check.passes_gk&&(a.$1=b("MessengerBusinessPersistentMenuUpdateSubscription").subscribe(a.props.pageID,function(c){c=c.getRootField("messenger_business_persistent_menu_update_subscribe");if(c==null)return;c=c.getLinkedRecords("menu_items");if(c==null)return;c=c.filter(Boolean).map(function(c){var d=c.getValue("action_link");d===null||typeof d==="string"||g(0,19527);var e=c.getValue("action_type");typeof e==="string"||g(0,19528);var f=c.getValue("id");f===null||typeof f==="string"||g(0,18995);var h=c.getValue("is_disabled");typeof h==="boolean"||g(0,19525);var i=c.getValue("is_mutable_by_server");typeof i==="boolean"||g(0,19532);var j=c.getValue("logging_token");j===null||typeof j==="string"||g(0,19534);var k=c.getValue("page_id");typeof k==="string"||g(0,19535);var l=c.getValue("title");l===null||typeof l==="string"||g(0,1815);return{action_link:d,action_type:b("MessengerBusinessCallToActionUtils").convertCTATypeToInt(e),id:f,is_disabled:h,is_mutable_by_server:i,logging_token:j,page_id:k,title:l,webview_metadata:a.$2(c)}});a.props.onUpdate(c)}))})};d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.render=function(){return null};d.$2=function(a){if(!a)return{fallback_url:null,webview_height_ratio:null,messenger_extensions:!1};var b=a.getValue("fallback_url");b===null||typeof b==="string"||g(0,19538);var c=a.getValue("webview_height_ratio");c===null||typeof c==="number"||g(0,19539);a=a.getValue("messenger_extensions");typeof a==="boolean"||g(0,19543);return{fallback_url:b,webview_height_ratio:c,messenger_extensions:a}};return c}(a.Component);e.exports=c}),null);
__d("MessengerBotMenuButton.react",["AutoFocusableLink.react","BootloadOnRender.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react","MessengerContextualDialog.react","MessengerEnvironment","React","XUIContextualDialog.react","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=302,i=280;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={flyoutOpen:!!d.props.clicked,isLoading:!1,menuItems:null},d.$3=function(){d.setState({flyoutOpen:!1})},d.$8=function(){d.state.flyoutOpen&&d.$3()},d.$5=function(){d.$1=d.state.flyoutOpen},d.$4=function(a){a.stopPropagation();if(d.state.flyoutOpen||d.$1)return;d.state.menuItems===null&&(d.setState({isLoading:!0}),d.$2());d.setState({flyoutOpen:!d.state.flyoutOpen})},d.$7=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(d.props.pageID,a),d.setState({menuItems:a,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.flyoutOpen&&this.state.menuItems===null&&(this.setState({isLoading:!0}),this.$2())};d.componentDidMount=function(){new(b("MessengerBotsWebTypedLogger"))().setEvent("bot_composer_menu_icon_displayed").setPageID(this.props.pageID).log()};d.componentWillUnmount=function(){this.state.flyoutOpen&&this.$3()};d.render=function(){return g.jsxs("span",{children:[g.jsx(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:this.props.className,href:"#",onClick:this.$4,onMouseDown:this.$5,role:"button",ref:"link"}),this.$6(),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:this.props.pageID,onUpdate:this.$7})]})};d.$6=function(){var a=this;if(!this.state.flyoutOpen)return null;var c=b("MessengerEnvironment").messengerui,d=c?h:i;c=c?b("MessengerContextualDialog.react"):b("XUIContextualDialog.react");return g.createElement(c,babelHelpers["extends"]({alignment:this.props.flyoutAlignment,width:d,position:"above",contextRef:function(){return a.refs.link},onBeforeHide:this.$8,onBlur:this.$3,shown:this.state.flyoutOpen},this.props,{key:"contextualDialog"}),g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{onEscKeyDown:this.$3,shown:this.state.flyoutOpen,isLoading:this.state.isLoading,menuItems:this.state.menuItems,pageID:this.props.pageID,threadID:this.props.threadID,onClick:this.$3}),loader:b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButton.react"),placeholder:g.jsx(b("ChatFlyoutPlaceholder.react"),{})}))};d.$2=function(){var a=this;b("MessengerBotMenuDataFetcher").getMenuItems(this.props.pageID,function(b){a.setState({menuItems:b,isLoading:!1})},function(){a.setState({menuItems:[],isLoading:!1})})};return c}(g.Component);a.propTypes={autoFocus:(c=b("prop-types")).bool,className:c.string,clicked:c.bool,flyoutAlignment:c.string.isRequired,threadID:c.string.isRequired,pageID:c.string.isRequired};e.exports=a}),null);
__d("MessengerUserInputAppDispatcher",["ExplicitRegistrationDispatcher","objectValues"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var d=c.prototype;d.explicitlyRegisterStoresInMap=function(a){this.explicitlyRegisterStores(b("objectValues")(a))};return c}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("MessengerComposerInputStore",["FluxStore","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerUserInputAppDispatcher"))||this;c.$MessengerComposerInputStore1={isUserInputRequested:!1,requestNumResults:g,requestType:null};return c}var d=c.prototype;d.getState=function(){return this.$MessengerComposerInputStore1};d.__onDispatch=function(a){var b=a.type;a=a.data;switch(b){case"UPDATE_USER_INPUT_REQUESTED":this.$MessengerComposerInputStore1={isUserInputRequested:a.isUserInputRequested,requestNumResults:a.requestNumResults,requestType:a.requestType};this.__emitChange();break}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MessengerContactActions.bs",[],(function(a,b,c,d,e,f){"use strict";a={ADD_OWNER:"ADD_OWNER",FREE_CALL:"FREE_CALL",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT",REPORT_GROUP_CHAT_USER:"REPORT_GROUP_CHAT_USER"};f.actions=a}),null);
__d("MessengerContactImageReact.bs",["Image.bs","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.className,d=a.customBadge,e=a.isMessengerUser,f=a.isPartiesUser,h=a.size,i=a.src;a=a.isMultiCompany;a=a!==void 0?a:!1;a={ariaHidden:!0,size:h,isMultiCompany:a,showBadge:a,children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,i,h,void 0,h,void 0,[]))};d!==void 0&&(a.customBadge=b("bs_caml_option").valFromOption(d));e!==void 0&&(a.isMessengerUser=b("bs_caml_option").valFromOption(e));f!==void 0&&(a.isPartiesUser=b("bs_caml_option").valFromOption(f));return g.jsx("div",{children:g.createElement(b("MessengerProfileImageWrapperReact.bs").make,a),className:b("bs_belt_Option").getWithDefault(c,"")})}function c(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),customBadge:j.fromOption(c),isMessengerUser:j.fromOption(d),isPartiesUser:j.fromOption(e),size:f,src:j.fromOption(g),isMultiCompany:j.fromOption(h)},i)}d={make:c};e=b("bs_belt_Option").getWithDefault;c=a;a=a;f.$pipe$question=e;f.make=c;f.jsComponent=a;f.StraightJSComponent=d}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.className;a=a.participantTimeZone;if(a!==void 0){a=a-new Date().getTimezoneOffset()*-60;if(a===0)return null;else{a=new Date(Date.now()+a*1e3);var d=a.getHours();d=d<6||d>22;c=b("joinClasses")("_10rk",c);return i.jsx("span",{children:i.jsxs("span",{children:["(",i.jsx(b("MercuryThreadTimestampReact.bs").make,{time:a.getTime()})," ",h._("local time"),")"],className:d?"_2f3x":""}),className:c})}}else return null}c=22;d=6;e=a;f.nightStartHour=c;f.nightEndHour=d;f.make=e}),null);
__d("ImageSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE_PICTURE:"profile_picture",IMAGE:"image"});e.exports=a}),null);
__d("ImageSourceRequest",["CurrentUser","ImageSourceType","KeyedCallbackManager","MercuryServerDispatcher"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this._request={fbid:null,type:null,width:null,height:null,resize_mode:null},this._callback=null}var c=a.prototype;c.setFBID=function(a){this._request.fbid=a;return this};c.setType=function(a){if(![b("ImageSourceType").PROFILE_PICTURE,b("ImageSourceType").IMAGE].includes(a))throw new TypeError("ImageSourceRequest.setType: invalid type "+a);this._request.type=a;return this};c.setDimensions=function(a,b){this._request.width=a;this._request.height=b;return this};c.setResizeMode=function(a){if(!["p","s"].includes(a))throw new TypeError("ImageSourceRequest.setResizeMode: invalid resize mode "+a);this._request.resize_mode=a;return this};c.setCallback=function(a){this._callback=a;return this};c.send=function(){if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error("ImageSourceRequest: You must set all the fields");var a=h(),c=i(this._request);a.executeOrEnqueue(c,this._callback);if(a.getUnavailableResourcesFromRequest(c).length===1){b("MercuryServerDispatcher").trySend("/ajax/image_source.php",{requests:[this._request]});return!0}return!1};return a}();var g=null;function h(){if(g)return g;var a=new(b("KeyedCallbackManager"))();g=a;b("MercuryServerDispatcher").registerEndpoints({"/ajax/image_source.php":{request_user_id:b("CurrentUser").getID(),mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,batch_function:function(a,b){var c;(c=a.requests).push.apply(c,b.requests);return a},handler:function(b,c){c=c.getData().requests;for(var d=0;d<c.length;++d)a.setResource(i(c[d]),b[d])}}});return a}function i(a){return[a.fbid,a.type,a.width,a.height,a.resize_mode].join("|")}e.exports=a}),null);
__d("MessengerParticipantsImages.bs",["bs_curry","bs_js_dict","MercuryIDs","bs_caml_option","MercuryAssert","ImageSourceType","ImmutableObject","bs_js_null_undefined","ImageSourceRequest","PhotoResizeModeConst","MessengerParticipants.bs","MercuryParticipantsConstants"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){new(b("ImageSourceRequest"))().setFBID(b("bs_js_null_undefined").fromOption(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a)))).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(c,c).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(function(c){return b("bs_curry")._2(d,a,c)}).send();return 0}function h(a,c,d,e){b("MercuryAssert").allParticipantIDs(a);var f={contents:!1},h=b("MessengerParticipants.bs").getMulti(a,function(e){var h={},i=function(d,e){h[d]=e;if(!f.contents&&a.length===Object.keys(h).length)return b("bs_curry")._1(c,h);else return 0},j=function(a,c){var d=b("bs_js_dict").get(e,a);d!==void 0&&(e[a]=b("ImmutableObject").set(b("bs_caml_option").valFromOption(d),{big_image_src:c.uri}));return i(a,c.uri)};Object.keys(e).map(function(a){return a}).forEach(function(a){var c=b("bs_js_dict").get(e,a);if(c!==void 0){c=b("bs_caml_option").valFromOption(c);var f=d===b("MercuryParticipantsConstants").BIG_IMAGE_SIZE?b("bs_caml_option").nullable_to_opt(c.big_image_src):void 0;if(f!==void 0)return i(c.id,f);else return g(a,d,j)}else return g(a,d,j)});return 0});return{remove:function(a){f.contents=!0;if(h==null)return 0;else return b("MessengerParticipants.bs").removeCallback(h)}}}function i(a,c,d){return h(a,c,b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,0)}function a(a,c){return i(a,function(d){return b("bs_curry")._1(c,a.map(function(a){return b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(d,a))}))},0)}function c(a,c,d){return h(a,function(d){return b("bs_curry")._1(c,a.map(function(a){return b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(d,a))}))},d,0)}f.getBigImageMultiWithSize=h;f.getBigImageMulti=i;f.getOrderedBigImageMulti=a;f.getOrderedBigImageMultiWithSize=c}),null);
__d("MessengerParticipantsImages.re",["bs_curry","MessengerParticipantsImages.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._4(b("MessengerParticipantsImages.bs").getBigImageMultiWithSize,a.ids,a.callback,a.size,c);return a};f.getBigImageMultiWithSize=a;c=function(a,c){a=b("bs_curry")._3(b("MessengerParticipantsImages.bs").getBigImageMulti,a.ids,a.callback,c);return a};f.getBigImageMulti=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerParticipantsImages.bs").getOrderedBigImageMulti,a,c);return a};f.getOrderedBigImageMulti=d;e=function(a,c,d){a=b("bs_curry")._3(b("MessengerParticipantsImages.bs").getOrderedBigImageMultiWithSize,a,c,d);return a};f.getOrderedBigImageMultiWithSize=e}),null);
__d("MercuryParticipantsImage.react",["cssVar","requireCond","MessengerParticipantsImages.re","React","SplitImage.react","cr:1425118","filterNulls","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("React");var i=a.useLayoutEffect,j=a.useState;function k(a){var c=a.className,d=a.halfView,e=a.participants,f=a.partiesProfileImages;a=a.size;var g=j([]),k=g[0],l=g[1];i(function(){var a,c=!0;e!=null&&e.length?a=b("MessengerParticipantsImages.re").getOrderedBigImageMulti(b("filterNulls")(e),function(a){if(!c)return;a=f?a.concat(f):a;l(b("filterNulls")(a))}):l([]);return function(){c=!1,a&&a.remove()}},[e,f]);if(b("gkx")("1425119")){if(b("cr:1425118")!=null&&k.length>1)return h.jsx(b("cr:1425118"),{participantImages:k,size:a});if(k.length>0)return h.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.05)"},children:h.jsx(b("SplitImage.react"),{border:!0,className:c||"",halfView:d,srcs:k,size:Number(a)},e?e.join("-"):"")})}return k.length>0?h.jsx(b("SplitImage.react"),{border:!0,className:c||"",halfView:d,srcs:k,size:Number(a)},e?e.join("-"):""):null}c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx(k,babelHelpers["extends"]({},this.props))};return b}(h.Component);e.exports=c}),null);
__d("MercuryThreadImage.react",["cssVar","cx","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","Pixelz.react","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=i.useMemo;function a(a){var c,d=a.thread,e=a.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,f=(c=d.square_image_src)!=null?c:d.image_src,g=b("MercuryIDs").isCanonical(d.thread_id),h=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);c=j(function(){var a=[];d.participants&&(d.participants.length===1&&d.participants[0]===h?a=[].concat(d.participants):(a=d.participants.filter(function(a){return a!==h}),g||(a=a.slice(0,3))));return a},[d.participants,h,g]);var k=j(function(){return f!=null&&f!==""&&a.useBackground===!0?i.jsx("div",{style:{height:e,backgroundImage:"url("+f+")",backgroundColor:b("gkx")("1425119")?"rgba(0, 0, 0, 0.05)":void 0,backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:e}}):i.jsx(b("Pixelz.react"),{alt:"",height:e,resizeMode:"cover",src:f,width:e})},[f,a.useBackground,e]);if(f!=null&&f!=="")return k;if(d.thread_type===3){k={};k.height=e+"px";k.width=e+"px";d.solid_color!=null&&d.solid_color!==""&&(k.background=d.solid_color);return i.jsx("span",{className:"_asv _asw",style:k,children:d.name[0]})}return i.jsx(b("MercuryParticipantsImage.react"),{className:a.className,halfView:a.halfView,participants:c,size:e})}e.exports=a}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_curry","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_caml_option").valFromOption(a)===b("bs_caml_option").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","MercuryIDs","OptionType.bs","bs_caml_option","ReasonReact.bs","WorkForeignEntityInfo.bs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a,c){var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null||!(a&&e!==0))return!1;else{a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}}function a(a){var c=a.className,d=a.isPresenceForWork,e=a.isDoNotDisturb,f=a.useRectBorder,g=a.showBadge,j=a.size,k=a.participants,l=a.thread;a=a.viewer;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;var m=!b("WorkForeignEntityInfo.bs").areAllCoworkers(k);e=m?void 0:e?b("bs_caml_option").some(h.jsx("div",{className:"_466z"})):d?b("bs_caml_option").some(h.jsx("div",{className:"_4670"})):void 0;d={useRectBorder:f,isMessengerUser:i(l,k),isMultiCompany:m,showBadge:g&&b("MercuryIDs").isCanonical(l.thread_id)||m,children:b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(j,l,!0,a,[]))};e!==void 0&&(d.customBadge=b("bs_caml_option").valFromOption(e));f=b("bs_caml_option").nullable_to_opt(l.solid_color);f!==void 0&&(d.threadColor=b("bs_caml_option").valFromOption(f));k=b("bs_caml_option").nullable_to_opt(l.thread_type);k!==void 0&&(d.threadType=b("bs_caml_option").valFromOption(k));j!==void 0&&(d.size=b("bs_caml_option").valFromOption(j));g={children:h.createElement(b("MessengerProfileImageWrapperReact.bs").make,d)};c!==void 0&&(g.className=b("bs_caml_option").valFromOption(c));return h.jsx("div",g)}var j=h.memo(a,function(a,c){if(a.className===c.className&&a.showBadge===c.showBadge&&b("OptionType.bs").equalsReference(a.size,c.size)&&i(a.thread,a.participants)===i(c.thread,c.participants)&&b("WorkForeignEntityInfo.bs").areAllCoworkers(a.participants)===b("WorkForeignEntityInfo.bs").areAllCoworkers(c.participants)&&a.isPresenceForWork===c.isPresenceForWork&&a.isDoNotDisturb===c.isDoNotDisturb&&a.useRectBorder===c.useRectBorder&&a.thread===c.thread)return a.viewer===c.viewer;else return!1});function c(a){var c={participants:a.participants,thread:a.thread,viewer:a.viewer};a.className!==void 0&&(c.className=b("bs_caml_option").valFromOption(a.className));a.isPresenceForWork!==void 0&&(c.isPresenceForWork=b("bs_caml_option").valFromOption(a.isPresenceForWork));a.isDoNotDisturb!==void 0&&(c.isDoNotDisturb=b("bs_caml_option").valFromOption(a.isDoNotDisturb));a.useRectBorder!==void 0&&(c.useRectBorder=b("bs_caml_option").valFromOption(a.useRectBorder));a.showBadge!==void 0&&(c.showBadge=b("bs_caml_option").valFromOption(a.showBadge));a.size!==void 0&&(c.size=b("bs_caml_option").valFromOption(a.size));return h.createElement(j,c)}f.getIsMessengerUser=i;f.make=j;f.jsComponent=c}),null);
__d("VideoCallWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_ESCALATION_CALL_BUTTON:"acceptEscalationButton",ADD_GROUP_MEMBERS_BUTTON:"addGroupMembersButton",VIEW_CALL_MEMBERS_BUTTON:"viewCallMembersButton",ANSWER_CALL_BUTTON:"answerCallButton",DOMINANT_SPEAKER_SWITCH_BUTTON:"dominantSpeakerSwitchButton",END_CALL_BUTTON:"endCallButton",ESCALATE_CALL_BUTTON:"escalateCallButton",FULL_SCREEN_BUTTON:"fullScreenButton",GRID_SWITCH_BUTTON:"gridSwitchButton",COWATCH_BUTTON:"cowatchButton",COWATCH_COMPOSER_DIALOG_CANCEL_BUTTON:"cowatchComposerDialogCancelButton",IGNORE_CALL_BUTTON:"ignoreCallButton",INCALL_VIDEO_CONTAINER:"incallVideoContainer",REDIAL_BUTTON:"rediallButton",REJECT_CALL_BUTTON:"rejectCallButton",REMOTE_VIEW_THUMBNAIL:"remoteViewThumbnail",RTC_APP_VIEW_START_CALL_BUTTON:"RTCAppViewStartCallButton",RTC_INCALL_VIDEO:"RTCIncallVideo",RTC_PICKER_DIALOG_CALL_BUTTON:"RTCPickerDialogCallButton",RTC_PICKER_DIALOG_CANCEL_BUTTON:"RTCPickerDialogCancelButton",RTC_PICKER_DIALOG_CONTACT_LIST_ITEM:"RTCPickerDialogContactListItem",RTC_PICKER_DIALOG_RING_BUTTON:"RTCPickerDialogRingButton",STAR_RATING_VIEW:"starRatingView",STAR_RATING_NOT_NOW_BUTTON:"starRatingNotNowButton",START_VIDEO_CALL:"startVideoCall",START_VOICE_CALL:"startVoiceCall",TOGGLE_AUDIO_BUTTON:"toggleAudioButton",TOGGLE_VIDEO_BUTTON:"toggleVideoButton",TOGGLE_CHAT_BUTTON:"toggleChatButton",TOGGLE_CAMERA_BUTTON:"toggleCameraButton",CLOSE_CHAT_BUTTON:"closeChatButton",SETTINGS_BUTTON:"settingsButton",SAVE_SETTINGS_BUTTON:"saveSettingsButton",CLOSE_CALL_WINDOW_BUTTON:"closeCallWindowButton",CHAT_TAB_VIDEO_BUTTON:"chatTabVideoButton",CHAT_TAB_VOICE_BUTTON:"chatTabVoiceButton",PROFILE_DROPDOWN_MENU:"profileDropdownMenu",RTC_CALL_ACTION_LINK:"RTCCallActionLink",STAR_RATING_SUBMIT_BUTTON:"submitStarRatingButton",DECLINE_ESCALATION_CALL_BUTTON:"declineEscalationButton",VIDEO_LAYOUT_SWITCH_BUTTON:"videoLayoutSwitchButton",HEADER_VIEW:"headerView",POPOUT_SCREEN_CONTENT:"popoutScreenContent",CREATE_VIDEO_CHAT_LINK_BUTTON:"createVideoChatLinkButton",CALL_TIMER:"callTimer",CALL_CONTROLS:"CallControls",FOOTER_VIEW:"footerView",CONTENT_VIEW:"contentView",CHAT_PANEL:"chatPanel",POPOVER_MENU_BUTTON:"show-menu-button",VIDEO_CALL_PEER_TAG:"video-call-peerTag",SELF_VIEW_ROOT:"SelfView",RTC_SELF_VIEW:"RTCSelfView",SELF_VIEW_CAMERA_VIDEO:"SelfViewCameraVideo",SELF_VIEW_SCREEN_TILE:"SelfViewScreenTile",SELF_VIEW_SCREEN_VIDEO:"SelfViewScreenVideo",SELF_VIEW_SCREEN_BUTTON:"SelfViewScreenButton",SELF_VIEW_DARKEN_OVERLAY:"SelfViewDarkenOverlay",ADD_PARTICIPANTS_DIALOG_CANCEL_BUTTON:"AddParticipantsDialogCancelButton",ADD_PARTICIPANTS_DIALOG_RING_BUTTON:"AddParticipantsDialogRingButton",VIEW_PARTICIPANTS_DIALOG_CLOSE_BUTTON:"ViewParticipantsDialogCloseButton",VIEW_PARTICIPANTS_DIALOG_PEOPLE_TAB_BUTTON:"view_participants_dialog_people_tab_button",VIEW_PARTICIPANTS_DIALOG_SETTINGS_TAB_BUTTON:"view_participants_dialog_settings_tab_button",VIEW_PARTICIPANTS_DIALOG_SETTINGS_END_CALL_BUTTON:"view_participants_dialog_settings_end_call_button",REMOVE_GUEST_DIALOG_CANCEL_BUTTON:"RemoveGuestDialogCancelButton",REMOVE_GUEST_DIALOG_CONFIRM_BUTTON:"RemoveGuestDialogConfirmButton",REMOVE_GUEST_DIALOG_ONE_GUEST_LINK:"RemoveGuestDialogOneGuestLink",REMOVE_GUEST_DIALOG_ALL_GUESTS_LINK:"RemoveGuestDialogAllGuestsLink",BLOCK_CALLS_PERMANENT:"BlockCallsPermanent",BLOCK_CALLS_ONE_HOUR:"BlockCallsOneHour",BLOCK_CALLS_EIGHT_AM:"BlockCallsEightAm",BLOCK_CALLS_BUTTON:"BlockCallsButton",MEETUP_LINK_LOCK_UNLOCK:"meetup_lock_unlock",LOCK_ROOM_DIALOG_CLOSE_BUTTON:"lock_room_dialog_close_button",LOCK_ROOM_DIALOG_CANCEL_BUTTON:"lock_room_dialog_cancel_button",LOCK_ROOM_DIALOG_CONFIRM_BUTTON:"lock_room_dialog_confirm_button",LEAVE_ROOM_DIALOG_CANCEL_BUTTON:"leave_room_dialog_cancel_button",LEAVE_ROOM_DIALOG_CONFIRM_BUTTON:"leave_room_dialog_confirm_button"})}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","React","Utils.bs","gkx","bs_caml_obj","Link.react","MercuryIDs","Badge.react","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","TooltipData","joinClasses","MessengerState.bs","PresenceStatus","ImageBlock.react","MercuryTimestamp","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MercuryThreadTimestampReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerTextWithEntities.react","MessengerGraphQLTypeaheadAdapter","MercuryIgnoredBlockedParticipants.bs","WorkUserEmojiWithTooltipBootloader.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a).contains(c);else return!1}function l(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD||d.type===b("MercuryParticipantTypes").MESSAGE,h=d.photo,i,k,l;c!==void 0?f==null||!g?i=1:(k=b("bs_caml_option").valFromOption(c),l=f,i=2):e==null||f==null||!g?i=1:(k=e,l=f,i=2);switch(i){case 1:if(h==null)return j.jsx("div",{className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":"")});else{c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);g={className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":"")+" _5rmm",size:32,src:h,isMultiCompany:c};e=b("bs_caml_option").nullable_to_opt(d.isMessengerUser);e!==void 0&&(g.isMessengerUser=b("bs_caml_option").valFromOption(e));return j.createElement(b("MessengerContactImageReact.bs").make,g)}case 2:return j.jsx(b("MessengerThreadImageReact.bs").make,{className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":""),size:32,participants:l,thread:k,viewer:a})}}function m(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return j.jsx(b("Badge.react"),{size:"medium",type:"bot"});else return null}function n(a){a=a.isVerified;a=a==null?!1:a;if(a)return j.jsx(b("Badge.react"),{size:"medium",type:"verified"});else return null}function o(a,b){var c=[],d={contents:0};b.forEach(function(b){var e=b.offset;b=b.offset+b.length|0;if(d.contents<e){var f=a.substring(d.contents,e);c.push(f)}f=j.jsx("span",{children:a.substring(e,b),className:"_7u0a"});c.push(f);d.contents=b;return 0});b=a.substring(d.contents,a.length);c.push(b);return c}function p(a){var c=b("CurrentUser").isWorkUser(),d=b("gkx")("1222861"),e=b("MercuryIDs").isValid(a.uid),f=a.type;if(c&&d)if(e)if(f==null||f!==b("MercuryParticipantTypes").USER)c=void 0;else try{c=b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.uid))}catch(a){c=void 0}else c=f==null||f!==b("MercuryParticipantTypes").USER?void 0:b("FBID.bs").ofString(a.uid);else c=void 0;if(c!==void 0)return j.createElement(b("WorkUserEmojiWithTooltipBootloader.react"),{userID:b("bs_caml_option").valFromOption(c),withSpace:!0});else return null}function q(a){return j.jsxs("div",{children:[j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.title}),p(a),m(a),n(a)],className:"_3q34"})}function r(a,c){var d=a.subtitle;if(!(d==null)&&d!==""){var e=b("MessengerGraphQLTypeaheadAdapter").getValidatedMatchesRanges(a.matchRanges,d);d=o(d,e);e=b("bs_caml_obj").caml_equal(a.type,b("MercuryParticipantTypes").MESSAGE);var f=a.timestamp;if(e&&!(f==null)){e=f;return j.jsxs("div",{children:[q(a),j.jsxs("div",{children:[j.jsx("span",{children:d,className:"_3q35 _7s4c"}),j.jsx("span",{children:"\xb7",className:"_7s4d"}),j.createElement(b("MercuryThreadTimestampReact.bs").make,{time:e,title:b("MercuryTimestamp").getAbsoluteTimestamp(e),text:b("MercuryTimestamp").getRelativeTimestamp(e),className:"_7s4e"})],className:"_5l-3"})]})}else f=2;if(f===2)return j.jsxs("div",{children:[q(a),j.jsx("div",{children:d,className:"_3q35"})]})}e={className:"_5ywd"};f=b("bs_caml_option").nullable_to_opt(a.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return j.jsxs("div",{children:[a.title,j.createElement(b("MessengerLocalTimeReact.bs").make,e),p(a),m(a),n(a)],className:(c?"":"_8slc")+(c?" _8sld":"")})}function s(a,c,d,e){if(b("gkx")("818495")){var f={contents:!1},g=b("FBID.bs").ofString(a.uid);if(g!==void 0&&e!==void 0){var h=b("bs_caml_option").valFromOption(e);b("MessengerState.bs").compute(d,function(a){f.contents=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(d,a.blocked_ids,h);return 0})}if(f.contents)return j.jsxs("div",{children:[q(a),j.jsx("div",{children:i._("Blocked"),className:"_3q35"})]});else return r(a,c)}else return r(a,c)}function t(a){var c=a.subtitle;if(!(c==null)&&c!=="")return j.jsxs("div",{children:[c,j.jsx("span",{children:j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.title.substring(c.length+3|0,a.title.length)}),className:"_7l-p"})],className:"_364g"});c={className:"_5ywd"};var d=b("bs_caml_option").nullable_to_opt(a.timezone);d!==void 0&&(c.participantTimeZone=b("bs_caml_option").valFromOption(d));return j.jsxs("div",{children:[a.title.substring(3,a.title.length),j.createElement(b("MessengerLocalTimeReact.bs").make,c)],className:"_364g _7l-p"})}function u(a,c){var d=c.type;if(a!==void 0&&a&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var v=j.jsx("span",{children:i._("Added"),className:"_5rh4"}),w=j.jsx("span",{children:i._("Invited"),className:"_5rh4"}),x=j.jsx(b("Image.react"),{className:"_1kqm",src:h("86852")});function y(a,c){c.state.thisRef.contents=a==null?void 0:b("bs_caml_option").some(a);return 0}function z(a){a=a.state;var c=a.isHighlighted,d=a.onScrollIntoView,e=a.thisRef.contents;if(c!==void 0&&c&&d!==void 0&&e!==void 0){c=b("bs_caml_option").valFromOption(e);b("bs_curry")._1(d,c);e=a.onRenderHighlight;if(e!==void 0)return b("bs_curry")._1(e,c);else return 0}else return 0}function A(a){var c=a.newSelf,d=c.state.isHighlighted;a=a.oldSelf.state.onScrollIntoView;var e=c.state.thisRef.contents;if(d!==void 0&&d&&a!==void 0&&e!==void 0){d=b("bs_caml_option").valFromOption(e);b("bs_curry")._1(a,d);e=c.state.onRenderHighlight;if(e!==void 0)return b("bs_curry")._1(e,d);else return 0}else return 0}function a(a){var c=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),d=function(a,d,e,f,g,h,m,n,o,p,q,r,B,C,D,E,F,G,H,I,J,K,L,M){var N=E!==void 0?E:"",O=function(a){if(h!==void 0)return 0;else{a.stopPropagation();a.preventDefault();return 0}},P=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return b("bs_caml_option").valFromOption(f)(d,c);else return 0;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return 0},Q=function(a){a=p===!0;if(a&&e!==void 0)return b("bs_curry")._1(e,d);else return 0},R=function(a){a.stopPropagation();return P(b("MessengerContactActions.bs").actions.SELECT,a)},S=function(a){var c=a.send;a=a.state;if(F!==void 0){var d=b("bs_caml_option").valFromOption(F).get(a.contact.uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(k(D,a.contact.uid))return v;else if(k(q,a.contact.uid))return w;else if(k(G,a.contact.uid))return x;else if(d[1])return d[0];else if(u(H,a.contact))return j.jsx("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(m);var e=a.contact.thread;e=I!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_caml_option").valFromOption(I)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a.contact.thread,g,l=0,n;I!==void 0?(n=b("bs_caml_option").valFromOption(I),l=1):f==null?g=!1:(n=f,l=1);if(l===1){f=b("MercuryIDs").isValid(a.contact.uid);l=f?b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.contact.uid)):b("FBID.bs").ofString(a.contact.uid);f=l!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_caml_option").valFromOption(l)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,n)}l=g?j.jsx("span",{children:i._("Admin"),className:"_5qsj"}):null;if(h!==void 0)return j.jsxs("div",{children:[l,j.createElement(b("bs_caml_option").valFromOption(h),{className:"_rwo",admins:d,contact:a.contact,extrasEnabled:o,isAdminRequired:e,isOpen:a.isActionsOpen,onAction:P,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:K})]});else return l}};return{debugName:c.debugName,reactClassInternal:c.reactClassInternal,handedOffState:c.handedOffState,getDerivedStateFromProps:function(c){if(d===c.rawContact)return c;else return{contact:b("bs_curry")._1(a,d),isActionsOpen:c.isActionsOpen,thisRef:c.thisRef,rawContact:d,isHighlighted:c.isHighlighted,onScrollIntoView:c.onScrollIntoView,onRenderHighlight:c.onRenderHighlight}},didMount:z,didUpdate:A,willUnmount:c.willUnmount,shouldUpdate:c.shouldUpdate,render:function(a){var c=a.state,d=b("joinClasses")(N,"_5l37"+(b("Utils.bs").optionBoolToBool(r)?" _1k1p":"")+(c.isActionsOpen?" _rwn":"")),e=J!==void 0?b("TooltipData").propsFor(J,"left"):{},f=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM,g=c.contact.type===b("MercuryParticipantTypes").ASSISTANT_TYPEAHEAD;g=g?t(c.contact):s(c.contact,L,K,I);g=j.createElement(b("Link.react"),{onClick:R,onMouseDown:O,onMouseEnter:Q,tabIndex:0,children:j.jsxs(b("ImageBlock.react"),{contentClassName:"_5l38",spacing:"medium",children:[l(K,I,c.contact),g,S(a)]})});g=j.cloneElement(g,{"data-testid":f+c.contact.uid});if(n===!0)return j.jsx("li",{children:g,ref:b("bs_curry")._1(a.handle,y),className:d});else return j.cloneElement(j.jsx("li",{children:g,ref:b("bs_curry")._1(a.handle,y),className:d,role:"option"}),e)},initialState:function(c){return{contact:b("bs_curry")._1(a,d),isActionsOpen:!1,thisRef:{contents:void 0},rawContact:d,isHighlighted:r,onScrollIntoView:C,onRenderHighlight:B}},retainedProps:c.retainedProps,reducer:function(a,c){return b("bs_block").__(0,[{contact:c.contact,isActionsOpen:a[0],thisRef:c.thisRef,rawContact:c.rawContact,isHighlighted:c.isHighlighted,onScrollIntoView:c.onScrollIntoView,onRenderHighlight:c.onRenderHighlight}])},jsElementWrapped:c.jsElementWrapped}};a=b("ReasonReact.bs").wrapReasonForJs(c,function(a){var c;return d(a.contactAdapter,a.rawContact,(c=b("bs_caml_option")).nullable_to_opt(a.onHighlight),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.onAction),c.nullable_to_opt(a.actionsClass),c.nullable_to_opt(a.admins),c.nullable_to_opt(a.disableRole),a.extraActionsEnabled,c.nullable_to_opt(a.hasHoverState),c.nullable_to_opt(a.invitedEntryIDs),c.nullable_to_opt(a.isHighlighted),c.nullable_to_opt(a.onRenderHighlight),c.nullable_to_opt(a.onScrollIntoView),c.nullable_to_opt(a.originalEntryIDs),c.nullable_to_opt(a.rowClassName),c.nullable_to_opt(a.rowElements),c.nullable_to_opt(a.selectedEntryIDs),c.nullable_to_opt(a.showPresence),c.nullable_to_opt(a.thread),c.nullable_to_opt(a.tooltipContent),a.viewer,a.useDarkTheme,[])});return[a,d]}c=32;d=3;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.assistantTypeaheadPrefixLength=d;f.idsContain=k;f.renderContactImage=l;f.renderBotBadge=m;f.renderVerifiedBadge=n;f.renderSnippet=o;f.renderMaybeEmojiStatus=p;f.renderContactTitle=q;f.renderRegularContact=r;f.renderContactText=s;f.renderAssistantTypeaheadText=t;f.getPresenceStatus=u;f.isOriginal=v;f.isInvited=w;f.isSelected=x;f.setThisRef=y;f.didMount=z;f.didUpdate=A;f.createMake=a}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","Link.react","MercuryIDs","MessengerDotComAndInboxM4Check.bs","MessengerSearchActions","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","React","prop-types","gkx","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("MessengerContactListRowReact.bs").createMake();var i=a[0];a[1];var j=b("React"),k=b("gkx")("818495");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=c[0];c=c[1];var f=d.props.rowComponent||i;return j.jsxs("div",{className:"_29hk",children:[d.$5(e,c,(c=d.props.useDarkTheme)!=null?c:!1),j.jsx("ul",{id:d.props.controlleeID,role:d.props.disableRole?void 0:"listbox",className:"_29hl",children:a.map(function(a,c){c=c===0?b("joinClasses")(d.props.rowClassName,"_3h3c"):d.props.rowClassName;var e=a.id||a.getUniqueID(),g=d.props.thread;if(k&&e&&!g){var h=b("MercuryIDs").getThreadIDFromUserID(e);g=b("MessengerState.bs").getThreadMetaNow(d.props.viewer,h);g||b("MessengerState.bs").getThreadMeta(d.props.viewer,h,function(a){g=a})}return j.jsx(f,{actionsClass:d.props.actionsClass,admins:d.props.admins,contactAdapter:d.props.contactAdapter,disableRole:d.props.disableRole,extraActionsEnabled:!!d.props.extraActionsEnabled,hasHoverState:d.props.hasHoverState,invitedEntryIDs:d.props.invitedEntryIDs,isHighlighted:d.props.highlightedEntry&&d.props.highlightedEntry.getUniqueID()===a.getUniqueID(),onAction:d.props.onAction,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,onScrollIntoView:d.props.onScrollIntoView,onSelect:d.props.onSelect,originalEntryIDs:d.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:d.props.rowElements,selectedEntryIDs:d.props.selectedEntryIDs,showPresence:d.props.showPresence,thread:g,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,useDarkTheme:(h=d.props.useDarkTheme)!=null?h:!1,viewer:d.props.viewer},e)})})]},e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:this.props.className,children:[this.props.listSections.map(this.$1).toArray(),this.props.showLoadMore?this.$2():this.$3(),this.$4()]})};d.$5=function(a,c,d){var e=this;if(!a)return null;d=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl"+(d?" _8slb":""):"_225b"+(d?" _8slb":"");return this.props.showSeeAll?j.jsxs("div",{className:d,children:[a,j.jsx("a",{className:"_87n7",onMouseDown:function(a){e.props.onSeeAllSelect&&c!==null&&e.props.onSeeAllSelect(c,a)},children:h._("See All")})]}):j.jsx("div",{className:d,children:a})};d.$2=function(){return this.props.isLoading?this.$3():j.jsx("div",{className:"_8a02",children:j.jsx(b("Link.react"),{href:"#",onClick:b("MessengerSearchActions").loadMoreResults,tabIndex:-1,children:h._("Load more")})})};d.$3=function(){return!this.props.isLoading?null:j.jsxs(b("ImageBlock.react"),{className:"_225c"+(this.props.useDarkTheme?" _8tm0":""),spacing:"medium",children:[j.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),j.jsx("div",{className:"_4g0h"+(this.props.useDarkTheme?" _8tm1":""),children:h._("Searching...")})]})};d.$4=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)if(b("MessengerDotComAndInboxM4Check.bs").yes)return j.jsxs("div",{className:"_8b0j",children:[j.jsx("span",{className:"_8b0k",children:this.props.seeAllType?h._("No {seeAllType} found",[h._param("seeAllType",this.props.seeAllType)]):h._("Nothing found")}),j.jsx("span",{className:"_8b0l",children:h._("We couldn't find any matches for \"{query}\". Try checking for typos or using complete words.",[h._param("query",this.props.queryString)])})]});else return j.jsx("div",{className:"_3xcx"+(this.props.useDarkTheme?" _8tm2":""),children:h._("No results found")})}return null};return c}(j.PureComponent);c.propTypes={actionsClass:(d=b("prop-types")).func,admins:d.object,controlleeID:d.string,contactAdapter:d.func.isRequired,disableRole:d.bool,extraActionsEnabled:d.bool,hasHoverState:d.bool,highlightedEntry:d.object,invitedEntryIDs:d.instanceOf((f=b("immutable")).Set),isLoading:d.bool,listSections:d.instanceOf(f.OrderedMap).isRequired,onAction:d.func,onHighlight:d.func,onRenderHighlight:d.func,onScrollIntoView:d.func,onSeeAllSelect:d.func,onSelect:d.func,originalEntryIDs:d.instanceOf(f.Set),queryString:d.string,rowClassName:d.string,rowElements:d.instanceOf(f.Map),selectedEntryIDs:d.instanceOf(f.Set),showLoadMore:d.bool,showPresence:d.bool,thread:d.instanceOf(b("ImmutableObject")),useDarkTheme:d.bool,viewer:d.string.isRequired};e.exports=c}),null);
__d("MessengerSingleSectionContactList.react",["cx","MessengerContactAdapters","MessengerContactList.react","MessengerTypeaheadUtils","React","TypeaheadViewPropTypes","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.entries;a=a.viewProps;var d=(c.length?"":"_599s")+" _29hl _8i1 _11_d _4p-s";return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,d,a.className),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:!0,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:b("MessengerTypeaheadUtils").buildSingleSection(c),onRenderHighlight:this.props.onRenderHighlight,onHighlight:this.props.onHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,viewer:a.viewer})};return c}(h.PureComponent);a.propTypes=b("TypeaheadViewPropTypes");a.defaultProps={role:"listbox"};e.exports=a}),null);
__d("WorkGalahadChatPrefillMessageEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("FourLetterMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=3;c="\\b[a-z][^\\s"+b("DocumentMentionsRegex").PUNCTUATION+"]";var g=new RegExp("(^|[^#])((?:"+c+"{"+a+",})$)");d={name:"FourLetterMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};e.exports=d}),null);
__d("XWorkChatMentionBotTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/chat/bot_typeahead/",{value:{type:"String",defaultValue:""},thread_id:{type:"FBID",required:!0}})}),null);
__d("createMentionsSearchSourceFromParticipants",["fbt","ix","AtSignAllowEmptyMentionsStrategy","CapitalizedNameMentionsStrategy","CompositeSearchSource","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","FourLetterMentionsStrategy","LogHistory","MercuryIDs","SearchableEntry","StaticSearchSource","WebAsyncSearchSource","XWorkChatMentionBotTypeaheadController","filterCapitalizedNames","gkx","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LogHistory").getInstance("messenger_mentions"),j=h("91674").uri;function a(a,c,d,e){if(!a||!c)return null;var f=[],g=[],h=c.length>2;(h||b("gkx")("1101638"))&&(f=c.reduce(function(c,e){if(!e||e.fbid===a)return c;var f=d&&d.custom_nickname&&d.custom_nickname[e.fbid]?d.custom_nickname[e.fbid]:"";c.push(new(b("SearchableEntry"))({uniqueID:e.fbid,type:"user",title:"@"+e.name,subtitle:f,photo:e.image_src,keywordString:f,auxiliaryData:{workForeignEntityInfo:e.work_foreign_entity_info}}));return c},[]),g=[].concat(f),h&&e&&d&&d.thread_fbid&&(f.push(l(d.thread_fbid)),f.push(m(d.thread_fbid))));h=new(b("StaticSearchSource"))(f);e=new(b("StaticSearchSource"))(g);b("gkx")("846032")&&(e=new(b("FilteredSearchSource"))(k("@"),e));f=h;b("gkx")("1497099")&&d&&(f=new(b("CompositeSearchSource"))([h,new(b("WebAsyncSearchSource"))({queryRequests:[{uri:b("XWorkChatMentionBotTypeaheadController").getURIBuilder().setFBID("thread_id",b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id)).getURI()}]})]));g=[new(b("DocumentMentionsSource"))(b("AtSignAllowEmptyMentionsStrategy"),f),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),e),new(b("DocumentMentionsSource"))(b("FourLetterMentionsStrategy"),e)];i.debug("constructed_search_source",JSON.stringify({participants:c.map(function(a){return a&&a.fbid})}));return new(b("DocumentCompositeMentionsSource"))(g)}function k(a){return function(c,d){return b("filterCapitalizedNames")(c,d,a)}}function l(a){var c=g._("everyone").toString(),d=g._("Mention everyone in this chat").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a),subtitle:d})}function m(a){var c=g._("here").toString(),d=g._("Mention everyone in this chat who is active").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a)+"-active",subtitle:d})}e.exports=a}),null);
__d("createMessengerMentionTypeaheadDraftEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("ASSISTANT_TYPEAHEAD","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("MessengerComposerInput.react",["cx","fbt","requireCond","cr:1008504","AutocompleteSearchSource","AutocompleteStrategy","Bootloader","CompositeDraftDecorator","ContentState","CurrentUser","DebouncedMentionsTextEditor.react","DocumentCompositeMentionsSource","DocumentMentionsSource","DOMDimensions","DraftModifier","EditorState","EmojiFormat.bs","Event","LogHistory","MentionsLayer.react","MercuryIDs","MercuryThreadIDMap","MercuryThreadSnippet.react","MercuryThreadTitleSafe.react","MercuryTimestamp","MessengerActions","MessengerBotMenuButton.react","MessengerComposerInputStore","MessengerConstants","MessengerDomIDs.bs","MessengerEditorStateManager","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerSingleSectionContactList.react","MessengerTabIndices","MessengerUploadFilesUtil.bs","MessengerURLUploader","MessengerUserInputAppDispatcher","MessengerUserInputUtils","React","ReactDOM","Run","TypingDetectorController","cr:1272653","cr:1217281","cr:1217282","WorkGalahadChatPrefillMessageEventEmitter","WorkGalahadSettings","clearImmediate","createMentionsSearchSourceFromParticipants","createMessengerMentionDraftEntity","createMessengerMentionTypeaheadDraftEntity","debounce","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","gkx","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","immutable","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","joinClasses","nullthrows","prop-types","qex","replaceMentionedTextInEditorState","cr:1217283","setImmediate","shouldNotRenderSegoe","throttle","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerDomIDs.bs").ids,j=b("React"),k=1,l=/^image\//,m="handled",n=8,o="not-handled",p=b("LogHistory").getInstance("MessengerComposerInput"),q={};q[b("MessengerConstants").NEW_THREAD_KEY]={version:0,editorState:b("EditorState").createEmpty()};function r(a,c){var d=c.editorState,e=c.version;if(!a||a&&e<q[a].version)return;q[a]=c;a!==b("MessengerConstants").NEW_THREAD_KEY&&b("MessengerEditorStateManager").set(a,d)}function s(a){q[a]||(q[a]={version:0,editorState:b("EditorState").createEmpty()});return q[a]}function t(a,b){if(!a)return null;var c=s(a);c.editorState=b;q[a]=c;return c}function u(a,b){if(a){var c=s(a);c.version+=1;c.editorState=b;r(a,c)}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$11=!1;d.$22=function(a){if(d.$11&&a!==d.state.editorState){d.setState({editorState:a});a=t(d.props.threadID,a);a&&d.$6(d.props.threadID,a);d.props.onResize&&d.props.onResize()}};d.$23=function(a,c){if(b("isSoftNewlineEvent")(a)){a=b("handleSoftNewlineForMessengerEmoticon");a=a(c);d.setState({editorState:a});t(d.props.threadID,a);return m}d.setState({},d.triggerSend);return m};d.getValue=function(){return b("getVisibleValueForContentStateWithMessengerEmoji")(d.state.editorState.getCurrentContent())};d.focus=function(){d.refs.input&&d.refs.input.focus()};d.$33=function(a,b){d.props.onBeforeInput&&d.props.onBeforeInput(a,b);var c=a==". ",e=d.$38(a,b);a=d.$39(a,b);return c||e||a?m:o};d.$14=function(a){a=d.props.handleOnlyImageUploads?a.filter(function(a){return a&&l.test(a.type)}):a;var c=d.$26();if(a.length){b("MessengerActions").prepareFilesForSend(c,a,"Copy");return m}return o};d.$34=function(a,c,e){b("cr:1217283")!=null&&b("cr:1217283")(d.props.threadID,a);return!1};d.$19=function(){var a=d.props.threadID;if(!a)return;r(a,s(a))};d.$20=function(){d.setState(d.$15(!0))};d.triggerSend=function(){d.$24()&&d.$27();if(d.getValue().trim().length>0||d.$40())if(d.props.thread){var a=d.getMentions(d.props.thread.thread_fbid);d.$30(a)}else d.$30();d.$28()};d.$35=function(){var a=(d.state.addedMentionsCount||0)+1;d.setState({addedMentionsCount:a})};d.$36=function(a,c){a=(d.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};d.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===k?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);d.setState(a)};d.$14=d.$14.bind(babelHelpers.assertThisInitialized(d));d.$12=c;d.state=d.$15();d.$7=b("debounce")(function(a){d.$12||(d.$12=a),v(d.props,d.$12)&&d.$16(),d.$12=a},300);d.$8=b("throttle")(function(){if(d.$11){var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).height;d.$1!==a&&(d.props.onResize&&d.props.onResize());d.$1=a}},100);return d}var d=c.prototype;d.$15=function(a){var c;this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?c=s(b("MessengerConstants").NEW_THREAD_KEY).editorState:c=b("MessengerEditorStateManager").get(this.props.threadID);c=this.$17(c,a);a=b("createMessengerMentionDraftEntity");return{editorState:c,mentionCreationForContentStateFn:a}};d.componentDidMount=function(){var a=this;this.$11=!0;var c=b("gkx")("964442");c&&b("MessengerUserInputAppDispatcher").explicitlyRegisterStore(b("MessengerComposerInputStore"));this.$1=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(this)).height;this.$18();b("cr:1217282")==null&&(this.$2=new(b("MessengerURLUploader"))(this.getValue,b("ReactDOM").findDOMNode(this.refs.input),this.props.threadID));this.$4=b("Run").onUnload(this.$19);this.$3=b("Event").listen(window,"blur",this.$19);this.$5=b("Event").listen(window,"focus",this.$20);this.$6=b("debounce")(function(a,b){r(a,b)},1e3);b("CurrentUser").isWorkUser()&&(this.$13=b("WorkGalahadChatPrefillMessageEventEmitter").addListener("prefillMessage",function(b){a.insertPrefill(b)}))};d.componentDidUpdate=function(a,c){this.$10=b("setImmediate")(this.$8);if(c.editorState!==this.state.editorState){this.props.onChange&&this.props.onChange(this.getValue());c=b("gkx")("964442");c&&this.$21(this.getValue())}this.props.threadID!==a.threadID?this.$18():this.$7(a)};d.componentWillUnmount=function(){var a=this.props.threadID;a&&r(a,s(a));this.$11=!1;this.$9&&this.$9.destroy();this.$10&&b("clearImmediate")(this.$10);this.$3&&this.$3.remove();this.$4&&this.$4.remove();this.$5&&this.$5.remove();this.$13&&this.$13.remove()};d.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.$22(a)};d.insertPrefill=function(a){if(this.state.editorState.getCurrentContent().hasText())return;a=b("EditorState").createWithContent(b("ContentState").createFromText(a));a!==this.state.editorState&&this.$22(a)};d.insertLink=function(a){var c=this.state.editorState,d=c.getSelection();d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());c=b("EditorState").push(c,d,"insert-characters");c!==this.state.editorState&&(this.$22(c),b("cr:1217283")!=null&&b("cr:1217283")(this.props.threadID,a))};d.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.$22(b("EditorState").forceSelection(c,a.getSelectionAfter()))};d.$24=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadedFiles").size>0)};d.$18=function(){if(!this.$11)return;this.setState(this.$15(!1));this.$25();this.$2&&(this.$2.setThreadID(this.props.threadID),this.$2.clearShareData());this.$16()};d.$16=function(){if(this.props.mentionsEnabled){var a=this.props,c=a.participants,d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$25=function(){this.$9&&this.$9.destroy();this.$9=null;var a=this.props.viewer;if(!a)return;var c=b("ReactDOM").findDOMNode(this.refs.input);this.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&c&&(this.$9=new(b("TypingDetectorController"))(this.props.thread,b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),c,this.props.source,null,b("MercuryThreadIDMap").getForFBID(a).getServerIDFromClientIDNow(this.props.threadID),this.getValue))};d.$26=function(){var a=this.props,c=a.threadID;a=a.thread;if(!b("MercuryIDs").isValidThreadID(c)){if(a)return a.thread_id;p.debug("Invalid threadID ",c)}return c};d.$21=function(a){if(!this.$11)return;a=b("MessengerComposerInputStore").getState();var c=a.requestNumResults,d=a.requestType;if(a.isUserInputRequested&&c&&d){a=new(b("AutocompleteSearchSource"))(this.getValue(),c,d);c=new(b("DocumentMentionsSource"))(b("AutocompleteStrategy"),a);d=new(b("DocumentCompositeMentionsSource"))([c]);this.setState({isUserInputAutocomplete:!0,mentionCreationForContentStateFn:b("MessengerUserInputUtils"),mentionsSource:d})}else if(this.state.isUserInputAutocomplete){a=this.props;c=a.participants;d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$27=function(){var a=this.props.fileUploader,c=this.$26();a&&(p.debug("Before send files to thread ",c),b("MessengerUploadFilesUtil.bs").sendAttchments(a,this.props.onFileUpload),p.debug("Before clean files for thread ",c),b("MessengerActions").cleanFiles(c))};d.$28=function(){var a=this.props.onMessageSend;a!=null&&b("cr:1217281")!=null&&(this.$29()&&b("nullthrows")(this.props.workChatContentApps).forEach(function(c,d){var e=(d=c.payload)==null?void 0:d.shareData;if(e==null)return;b("setImmediate")(function(){return a("",{shareable_attachment:e})})}),b("cr:1217281").removeAllWorkContentApps(this.props.threadID))};d.$29=function(){var a=this.props.workChatContentApps;return a!=null&&a.size>0};d.$30=function(a){var c=this;if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData(),profile_ranges:a},function(d){b("MessengerActions").removeSharePreview(c.props.threadID);if(d&&c.props.mentionsEnabled&&(a&&a.length||c.state.addedMentionsCount||c.state.mentionsTriggeredCount||c.state.mentionsTriggerSource)){var e=c.state,f=e.addedMentionsCount,g=e.mentionsTriggeredCount,h=e.mentionsTriggerSource;e=c.props;var i=e.thread,j=e.participants,k=d;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(c,d){new c().setEvent(d.MENTION).setGroupSize(j&&j.size).setNumDelivered(a&&a.length||0).setNumSelects(f).setNumTriggers(g).setThreadid(i&&i.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(i&&i.thread_type)).setOfflineThreadid(k.offline_threading_id).updateExtraData({source:h}).log()},"MessengerComposerInput.react")}})){var d=this.$17(b("EditorState").createEmpty());this.$2&&this.$2.clearShareData();this.setState({editorState:d,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null});u(this.props.threadID,d);this.$9&&this.$9.resetState()}};d.getMentions=function(a){return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a)};d.getInput=function(){return this.refs.input};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.thread;c=c.viewer;var f=null;d&&e&&c?f=h._("Conversation with {participantListAsShownInThreadList}. Updated {lastUpdatedTime} by {recentUpdateStringAsShownInThreadList}",[h._param("participantListAsShownInThreadList",this.$31(e,c)),h._param("lastUpdatedTime",b("MercuryTimestamp").getAbsoluteTimestamp(e.timestamp)),h._param("recentUpdateStringAsShownInThreadList",this.$32(d,e,c))]):f=h._("Composing a new message");d=null;this.props.threadID&&this.props.pageID&&(d=j.jsx("div",{ref:"botsMenuContainer",className:"_3km1",children:j.jsx(b("MessengerBotMenuButton.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_3km2"})}));e="";this.props.disableInput?e=h._("Composer is disabled for this thread.").toString():!((c=this.props.thread)==null?void 0:c.is_canonical)||((c=this.props.thread)==null?void 0:c.other_user_fbid)!==b("CurrentUser").getID()&&b("gkx")("1101638")?e=h._("Type a message, \u0040name...").toString():e=h._("Type a message...").toString();c=b("gkx")("678612");var g=b("cr:1008504")!==null&&b("CurrentUser").isWorkUser()?b("cr:1008504"):b("DebouncedMentionsTextEditor.react");return j.jsxs("div",{className:b("joinClasses")("_kmc"+(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")?" _7kpg":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyx":"")+(this.props.smallerEqual640?" _2swd":"")+(b("shouldNotRenderSegoe")(this.state.editorState.getCurrentContent().getPlainText())?" _2por":"")+" navigationFocus",this.props.className),onClick:this.focus,role:"presentation",children:[this.props.showMenu?d:null,j.jsxs("div",{className:b("joinClasses")((b("CurrentUser").isWorkUser()&&!b("gkx")("1072568")?"_3-8x":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7q9o":"")+(this.props.showMenu?" _3km3":"")+(c?"":" _3oh-"),this.props.inputContainerClassName),children:[j.jsx(g,{autoHighlight:!0,ariaControls:i.CONVERSATION,ariaDescribedBy:i.COMPOSER_INPUT_DESCRIPTION,ariaLabel:e,editorState:this.state.editorState,handleBeforeInput:this.$33,handleContentReturn:this.$23,handlePastedFiles:this.$14,handlePastedText:this.$34,handleReturn:this.$23,maxResults:n,readOnly:this.props.disableInput,mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionTypeaheadCreationForContentStateFn:b("createMessengerMentionTypeaheadDraftEntity"),mentionResultsComponent:b("MentionsLayer.react"),mentionResultsProps:{typeaheadView:b("MessengerSingleSectionContactList.react"),typeaheadViewProps:{className:"_13iv",viewer:this.props.viewer},position:"above",autoflip:!0},mentionsSource:this.state.mentionsSource,assistantTypeaheadSource:this.state.assistantTypeaheadSource,onChange:this.$22,placeholder:e,ref:"input",spellCheck:!0,stripPastedStyles:!0,tabIndex:this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?b("MessengerTabIndices").COMPOSER_INPUT:0,textAlignment:"left",threadID:this.$26(),onAddMention:this.$35,onShowMentions:this.$36}),this.props.threadID!=null&&b("cr:1217282")!=null?j.jsx(b("cr:1217282"),{threadID:this.props.threadID,workLinks:this.props.workChatContentApps,files:this.props.fileUploader!=null?this.props.fileUploader.get("uploadedFiles"):null}):null,b("cr:1272653")!==null&&(b("qex")._("1269717")||b("gkx")("1325997"))?j.jsx(b("cr:1272653"),{contextRef:function(){return a.refs.input}}):null,j.jsx("div",{className:"_5ca7",id:i.COMPOSER_INPUT_DESCRIPTION,children:f})]})]})};d.$31=function(a,c){return j.jsx(b("MercuryThreadTitleSafe.react"),{thread:a,viewer:c})};d.$32=function(a,c,d){return j.jsx(b("MercuryThreadSnippet.react"),{participants:a,shouldAlwaysRenderSender:!0,shouldRenderYou:!0,thread:c,viewer:d})};d.$17=function(a,c){var d=this.$37(a);a=b("EditorState").set(a,{decorator:d});return c||this.props.disableAutofocus?a:b("EditorState").moveFocusToEnd(a)};d.$37=function(a){var c=b("MessengerEmoticonSpan.react");a=a.getCurrentContent();c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:c}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};d.$38=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});t(this.props.threadID,a);return!0};d.$39=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});t(this.props.threadID,a);return!0};d.handleTextDropped=function(a){var c=this.state.editorState,d=c.getSelection();if(d.get("hasFocus"))return;d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());a=b("EditorState").push(c,d,"insert-fragment");this.$22(a)};d.getShareData=function(){var a=this.props.sharePreview;return a&&a.type&&a.params?{share_type:a.type,share_params:a.params.get("data")}:null};d.exitCurrentMode=function(){this.refs.input&&this.refs.input.exitCurrentMode()};d.$40=function(){var a=this.props.sharePreview;return!!(a&&a.params&&a.type)};d.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.$22(a);this.$35()};return c}(j.PureComponent);a.propTypes={disableAutofocus:(c=b("prop-types")).bool,fileUploader:c.object,workChatContentApps:c.instanceOf(b("immutable").OrderedMap),handleOnlyImageUploads:c.bool.isRequired,isComposing:c.bool,mentionsEnabled:c.bool,pageID:c.string,participants:c.instanceOf(b("immutable").Map),sharePreview:c.object,showMenu:c.bool,disableInput:c.bool,smallerEqual640:c.bool,thread:c.object,threadID:c.string,viewer:c.string,onBeforeInput:c.func,onChange:c.func,onFileUpload:c.func,onResize:c.func,onMessageSend:c.func};function v(a,b){a=a.participants;b=b.participants;if(!a||!b)return!0;if(a===b)return!1;a=a.filter(Boolean);b=b.filter(Boolean);return a.size!==b.size||!a.equals(b)}e.exports=b("withMessengerSource")(a,!0)}),null);
__d("MessengerComposerPendingActions.react",["Bootloader","CurrentUser","JSResource","MercuryIDs","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerDialogs.bs","MessengerMessageRequestsTypedLogger","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerPendingActions.react").__setRef("MessengerComposerPendingActions.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};d.render=function(){var a=this,c=this.props.thread,d=!!c&&b("MessageRequestUtils").isFiltered(c);c=b("CurrentUser").getID();var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,c),f=b("MercuryThreadActions").getForFBID(this.props.viewer);return g.jsx(g.Suspense,{fallback:g.jsx("div",{style:{height:51}}),children:g.jsx(h,{folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){f.changeFolder(a.props.threadID,b("MessagingTag").INBOX),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType(d?"other":"pending").setThreadKey(e).setEntryPoint(null).log()},onDeclineClick:function(){var c=b("MercuryIDs").isGroupChat(a.props.threadID);a.$1=b("Bootloader").loadModules(["MessengerDeclineDialogReact.bs"],function(d){var f=d.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(f,{onBlock:a.props.onIgnoreBlock,onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick,isGroupChat:c})});new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("pending").setThreadKey(e).setEntryPoint("inbox_banner").log()},"MessengerComposerPendingActions.react")},onDeleteClick:function(){a.$2=b("Bootloader").loadModules(["MessengerFilteredDeleteDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(d,{onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick})})},"MessengerComposerPendingActions.react"),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("other").setThreadKey(e).setEntryPoint("inbox_banner").log()}})})};return c}(g.Component);e.exports=a}),null);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",HOVER:"hover"})}),null);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"})}),null);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log();return 0}f.logItemImpression=a}),null);
__d("ProfileLinkReact.bs",["ReasonReact.bs","bs_js_null_undefined","ProfileLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),href:j.fromOption(c),onClick:j.fromOption(d),onMouseEnter:j.fromOption(e),onMouseLeave:j.fromOption(f),target:j.fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["cx","URI","bs_block","bs_curry","React","Arbiter","Link.react","Badge.react","bs_caml_option","CurrentUser","ReasonReact.bs","ProfileLinkReact.bs","isMessengerDotComURI","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function k(a,c,d,e,f,g,k){var l=b("isMessengerDotComURI")(new(h||(h=b("URI")))(window.location.href)),m=b("CurrentUser").isWorkUser()?b("MessengerProfileLinkDomain").WORK_CHAT:l?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,n=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").HOVER)},o=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").CLICK)};return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a.send,0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a.send,1)});return b("bs_curry")._1(a.onUnmount,function(a){c.unsubscribe();d.unsubscribe();return 0})},didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(d){var h=i.jsxs("span",{children:[e,g?i.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null]});return i.jsx("span",{children:a!==void 0?l?i.jsx(b("Link.react"),{href:a,onClick:function(a){d.state.isHovercardShown&&n(0);return o(0)},target:c,children:h}):b("ReasonReact.bs").element(void 0,void 0,b("ProfileLinkReact.bs").make(void 0,void 0,function(a){return o(0)},void 0,function(a){if(d.state.isHovercardShown)return n(0);else return 0},void 0,f,[h])):h,className:"_6ybk"})},initialState:function(a){return{isHovercardShown:!1}},retainedProps:j.retainedProps,reducer:function(a,c){if(a)return b("bs_block").__(0,[{isHovercardShown:!1}]);else return b("bs_block").__(0,[{isHovercardShown:!0}])},jsElementWrapped:j.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(b("bs_caml_option").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,a.isVerified,[])});f.component=j;f.make=k;f.jsComponent=a}),null);
__d("TimeSpentRoomTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP:"GROUP",EVENT:"EVENT",LOCAL_COMMUNITY:"LOCAL_COMMUNITY"})}),null);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessengerProfileLink.bs","MessengerTextWithEmoticons.react","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","prop-types","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerProfileLink.bs").jsComponent,j=b("React"),k;b("requireWeak")("MessengerThreadImageReact.bs",function(a){k=a.jsComponent});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=j.jsxs(b("ImageBlock.react"),{className:"_llj"+(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style,children:[this.$1(),j.jsxs("div",{className:"_lll",children:[this.$2(),this.$3(),this.$4()]})]}),c=this.props.associatedObject;c&&c.action_link&&(a=j.jsx(b("Link.react"),{href:c.action_link,target:"_blank",style:{textDecoration:"none"},children:a}));return a};d.$1=function(){var a=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,c=this.props.associatedObject,d=null;if(!this.props.contactName&&c&&a)d=j.jsx(b("Image.react"),{className:"_4ld- _1wrc",src:c.profile_picture});else if(this.props.thread){c=k&&a?k:b("MercuryThreadImage.react");d=j.jsx(c,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(d=j.jsx(b("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return j.jsx("div",{className:"_llk",children:d})};d.$2=function(){if(this.props.location!==b("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?j.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null,c=this.props.contactName;if(!c){var d=this.props.associatedObject;c=d?d.name:null}d=this.props.contactFBProfile;var e=this.props.contactID;return j.jsx("div",{className:"_llq",children:j.jsxs("span",{className:"_3oh-",children:[j.jsx(i,{href:d,location:"context_banner",name:c,uid:e}),a]})})};d.$3=function(){return j.jsx("div",{className:"_1n-e _36zg",children:j.jsx(b("MessengerTextWithEmoticons.react"),{text:this.props.connectionContext||"",renderEmoticons:!1})})};d.$4=function(){if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=b("TimeSpentRoomTypeEnum")[a.room_type];var c=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return j.jsx("div",{className:"_1n-e",children:h._({"GROUP":"Go to {productName} group","EVENT":"Go to {productName} event"},[h._param("productName",c),h._enum(a,b("TimeSpentRoomTypeEnum$FbtEnum"))])})}return null}return j.jsx("div",{children:this.props.contextItems.map(function(a,c){return j.jsx("div",{className:"_1n-e",children:j.jsx(b("MessengerTextWithEmoticons.react"),{text:a||"",renderEmoticons:!1})},"item:"+c)})})};return c}(j.PureComponent);a.propTypes={contactFBProfile:(c=b("prop-types")).string,contactID:c.string,contactName:c.string,associatedObject:c.object,connectionContext:c.string,contextItems:c.arrayOf(c.string).isRequired,isVerified:c.bool,location:c.string.isRequired,participantIDs:c.arrayOf(c.string),participants:c.instanceOf(b("immutable").Map),thread:c.object,viewer:c.string.isRequired};e.exports=a}),null);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=new Map();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$MessengerContextInformationStore1=function(a){if(h.get(a))return;var c=b("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).setHandler(d.$MessengerContextInformationStore2.bind(babelHelpers.assertThisInitialized(d),a));h.set(a,c);c.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getOrFetch=function(a){var c=g.get(a);c||b("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:b("TimeSlice").PropagationType.ORPHAN})(a);return c};d.$MessengerContextInformationStore2=function(a,b){g.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),h["delete"](a),this.emit("change")};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=83,j=284,k=60;function a(a){var c=a.coverPhotoData?h.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:a.coverPhotoData,height:i,width:j}):null;return h.jsxs("div",{className:"_fj3",children:[c,h.jsxs("div",{className:"_2-0o",children:[h.jsx(b("MercuryThreadImage.react"),{className:"_2gye",size:k,thread:a.thread,viewer:a.viewer}),")"]})]})}e.exports=a}),null);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","React","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","immutable","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("createReactClass_DEPRECATED")({displayName:"MessengerContextBannerContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerContextInformationStore"),b("PagesMessagingMercuryChatTabStore"))],propTypes:{location:(a=b("prop-types")).string.isRequired,onResize:a.func,otherUserFBIDs:a.arrayOf(a.string),thread:a.object,threadID:a.string,viewer:a.string.isRequired},statics:{calculateState:function(a){var c=a.thread,d=null;c?d=c&&c.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(d=a.otherUserFBIDs.map(function(a){return b("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var e=b("immutable").Map();d&&(e=e.withMutations(function(a){d&&d.forEach(function(c){a.set(c,b("MessengerParticipants.bs").getNow(c))})}));var f=null,g=null;c?(f=e.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id)),g=c.associated_object):f=d&&e.get(d[0]);c=b("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=c.coverPhotoData;return babelHelpers["extends"]({associatedObject:g,contact:f,coverPhotoData:a,participantIDs:d,participants:e},h.getContextInformation(f&&f.fbid&&f.fbid.toString()))},getContextInformation:function(a){var c;a&&(c=b("MessengerContextInformationStore").getOrFetch(a.toString()));return c||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==b("MercuryShareAttachmentRenderLocations").MESSENGER?g.jsx(b("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.thread!=null)return g.jsx(b("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return g.jsx(b("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.verification_status==="BLUE_VERIFIED",location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});e.exports=h}),null);
__d("MessengerAdsMessageSeenThreadFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","messenger_ads_message_seen_thread");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){e.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGERDOTCOM:"messengerdotcom",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerAttributionTagsStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MNPlatformTagsDataManager",["MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";e.exports={getTags:function(a){a===void 0&&(a=null);var c=null,d=null;switch(a){case"source:pages:message_shortlink":c=b("MNPlatformAttributionTags").M_DOT_ME;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["mdotme"]);break;case"source:messenger:web":c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case"source:messenger:web_search":c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:web_search"]);break;case"source:discovery:customer_chat_plugin":c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case"source:pages:page_plugin_message":c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:pages_plugin"]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a},updateThreadTabAfterSelectThread:function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)},hasThreadTags:function(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)},getThreadTags:function(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1959479940789272"};b.getQueryID=function(){return"2171073576453933"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j={onEntriesLoaded:function(a){if(i){a(i);return}if(!h){var c=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){var c=a.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(c);i=c;a.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){a(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerSearchQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2268911786543136"};b.getQueryID=function(){return"604329370331165"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchSeeAllQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2778926592129629"};b.getQueryID=function(){return"509156833039109"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2950938174931326"};b.getQueryID=function(){return"666334973823993"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2706854202719826"};b.getQueryID=function(){return"332444434106998"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2230378867058421"};b.getQueryID=function(){return"419711615545533"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2530922320303835"};b.getQueryID=function(){return"1187203711467179"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239687859487185"};b.getQueryID=function(){return"398906294161848"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["CurrentUser","MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerMessageSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery","gkx"],(function(a,b,c,d,e,f){"use strict";a={formSearchRequests:function(a,c,d){var e={profiles:[],pages:[],rooms:[],messages:[]},f=b("CurrentUser").isWorkUser()&&b("gkx")("903262")?"workchat":"web_messenger_composer";a.forEach(function(a){switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs,context:f}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs,context:f}));break;case"messages":e.messages.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.messageLimit,exclude_ids:[],context:f}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1,context:f}));d.shouldQueryInternalBot===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!0,vc_endpoint:!1,context:f}));d.shouldQueryVCEndpoint===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!1,vc_endpoint:!0,context:f}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e},formMSQMessageSearchRequest:function(a,c){var d=[];d.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:c,exclude_ids:[],context:"web_messenger_composer"}));return d}};e.exports=a}),null);
__d("MessengerUniversalSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={END:"end",IMPRESSIONS:"impressions",QUERY_CHANGED:"query_changed",REENTERED:"reentered",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start"};b={FIRST:"first",SEE_ALL:"see_all"};c={USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",COWORKER:"coworker",MESSAGE:"message",OTHER:"other"};d={MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"};f=Object.freeze({INBOX:"inbox",SIDEBAR:"sidebar"});var g={NULL_STATE:"null_state",TYPEAHEAD:"typeahead"},h={LOCAL:"local",SERVER:"server",SERVER_XCONTROLLER:"server_xcontroller",LOCAL_AND_SERVER:"local_and_server",SERVER_USERS_GROUPS:"server_users_groups",SERVER_PAGES:"server_pages",SERVER_ROOMS:"server_rooms"},i={FAILED:"failed",FINISHED:"finished"},j={LOCAL:"local",SERVER:"server"},k={END_ACTION:"end_action"},l=Object.freeze({ABANDON:"abandon",RESULT_SELECTED:"result_selected",MESSAGE_SEARCH:"message_search",ENTER_INTEGRATED_MESSAGE_SEARCH:"enter_integrated_message_search",SEND:"send",CALL:"call"});e.exports={NAME:"MESSENGER_UNIVERSAL_SEARCH_FUNNEL",TYPE:"UNIVERSAL",END_ACTIONS:l,END_REASONS:k,ENTRY_SURFACES:f,EVENTS:a,INTERFACES:d,QUERY_PROGRESS:i,RESULT_PAGES:b,RESULT_SURFACES:g,RESULT_TYPES:c,SOURCES:h,UI_SECTIONS:j}}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","requireCond","Bootloader","CurrentUser","MercuryConfig","MessengerBootloadedSecondarySearchLogger","MessengerGraphQLTypeaheadAdapter","MessengerSearchQueryWebGraphQLQuery","MessengerSearchSeeAllQueryWebGraphQLQuery","MessengerSearchWebGraphQLFetcherUtils","MessengerSecondarySearchFunnelConstants","MessengerUniversalSearchFunnelLoggerConstants","PromiseUtil","WebGraphQL","cr:998965","compactArray","gkx"],(function(a,b,c,d,e,f){var g=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,h=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,i=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:2,j=5,k=3;a=function(){"use strict";function a(a,b){this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$7="",this.$1=0,this.$2=0,this.$5=0,this.$6=a,this.$7=b}var c=a.prototype;c.fetchEntries=function(a,c,d,e,f){var g=this;c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var h=c.pages,i=c.profiles,j=c.rooms,k=c.messages;if(h.length>0){this.$8("pages",a);this.$2=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return g.$9(b,a,e)},function(b){return g.$10(b,a,f)})()}if(i.length>0){this.$8("users_groups",a);this.$1=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){g.$11(b,a,e)},function(b){return g.$12(b,a,f)})()}if(j.length>0){this.$8("rooms",a);this.$5=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$13(b,a,e)},function(b){return g.$14(b,a,f)})()}c=b("gkx")("975043");if(k.length>0&&c){this.$8("messages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$15(b,a,e)},function(b){return g.$16(b,a,f)})()}};c.fetchMSQEntries=function(a,c,d,e,f,g,h){var i=this;if(c>0){this.$3=0;var j=b("MessengerSearchWebGraphQLFetcherUtils").formMSQMessageSearchRequest(a,c);this.$8("messages",a);c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){i.$15(b,a,g)},function(b){return i.$16(b,a,h)})()}this.$4=0;var k=[];k.push(new(b("MessengerSearchQueryWebGraphQLQuery"))({query:a,num_users:d,num_groups:e,num_pages:f}));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return i.$17(b,a,g)},function(b){return i.$18(b,a,h)})()};c.fetchMSSAQEntries=function(a,c,d,e,f,g){var h=this;g===void 0&&(g=[]);this.$4=0;var i=[];switch(c){case"friend":case"non_friend":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"USER",limit:d}]}));break;case"thread":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"GROUP",limit:d}]}));break;case"page":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"PAGE",limit:d}]}));break}c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return h.$17(b,a,e)},function(b){return h.$18(b,a,f)})()};c.$17=function(a,c,d){var e=this;if(this.$6()!==c)return;a=a[0];a=a==null?void 0:(a=a.messenger_search)==null?void 0:(a=a.result_modules)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:(a=a.search_results)==null?void 0:a.edges;var f=[],g=0;a!=null&&a.forEach(function(a){if(a.node&&a.node.__typename){var c=a.node.__typename;if(c==="User"){var d=b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,null);d&&f.push(d)}else if(c==="InstagramMessagingUser")f.push(b("MessengerGraphQLTypeaheadAdapter").convertIGMessagingUserToEntry(a.node));else if(c==="NeoApprovedUser"){d=b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,null);d&&f.push(d)}else if(c==="MessengerViewerGroupThread"){d=b("CurrentUser").getID();d=b("MessengerGraphQLTypeaheadAdapter").convertMSQGroupToEntry(a.node,g,d);d&&f.push(d);g++}else if(c==="Page"){d=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,e.$19(a.node));d&&f.push(d)}}});d(f,"singleServerQuery");this.$20("single_server_query",c,f)};c.fetchWorkChatSingleQueryEntries=function(a,c,d,e){var f=this;if(b("cr:998965")==null)return;var g=[];g.push(b("cr:998965").formSearchRequests(a,c));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return f.$21(b,a,d)},function(b){return f.$22(b,a,e)})()};c.$21=function(a,c,d){var e,f=this;a=a[0];if(this.$6()!==c)return;e=a==null?void 0:(e=a.entities_named)==null?void 0:e.user_group_results;var g=[],h=!1;h=!0;if(e!=null&&(e==null?void 0:e.edges)!=null&&(e==null?void 0:e.edges.length)>0){e=e.edges;e.map(function(a,c){var d=a.node;if(d!=null&&d.is_group_thread!=null){c=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(d,c);c&&g.push(c)}else{c=b("MessengerGraphQLTypeaheadAdapter").convertWorkChatProfileToEntry(d,h?a.subtext:null);c&&g.push(c)}})}e=a==null?void 0:(e=a.entities_named)==null?void 0:e.bot_results;if(e!=null&&(e==null?void 0:e.edges)!=null&&(e==null?void 0:e.edges.length)>0){e=e==null?void 0:e.edges;e.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,f.$19(a.node));c&&g.push(c)})}a=a==null?void 0:(e=a.entities_named)==null?void 0:e.vc_results;if(a!=null&&(a==null?void 0:a.edges)!=null&&(a==null?void 0:a.edges.length)>0){e=a==null?void 0:a.edges;e.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,f.$19(a.node));c&&g.push(c)})}d(g,"singleServerQuery");this.$20("wc_single_server_query",c,g)};c.$15=function(a,c,d){a=a[0];if(this.$6()!==c)return;a=a==null?void 0:(a=a.entities_named)==null?void 0:(a=a.search_results)==null?void 0:a.edges;var e=[];a!=null&&a.forEach(function(a){a=b("MessengerGraphQLTypeaheadAdapter").convertMessageToEntry(a.node);a&&e.push(a)});d(e,"messages");this.$20("messages",c,e)};c.$13=function(a,c,d){if(this.$6()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$20("rooms",c,a)}};c.$11=function(a,c,d){if(this.$6()!==c)return;var e=[],f=[],g=!1;g=!0;for(var h=0;h<a.length;h++){var i=a[h];i=(i=i)!=null?(i=i.entities_named)!=null?(i=i.search_results)!=null?i.edges:i:i:i;i&&i.length>0&&i[0].node&&(i[0].node.is_group_thread!=null?e=i.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):i[0].node.is_messenger_user!=null&&(f=i.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g===!0?a.subtext:null)}),f=this.$23(b("compactArray")(f))))}i=b("compactArray")(f.concat(e));d(i,"usersGroups");this.$20("users_groups",c,i)};c.$23=function(a){var b=[],c=[],d=[];for(var e=0;e<a.length;e++){var f=a[e];if(!f)continue;f.getType()==="friend"&&b.length<j?b.push(f):f.getType()==="non_friend"&&d.length<i?d.push(f):f.getType()==="fb4c"&&c.length<8&&c.push(f)}return b.concat(c,d)};c.$9=function(a,c,d){var e=this;if(this.$6()!==c)return;var f=[];for(var g=0;g<a.length;g++){var h=a[g];h=(h=h)!=null?(h=h.entities_named)!=null?(h=h.search_results)!=null?h.edges:h:h:h;h=h?h.map(function(a){a=a.node;return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a,e.$19(a))}):[];f=f.concat(b("compactArray")(h.slice(0,5)))}d(f,"pages");this.$20("pages",c,f)};c.$19=function(a){if(!a||!a.category_type)return"page";if(a.category_type==="WORKPLACE_BOT")return"internal_bot_page";else if(a.category_type==="MEETING_ROOM")return"meeting_room_page";return"page"};c.$12=function(a,b,c){if(b===this.$6()){if(this.$1<k){this.$1+=1;return!0}c(a,"usersGroups")}return!1};c.$10=function(a,b,c){if(b===this.$6()){if(this.$2<k){this.$2+=1;return!0}c(a,"pages")}return!1};c.$16=function(a,b,c){if(b===this.$6()){if(this.$3<k){this.$3+=1;return!0}c(a,"messages")}return!1};c.$14=function(a,b,c){if(b===this.$6()){if(this.$5<k){this.$5+=1;return!0}c(a,"rooms")}return!1};c.$18=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$22=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$24=function(a){var c="";switch(a){case"users_groups":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_PAGES;break;case"rooms":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_ROOMS;break;default:c=""}return c};c.$8=function(a,c){var d=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(e){var b=d.$24(a);e.logSourceStarted(c,b)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var e=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_STARTED,query:c,source:e,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};c.$20=function(a,c,d){var e=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(g){var f=e.$24(a);g.logSourceEnded(c,f,d.length,b("MessengerUniversalSearchFunnelLoggerConstants").QUERY_PROGRESS.FINISHED,e.$6()===c)},"MessengerSearchWebGraphQLFetcher"),b("Bootloader").loadModules(["WorkChatSearchFunnelLogger"],function(b){b.logImpressions(c,a,d)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var f=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,query:c,source:f,ids:d.map(function(a){return a.getUniqueID()}),status:b("MessengerSecondarySearchFunnelConstants").SOURCE_STATUSES.FINISHED,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};return a}();e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1720594534660350"};b.getQueryID=function(){return"1852062858177546"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1978892428852690"};b.getQueryID=function(){return"127838424757019"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerSecondarySearchFunnelConstants","MessengerTypeaheadUtils","React","SearchableEntry","immutable","joinClasses","prop-types","qex","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=50;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}if(!d.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.$1,d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$3=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.$1})};d.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a=this.$1;if(!a)return null;var c=["search","friend","fb4c","message","thread","page","non_friend","meeting_room_page","internal_bot_page","game"];a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);c=!1;this.props.isTokenizer!==null&&(c=b("qex")._("1063079")&&!this.props.isTokenizer&&this.props.queryString.length>1);return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,showSeeAll:(a=c)!=null?a:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(c=this.props.useDarkTheme)!=null?c:!1})};d.$2=function(a){var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i);this.$5(a.queryString,f,a.localEntryIDs);return f};d.$4=function(a,b){var c=a.customResultFilterFn||function(){return!0};return a.serverResults.filter(function(a){return a&&!b[a.getUniqueID()]&&c(a)})};d.$5=function(a,c,d){this.props.isTokenizer?b("Bootloader").loadModules(["MessengerBootloadedSecondarySearchLogger","MessengerSearchLoggerUtil"],function(d,e){var f=c.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});d.logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:a,entries:f,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})},"MessengerTypeaheadResultView.react"):b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID(),c=b.split(":").pop();a={result_fbid:c,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(c)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};return c}(h.Component);a.propTypes={controlleeID:(c=b("prop-types")).string.isRequired,canViewerSendMoneyFilter:c.bool,className:c.string.isRequired,localEntries:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:c.arrayOf(c.string.isRequired).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onMount:c.func.isRequired,onNextHighlighted:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSeeAllSelect:c.func,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,serverResults:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryPages:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,viewer:c.string.isRequired,forGroup:c.bool,rowComponent:c.func,customResultFilterFn:c.func,useDarkTheme:c.bool};a.defaultProps={controlleeID:"",className:"",customResultFilterFn:function(){return!0}};e.exports=a}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","prop-types","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.props.entries.toArray(),d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$1=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.props.entries.toArray()})};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a;return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})};return c}(h.Component);a.propTypes={controlleeID:(c=b("prop-types")).string.isRequired,className:c.string.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onNextHighlighted:c.func.isRequired,onMount:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,viewer:c.string.isRequired,rowComponent:c.func,useDarkTheme:c.bool};a.defaultProps={controlleeID:"",className:""};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MessengerBootloadedSecondarySearchLogger","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSecondarySearchFunnelConstants","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","React","createCancelableFunction","debounce","gkx","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,k=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,l=8,m=10;a=100;var n=3,o=10,p=8,q=5;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!1,pages:!1},serverResults:[],highlightedEntry:null},d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$5=!0,d.$6=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),d.$7=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),d.$8=!1,d.$9=null,d.$10=0,d.$13=function(a,c,e,f,g,h){if(d.props.queryString.length<2)return;d.$5&&d.setState({serverResults:[]});c=d.state.localEntries.toArray().filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var i=[];e||i.push("groups");f||i.push("pages");d.props.enableMessageSearch&&i.push("messages");g===null?i.push("users"):i.push("rooms");h={userLimit:m,messageLimit:n,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:d.$12,canViewerSendMoneyFilter:h,localEntryIDs:c,threadFBID:g,shouldQueryInternalBot:d.props.shouldQueryInternalBot,shouldQueryVCEndpoint:d.props.shouldQueryVCEndpoint};c=b("CurrentUser").isWorkUser()&&b("gkx")("991794");!b("CurrentUser").isWorkUser()&&d.$9!==null?d.$9.fetchMSQEntries(a,d.props.isTokenizer?0:h.messageLimit,o,e?0:p,f?0:q,d.$29,d.$30):c&&d.$9!=null?d.$9.fetchWorkChatSingleQueryEntries(a,h,d.$29,d.$30):d.$9!==null&&d.$9.fetchEntries(a,i,h,d.$29,d.$30)},d.$29=function(a,b){if(d.$5){d.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:b==="singleServerQuery"?Object.assign({},c.queryCompleteStatus,{usersGroups:!0},{pages:!0}):Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}},d.$30=function(a,b){d.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})},d.$12=function(){return d.props.queryString},d.$20=function(a,b){d.$3=a,d.$4=b,d.$14()},d.$23=function(){d.$3=null,d.$4=null},d.$21=function(a){d.setState({highlightedEntry:a})},d.$22=function(a){d.state.highlightedEntry&&d.props.onSelect(d.state.highlightedEntry,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$10=l;this.$11();var c=this.props.isTokenizer?j:k;this.$9=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return a.$12()},c);this.$2=b("debounce")(this.$13,150,this,!0)};d.componentDidUpdate=function(a){this.props!==a&&(this.props.queryString!==a.queryString&&this.$14())};d.$14=function(){this.setState({highlightedEntry:null})};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;if(!a.queryString)this.setState({highlightedEntry:null}),this.$11();else if(a.queryString!==this.props.queryString){this.$8=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});var d=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$2&&this.$2(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,d===0?a.threadFBID:null,a.canViewerSendMoneyFilter);if(d===0){this.$15(a);return}if(this.props.canViewerSendMoneyFilter){this.$16(a);return}if(this.props.includeExistingParticipantIDs){this.$17(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);var f=c.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(e):null;f&&d.unshift(f);f=b("immutable").List(d).filter(function(a){if(c.props.excludeGroups&&a.getType()==="thread")return!1;return c.props.excludePages&&a.getType()==="page"?!1:!0});c.$18(f,e);c.$19(f,e);c.setState({localEntries:f})}})}};d.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.highlightedEntry!==this.state.highlightedEntry};d.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$2&&this.$2.reset(),this.$5=!1};d.render=function(){if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$6.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$7.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return i.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[i.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),i.jsx("div",{className:"_4g0h",children:h._("Searching...")})]});else return null;if(!this.props.queryString){var a;return i.jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})}a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);var c=!b("gkx")("1053071")&&this.props.queryString.length<2;return i.jsxs("div",{children:[this.state.queryCompleteStatus.usersGroups||c?this.$24():this.$25(),this.state.queryCompleteStatus.usersGroups&&!a?this.$26():null]})};d.$25=function(){var a=this.state.localEntries.slice(0,this.$10);return i.jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$27(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$21,onMount:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})};d.$26=function(){return i.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[i.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),i.jsx("div",{className:"_4g0h",children:h._("Searching...")})]})};d.$24=function(a){var c=this.$28(),d=this.state.localEntries.slice(0,this.$10);return i.jsx(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,isTokenizer:this.props.isTokenizer,localEntries:d.toArray(),onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1},c))};d.$27=function(a,b){var c=this;b=a.filter(function(a){return!c.props.selectedEntryIDs.contains(a.getUniqueID())});return b};d.onKeyDown=function(a,b){this.$3&&this.$3(a,b)};d.$15=function(a){var c=this;this.$6.search(a.threadFBID,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$31=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){c=c.slice(0,30);a.setState({localEntries:b("immutable").List(c)})});this.$6.onEntriesLoaded(this.props.threadFBID,function(b){a.$1&&a.$1(b),a.$1=null})};d.$17=function(a){var c=this;this.$7.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$32=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c.slice(0,50))})});this.$7.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(b){a.$1&&a.$1(b),a.$1=null})};d.$16=function(a){var c=this;b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$33=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c)})});b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(b){a.$1&&a.$1(b),a.$1=null})};d.$11=function(){var a=this,c=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(c===0){this.$31();return}if(this.props.canViewerSendMoneyFilter){this.$33();return}if(this.props.includeExistingParticipantIDs){this.$32();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c,d,e){c=c.slice(0,50);a.props.excludeGroups||(c=c.concat(d));if(!e||!a.props.queryString){d=a.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(a.props.queryString):null;d&&c.unshift(d);a.props.queryString===""&&a.$34(c);a.setState({localEntries:b("immutable").List(c)})}});b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(b,c,d){a.$1&&a.$1(b,c,d),a.$1=null})};d.$28=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===0;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!1,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,l=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,m=e,n=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:l,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:m,threadFBID:n,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup}};d.$19=function(a,c){var d=this;this.props.isTokenizer?b("Bootloader").loadModules(["MessengerSearchLoggerUtil"],function(e){if(d.props.queryString===c){var f=a.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:"",loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,entries:f})}},"MessengerGraphQLTypeaheadView.react"):b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){if(d.props.queryString===c){var g=b("immutable").OrderedMap();a.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};g=g.set(c,a)});e.logImpressions(g,c)}},"MessengerGraphQLTypeaheadView.react")};d.$34=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b){b.logNullStateImpressions(a,a.length)},"MessengerGraphQLTypeaheadView.react")};d.$18=function(a,c){var d=this;if(this.props.isTokenizer){var e;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(e=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,query:c,ids:a.map(function(a){return a.getUniqueID()}),source:e.SOURCES.LOCAL_CONTACTS,numResults:a.size,status:e.SOURCE_STATUSES.FINISHED,loggingID:e.LOGGING_IDS.M_APP_COMPOSER})}else b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){var g=a;if(d.props.queryString===c){var h=b("immutable").OrderedMap();g.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};h=h.set(c,a)});e.logImpressions(h,c)}},"MessengerGraphQLTypeaheadView.react")};return c}(i.Component);c.propTypes={includeExistingParticipantIDs:(d=b("prop-types")).bool,canViewerSendMoneyFilter:d.bool,enableMessageSearch:d.bool.isRequired,excludeGroups:d.bool.isRequired,excludePages:d.bool.isRequired,forGroup:d.bool,isFocused:d.bool.isRequired,hasHoverState:d.bool.isRequired,maxEntries:d.number.isRequired,onScrollIntoView:d.func.isRequired,onSeeAllSelect:d.func,onSelect:d.func.isRequired,originalEntryIDs:d.instanceOf(b("immutable").Set).isRequired,queryString:d.string.isRequired,roomAssociatedObject:d.object,selectedEntryIDs:d.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:d.bool.isRequired,shouldQueryVCEndpoint:d.bool.isRequired,threadFBID:d.string,typeaheadViewClassName:d.string.isRequired,viewer:d.string.isRequired,rowComponent:d.func,customResultFilterFn:d.func,useDarkTheme:d.bool};c.defaultProps={maxEntries:a,typeaheadViewClassName:""};e.exports=c}),null);
__d("MessengerScrollableArea.react",["cx","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","gkx","joinClasses","setImmediate","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=20,j=b("gkx")("1094116");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=null;d.$5=function(){if(d.$1){var a;d.props.onScroll&&(a=d.props).onScroll.apply(a,arguments)}};d.$6=function(){if(!b("UserAgent").isBrowser("IE"))return;if(j)return;if(!d.refs||!d.$4.current)return;var a=d.$4.current.refs.wrap,c=d.$4.current.refs.body;if(!c||!a)return;c=b("ReactDOM").findDOMNode(c);a=b("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&b("Style").set(c,"margin-right",-a+"px")};d.$3=b("throttle")(d.$5,50);d.$4=h.createRef();return d}var d=c.prototype;d.componentDidMount=function(){this.$2=b("setImmediate")(this.$6),this.$1=!0};d.componentWillUnmount=function(){b("clearImmediate")(this.$2),this.$1=!1};d.render=function(){var a=this.props.needsFastScrollHandler?this.$5:this.$3;return h.jsx(b("ScrollableArea.react"),{className:b("joinClasses")("_5f0v",this.props.className),height:this.props.height,onClick:this.props.onClick,onScroll:a,persistent:!0,ref:this.$4,shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width,children:this.props.children})};d.getArea=function(){if(this.$4.current)return this.$4.current.getArea()};d.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};d.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};d.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};d.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};d.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-i};d.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=i};d.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};return c}(h.Component);e.exports=a}),null);
__d("MessengerGraphQLSearchTypeahead.react",["ix","fbt","cx","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","JSResource","Keys","LazyComponent.react","MercuryIDs","MessengerContentSearchFunnelLoggerConstants","MessengerSearchActions","MessengerUniversalSearchFunnelLoggerConstants","gkx","immutable","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","React","createReactClass_DEPRECATED","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","asset","clearImmediate","emptyFunction","joinClasses","qex","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MercuryThreadIDMap").get(),k=b("React"),l=30,m=100;c=b("createReactClass_DEPRECATED")({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:(a=b("prop-types")).bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,customResultFilterFn:a.func,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,isMessageSearchMode:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number,rowComponent:a.func,searchInputPortalRef:a.instanceOf(HTMLDivElement),useDarkTheme:a.bool},refs_scrollable:null,getInitialState:function(){return{gameID:null}},getDefaultProps:function(){var a;return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:a=b("emptyFunction"),onChange:a,onClear:a,onClick:a,onScrollIntoView:a,originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1,useDarkTheme:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){var a=this;if(!this.props.useLayer)return{};var c=null,d=null;this.props.context?c=this.props.context:d=function(){return a._input};return{typeaheadView:k.jsx(b("ContextualLayer.react"),{context:c,contextRef:d,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1,children:this._renderView()})}},render:function(){var a=this.props.useLayer?null:this._renderView();return k.jsxs("div",{className:(this.props.isTokenizer?"":"_1nq2")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vup":"")+(this.props.isTokenizer?" _3mkz":""),children:[k.jsxs("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.isMessageSearchMode?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null,children:[this._renderInput(),a]}),k.jsx(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:g("489953")}),k.jsx("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true",children:this.props.queryString||this.props.placeholder}),this._renderGame()]})},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this.props.isMessageSearchMode&&this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderInput:function(){var a=this,c=b("CurrentUser").isWorkUser()&&this.props.searchInputPortalRef!=null?this.props.searchInputPortalRef:null,d=b("CurrentUser").isWorkUser()&&this.props.isMessageSearchMode?k.jsx(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _8tx7",src:g("489953")}):null;d=k.jsxs(k.Fragment,{children:[k.jsx("label",{className:"_58ak",children:k.jsx("input",{autoComplete:"off",className:"_58al _7tpc"+(this.props.useDarkTheme?" _8tnl":""),onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:function(b){return a.props.onFocus()},onKeyDown:function(b){return a._handleKeyDown(b)},placeholder:this.props.placeholder,ref:function(b){return a._input=b},spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?h._("Search Work Chat"):h._("Search Messenger")})}),d]});if(c!=null)return b("ReactDOM").createPortal(d,c);else return d},_renderGame:function(){return!this.state.gameID?null:k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:k.jsx(b("MessengerSpinner.react"),{}),component:k.jsx(b("LazyComponent.react"),{initialContextType:"SOLO",initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:"messenger_search",sourceID:null})})},_renderView:function(){var a=this;if(!this.props.isFocused)return null;if(!this.props.queryString){var c=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(c)return null}c=this.props.isTokenizer?l:m;c=k.jsx(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup,isFocused:this.props.isFocused,isTokenizer:this.props.isTokenizer,hasHoverState:this.props.hasHoverState,maxEntries:c,onScrollIntoView:this._handleScrollIntoView,onSeeAllSelect:this._handleSeeAllSelect,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(b){return a._view=b},roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(c=this.props.useDarkTheme)!=null?c:!1});if(this.props.isTokenizer)return k.jsx(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:function(b){return a.refs_scrollable=b},width:this.props.width,children:c});else return c},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs_scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs_scrollable)},_getThreadID:function(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a),function(a){return c(a.thread_id)})},_handleSeeAllSelect:function(a,c){c&&c.preventDefault();if(b("qex")._("1097094")){c=this.props.queryString;a==="message"?(this._endSearchFunnelStartContentSearchFunnel(c,"search",!0),b("MessengerSearchActions").changeQueryAll(c),b("MessengerSearchActions").enterMessageSearch()):(b("MessengerSearchActions").changeQuerySeeAll(c,a),b("MessengerSearchActions").enterSeeAllSearch())}},_handleSelect:function(a,c){c&&c.preventDefault();c=this.props.queryString;var d=a.getType(),e=a.getUniqueID().split(":").pop(),f=a.getAuxiliaryData().alias;if(f){var g=b("MercuryIDs").getParticipantIDFromUserID(e);b("MercuryVanityIDMap.bs").set(f,g)}switch(d){case"game":this.setState({gameID:e});return;case"search":b("qex")._("1097094")&&b("MessengerSearchActions").enterMessageSearch();this._endSearchFunnelStartContentSearchFunnel(c,d);b("MessengerSearchActions").changeQueryAll(c);return;case"message":this._updateToThread(e,a);this._endSearchFunnelStartContentSearchFunnel(c,d);break;default:this._updateToThread(e,a)}b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",e)},_updateToThread:function(a,b){var c=this,d=function(a){return c.props.onSelect(a,b.getType(),b)};b.getType()==="thread"||b.getAuxiliaryData().messageResultType==="groupConversation"?j.getClientIDFromServerID(a,d):this._getThreadID(a,d)},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?this.props.isMessageSearchMode&&c===b("Keys").RETURN?this.props.queryString!==""&&b("MessengerSearchActions").changeQueryAll(this.props.queryString):this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=this,c=null,d=b("Event").listen(window,"blur",function(){d.remove(),b("clearImmediate")(c)});c=b("setImmediate")(function(){d.remove(),a.props.onBlur()})},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(a){return a&&a.endFunnel(b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_endSearchFunnelStartContentSearchFunnel:function(a,c,d){var e=this;d===void 0&&(d=!1);!d&&c!=="search"?(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"",c,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.ENTER_INTEGRATED_MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react")):(!d&&c==="search"||d&&c==="message")&&(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"","message",b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"));b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(d){return d.startFunnel(a,c==="search"?b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_ALL_THREADS:b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.keyCode===b("Keys").BACKSPACE&&(a.preventDefault(),d.props.onRemove&&d.props.entry!=void 0&&d.props.onRemove(d.props.entry))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option",tabIndex:this.props.index+i,children:h.jsx("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9",children:this.props.label})})};d.$1=function(a){a.stopPropagation()};return c}(h.Component);e.exports=a}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerBootloadedSecondarySearchLogger","MessengerGraphQLSearchTypeahead.react","MessengerSecondarySearchFunnelConstants","MessengerTokenizerToken.react","React","immutable","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!0,d.state={focused:d.props.autoFocus,queryString:""},d.focusInput=function(){d.refs.typeahead&&d.refs.typeahead.focusInput()},d.$4=function(){if(!d.$1)return;d.setState({focused:!1})},d.$8=function(){if(!d.$1)return;d.setState({focused:!0})},d.$5=function(a){if(d.state.queryString||d.props.entries.size===0)return;d.$10(d.props.entries.last());a.preventDefault();b("setImmediate")(d.focusInput)},d.$6=function(a){if(!d.$1)return;a.target instanceof HTMLInputElement||h(0,1185);a=a.target.value;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:a,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:a})},d.$7=function(){if(!d.$1)return;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:null,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:""});d.props.onClear&&d.props.onClear()},d.$9=function(a,c,e){if(!d.$1)return;a=d.props.entries;var f=e.getUniqueID();if(d.props.originalEntryIDs.contains(f))return;else if(a.some(function(a){return a.getUniqueID()===f})){d.$10(e);return}d.props.onAddEntryAttempt(e);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:"",loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:""})},d.$10=function(a){d.props.onRemoveEntryAttempt(a)},d.$3=function(a){d.focusInput()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this,c=this.props.entries.map(function(b,c){return a.$2(b,c)}),d=c.size>0?"":this.props.placeholder,e=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return i.jsxs("div",{children:[i.jsx("div",{className:b("joinClasses")(this.props.className,"_14-7"+(this.props.useDarkTheme?" _8tnm":"")),children:i.jsxs("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3,children:[c,i.jsx(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:e,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:d,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width,useDarkTheme:(c=this.props.useDarkTheme)!=null?c:!1})]})}),(this.state.queryString===""||!!this.props.alwaysShowDefaultEntriesOnBlur)&&!this.state.focused?this.props.defaultEntries:null]})};d.$2=function(a,c){return i.jsx(b("MessengerTokenizerToken.react"),{className:"_2ei6",label:a.getTitle(),entry:a,index:c,onRemove:this.$10},a.getUniqueID())};return c}(i.PureComponent);a.propTypes={alwaysShowDefaultEntriesOnBlur:(c=b("prop-types")).bool,autoFocus:c.bool.isRequired,canViewerSendMoneyFilter:c.bool,includeExistingParticipantIDs:c.bool,className:c.string.isRequired,context:c.object,defaultEntries:c.element,enableMessageSearch:c.bool.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,forceHideClearButton:c.bool,hasHoverState:c.bool.isRequired,customResultFilterFn:c.func,onAddEntryAttempt:c.func.isRequired,onClear:c.func,onRemoveEntryAttempt:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,placeholder:c.node.isRequired,roomAssociatedObject:c.object,scrollableViewClassName:c.string.isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,tabIndex:c.number,threadFBID:c.string,useLayer:c.bool.isRequired,viewer:c.string.isRequired,width:c.number.isRequired,useDarkTheme:c.bool};e.exports=a}),null);
__d("MessengerDateBreak_DEPRECATED.react",["cx","FBLogger","React","WorkChatRedesignedMessageListCheck.re","formatDate","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.date.getTime()!==a.date.getTime()};d.render=function(){try{var a=b("formatDate")(this.props.date,{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return h.jsx("h4",{className:b("joinClasses")(this.props.className,"_497p"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w78":"")+" _2lpt"),children:h.jsx("time",{className:"_3oh-",children:a})})}catch(a){b("FBLogger")("messaging").mustfix("invalid timestamp: "+this.props.date.getTime());return null}};return c}(h.Component);a.propTypes={date:b("prop-types").instanceOf(Date).isRequired};e.exports=a}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","React","ReactDOM","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","clearTimeout","createReactClass_DEPRECATED","getElementRect","getScrollPosition","joinClasses","prop-types","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerFlexArea",propTypes:{limitCalculationToParent:(a=b("prop-types")).bool,beforeResize:a.func,onResize:a.func,bottomOffset:a.number,maxHeight:a.oneOfType([a.number,a.oneOf[void 0,null]])},_subscriptions:null,_onResizeTimeout:null,getInitialState:function(){return{height:0}},componentDidMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.recalculateHeight,51)),b("MessengerSignals.bs").onResize(function(){a.recalculateHeight()}));this._subscriptions=c;b("setTimeoutAcrossTransitions")(this.recalculateHeight,0)},componentDidUpdate:function(a){a.maxHeight!==this.props.maxHeight&&this.recalculateHeight()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),b("clearTimeout")(this._onResizeTimeout)},render:function(){return h.jsx(b("ResponsiveBlock.react"),{className:b("joinClasses")(this.props.className,"_9hq"),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"},children:this.props.children})},recalculateHeight:function(){if(!this.isMounted())return;var a=b("ReactDOM").findDOMNode(this),c=a.parentNode,d=this.state.height,e=b("Vector").getViewportDimensions().y,f=!1;c&&b("Style").get(c,"display")==="none"&&(b("Style").set(c,"display","initial"),f=!0);var g=!1;c instanceof Element&&b("CSS").hasClass(c,"hidden_elem")&&(b("CSS").removeClass(c,"hidden_elem"),g=!0);if(this.props.limitCalculationToParent===!0&&c!=null&&c instanceof Element){var h=c.getBoundingClientRect().height;this.setState({height:h},this.props.onResize);return}e-=b("Vector").getElementPosition(c||a).y;h=b("getScrollPosition")(window);e+=h.y;this.props.bottomOffset&&(e-=this.props.bottomOffset);c&&(Array.from(c.childNodes).forEach(function(a){if(a.nodeType===Node.COMMENT_NODE||b("Style").get(a,"position")==="absolute")return;e-=b("getElementRect")(a).height}),e+=b("getElementRect")(a).height);f&&b("Style").set(c,"display","");g&&c instanceof Element&&b("CSS").addClass(c,"hidden_elem");(isNaN(e)||e<0)&&(e=0);this.props.maxHeight!=null&&(e=Math.min(this.props.maxHeight,e));e!==d&&(this.props.beforeResize&&this.props.beforeResize(),this.setState({height:e},this.props.onResize))},_handleResponsiveBlockResize:b("throttle")(function(a,c){if(!this.isMounted())return;c===this.state.height&&(this.props.beforeResize&&this.props.beforeResize(),b("clearTimeout")(this._onResizeTimeout),this.props.onResize&&(this._onResizeTimeout=b("setTimeoutAcrossTransitions")(this.props.onResize,0)))},51)});e.exports=c}),null);
__d("MessengerStickyVerticalScroller.react",["invariant","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("React");c=a.forwardRef;var i=a.useEffect,j=a.useImperativeHandle,k=a.useRef,l=a.useState,m=5,n={wrapper:{position:"relative"},detector:{position:"absolute",height:"100%",overflow:"auto",width:"1px",visibility:"hidden"},disabled:{display:"none"}},o=function(a){var c=a.children,d=a.style,e=a.onResize;a=a.enabled;var f=k(),j=k(),l=k(),m=k();i(function(){var a=b("nullthrows")(j.current),c=b("nullthrows")(l.current),d=b("nullthrows")(m.current),e=document.createElement("div");e.style.width="1px";a.appendChild(e);a=document.createElement("div");a.style.height="200%";a.style.width="1px";c.appendChild(a);f.current=d.clientHeight;p()},[]);function o(a){var c=b("nullthrows")(m.current),d=b("nullthrows")(f.current);d=c.clientHeight-d;a.stopPropagation();if(d===0)return;f.current=c.clientHeight;p();e()}function p(){var a,c=(a=b("nullthrows"))(j.current),d=a(l.current),e=a(m.current);a=a(c.firstChild);a instanceof HTMLDivElement||g(0,22392);a.style.height=e.clientHeight+1+"px";c.scrollTop=c.scrollHeight;d.scrollTop=d.scrollHeight}return h.jsxs("div",{style:babelHelpers["extends"]({},d,n.wrapper),ref:m,children:[h.jsx("div",{style:babelHelpers["extends"]({},n.detector,!a&&n.disabled),onScroll:o,ref:j}),h.jsx("div",{style:babelHelpers["extends"]({},n.detector,!a&&n.disabled),onScroll:o,ref:l}),c]})},p={container:{height:"100%",overflowX:"hidden",overflowY:"auto"}};d=c(function(a,c){var d=a.children,e=a.style,f=a.onScroll;a=a.initialAnchor;a=a===void 0?"bottom":a;var g=k(),n=k(-1),q=k(-1),r=k(-1),s=l(a),t=s[0],u=s[1],v=k(a);j(c,function(){return{scrollToBottom:function(){var a=b("nullthrows")(g.current);w();a.scrollTop=a.scrollHeight;r.current=a.scrollTop;u("bottom")},scrollToTop:function(){var a=b("nullthrows")(g.current);w();a.scrollTop=0;r.current=a.scrollTop;u("top")},getArea:function(){return{getScrollHeight:function(){var a=b("nullthrows")(g.current);return a.scrollHeight},getScrollTop:function(){var a=b("nullthrows")(g.current);return a.scrollTop},setScrollTop:function(a,c){c===void 0;c=b("nullthrows")(g.current);w();c.scrollTop=a},getElement:function(){return{getBoundingClientRect:function(){var a=b("nullthrows")(g.current);return{height:a.clientHeight}}}},isScrolledToBottom:function(){return t==="bottom"}}},scrollToPosition:function(a,c){c===void 0;c=b("nullthrows")(g.current);w();c.scrollTop=a},isScrolledToBottom:function(){return t==="bottom"}}});i(function(){var a=b("nullthrows")(g.current);q.current=a.clientHeight;n.current=a.scrollHeight;v.current==="bottom"&&(a.scrollTop=a.scrollHeight);r.current=a.scrollTop},[]);function w(){var a=b("nullthrows")(g.current),c=a.clientHeight-q.current,d=a.scrollHeight-n.current;if(t==="bottom"){d=r.current+d-c;c=a.scrollHeight-a.clientHeight-d<m;a.scrollTop=c?a.scrollHeight:d}q.current=a.clientHeight;n.current=a.scrollHeight;r.current=a.scrollTop}function x(a){a=a.target.scrollTop;if(a===r.current)return;var c=b("nullthrows")(g.current);r.current=a;q.current=c.clientHeight;u(n.current-q.current-r.current<m?"bottom":"top");f!=null&&f()}return h.jsx(o,{onResize:w,enabled:t==="bottom",style:e,children:h.jsx("div",{style:p.container,ref:g,onScroll:x,children:h.jsx(o,{onResize:w,enabled:t==="bottom",style:null,children:d})})})});e.exports=d}),null);
__d("MessengerFlexScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","MessengerStickyVerticalScroller.react","React","gkx","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("gkx")("1489717");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldTrackBottom:c.props.shouldStickToBottom},c.$2=function(){c.props.onScroll&&c.props.onScroll();if(!c.props.shouldStickToBottom)return;c.$3()},c.$1=function(){c.trackBottomIfRequired()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onMount&&this.props.onMount()};d.render=function(){return g.jsxs(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$1,ref:"flexArea",maxHeight:this.props.maxHeight,limitCalculationToParent:this.props.limitCalculationToParent,bottomOffset:this.props.bottomOffset,children:[this.props.flexChildren,this.props.shouldStickToBottom&&h?g.jsx(b("MessengerStickyVerticalScroller.react"),{style:{height:"100%",overflow:"hidden"},initialAnchor:"bottom",ref:"scrollable",onScroll:this.props.onScroll,children:this.props.children}):g.jsx(b("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$2,ref:"scrollable",tabIndex:this.props.tabIndex,children:this.props.children}),this.props.footerChildren]})};d.$3=function(){this.isScrolledToBottom()?this.setState({shouldTrackBottom:!0}):this.setState({shouldTrackBottom:!1})};d.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};d.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};d.trackBottomIfRequired=function(){this.state.shouldTrackBottom&&!h&&this.scrollToBottom()};d.overrideTrackBottom=function(a){this.setState({shouldTrackBottom:a})};d.scrollToBottom=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.scrollToPosition=function(a,b,c){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(a,b,c)};d.isScrolledToBottom=function(){var a=this.refs.scrollable;return a?a.isScrolledToBottom():!0};d.isScrolledToBottomWithHeight=function(a){return this.refs.scrollable.isScrolledToBottomWithHeight(a)};d.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};d.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};return c}(g.Component);a.propTypes={flexChildren:(c=b("prop-types")).node,footerChildren:c.node,onMount:c.func,onScroll:c.func,shouldStickToBottom:c.bool,tabIndex:c.number,maxHeight:c.number,bottomOffset:c.number,limitCalculationToParent:c.bool};e.exports=a}),null);
__d("MessengerNewMessagesNoticeReact.bs",["cx","ix","fbt","React","Link.react","Image.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h("86939"),l=i._("New messages");function a(a){var c=a.isOpen,d=a.onClick;a=a.label;a=a!==void 0?a:l;return j.jsx("div",{children:j.jsxs(b("Link.react"),{className:"_5f0v _4wzs",onClick:d,tabIndex:c?0:-1,children:[j.jsx(b("Image.react"),{className:"_4wzt",src:k}),j.jsx("div",{children:a,className:"_1bqr"})]}),"aria-hidden":!c,className:"_4wzq"+(c?" _4wzr":"")+(c?"":" _4-je")})}c=a;d=a;f.newMessageSrc=k;f.defaultLabel=l;f.make=c;f.jsComponent=d}),null);
__d("MessengerUserInputActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UPDATE_USER_INPUT_REQUESTED:null});e.exports={MessengerUserInputActions:a}}),null);
__d("MessengerUserInputActionsHandler",["MessengerUserInputActions","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerUserInputActions").MessengerUserInputActions;a={updateUserInputRequested:function(a,c,d){b("MessengerUserInputAppDispatcher").dispatch({type:g.UPDATE_USER_INPUT_REQUESTED,data:{isUserInputRequested:a,requestNumResults:c,requestType:d}})}};e.exports=a}),null);
__d("MessengerConversation.react",["ix","csx","cx","fbt","requireCond","Bootloader","BootloadOnRender.react","ChatTypingIndicatorsWrapper.bs","CSS","CurrentUser","DOM","DOMDimensions","ErrorBoundary.react","Event","EventProfiler","FantaPageGreetingLoader.react","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryIDs","MercuryShareAttachmentRenderLocations","cr:1203488","MessageList.react","MessengerActions","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery","MessengerBusinessUserProfileLocationQueryWebGraphQLQuery","MessengerButtonReact.re","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak_DEPRECATED.react","MessengerDialogs.re","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerNewMessagesNoticeReact.bs","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.bs","MessengerSpinner.react","MessengerThreadFetchLoggerUtil","MessengerThreadSearchActions","MessengerTypingIndicatorReact.re","MessengerUserInputActionsHandler","MessengerUserProfileLocationUtils","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MessengerViewBirthdayQueryWebGraphQLQuery","MessengerViewerContactMethodsWebGraphQLQuery","Parent","React","ReactDOM","SubscriptionsHandler","UserActivity","WebGraphQL","WebMessengerConstants","WorkBotLandingPageHelper","WorkChatRedesignedMessageListCheck.re","WorkGalahadScrollToMessageEventEmitter","cr:1071079","cr:1272775","cr:1071080","asset","emptyFunction","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","nullthrows","promiseDone","prop-types","setImmediate","setTimeout","throttle","MessengerAdsMessageSeenThreadFalcoEvent"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("ChatTypingIndicatorsWrapper.bs").jsComponent,l=b("MessengerButtonReact.re").make,m=b("MessengerNewMessagesNoticeReact.bs").jsComponent,n=b("MessengerTypingIndicatorReact.re").component,o=b("MessengerUserProfileLocationUtils").FetchMessengerUserRegionAndPostalCode,p=b("MessengerUserProfileLocationUtils").PassesGlobalizationGK,q=b("React"),r=b("WorkBotLandingPageHelper").shouldShowBotLandingPage;b("immutable").OrderedMap;var s=0,t=20,u=100,v=1e3,w=200,x=b("gkx")("833128"),y=b("gkx")("1489717"),z=b("lazyLoadComponent")(b("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react")),A=b("lazyLoadComponent")(b("JSResource")("OmniMSuggestionsContainer.react").__setRef("MessengerConversation.react"));function B(a,c){return!!(b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c)&&a.target instanceof Element&&b("Parent").bySelector(a.target,"._4_j4"))}var C={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={readReceipts:D(d.props),scrollingToUnreadMessage:!1,selectedMessageId:null,showUnreadNotice:!1,unreadCount:d.props.thread?d.props.thread.unread_count:0,width:0,viewerBirthday:null,viewerEmail:null,viewerPhone:null,viewerState:null,viewerZipCode:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1,renderScrollToBottom:!1},d.$1=null,d.$2=null,d.$3=null,d.$4=b("immutable").List(),d.$5=[],d.$6={originalScrollHeight:0,originalScrollTop:0},d.$7=function(){},d.$8=function(){},d.$16=function(){var a=d.$19();if(!d.refs||!a||d.props.isLoading){d.$5=[];return}var c=b("getPageIDFromThreadID")(d.props.threadID),e=d.refs.messageList;if(!e||!c){d.$5=[];return}var f=10,g=a.getElement().getBoundingClientRect(),h=[];d.$4.forEach(function(a){var e=a.message_id,i=d.refs.messageList.getMessageElement(e);if(i){i=i.getBoundingClientRect();i.top>g.top-f&&i.bottom<g.bottom+f&&(h.push(e),d.$5.includes(e)||(b("gkx")("1181700")?b("MessengerAdsMessageSeenThreadFalcoEvent").log(function(){return{message_id:e,ad_client_token:a.ad_client_token,ad_id:a.ad_id,page_id:c}}):b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,e,c)},"MessengerConversation.react")))}},babelHelpers.assertThisInitialized(d));d.$5=h},d.$20=function(){b("MessengerThreadFetchLoggerUtil").markerEnd(d.props.threadID,2),d.$20=b("emptyFunction")},d.$41=function(){var a;return((a=d.props.contact)==null?void 0:a.user_type)==="page"&&b("getPageIDFromThreadID")(d.props.threadID)!==null},d.$43=function(){d.state.renderScrollToBottom?(d.scrollToBottom(!0),d.setState({renderScrollToBottom:!1})):b("MessengerActions").changeMid(null)},d.$42=function(){d.setState({isLandingPageDismissed:!0})},d.$9=function(){var a=d.$19();a&&a.pageUp();return!1},d.$10=function(){var a=d.$19();a&&a.pageDown();return!1},d.$11=function(a){if(a.target===document.body){d.scrollToTop();return!1}return null},d.$12=function(a){if(a.target===document.body){d.scrollToBottom();return!1}return null},d.$15=function(){if(!d.refs)return;if(!d.refs.scrollable)return;var a=d.$19(),c=d.refs.quickReply;c&&b("CSS").conditionClass(c,"_1mzg",!d.isScrolledToBottom());d.$13();d.$14();a&&d.state.unreadCount&&d.$26(a)&&d.setState({showUnreadNotice:!1,unreadCount:0});a&&a.isScrolledToBottom()&&d.setState({renderScrollToBottom:!1});d.$46(a);d.$47(a);d.$8()},d.$45=function(a){a.preventDefault(),d.setState({showUnreadNotice:!1}),d.$22(!0)},d.$14=function(){if(d.props.messages.size===0||d.props.thread&&d.props.thread.unread_count===0||!d.isScrolledToBottom())return;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?d.props.onRead(d.props.threadID):d.$3||(d.$3=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(d.$18(),d.props.onRead(d.props.threadID))}))},d.handleResize=function(){if(!d.refs)return;if(d.refs.scrollable){d.refs.scrollable.handleResize();var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(d.refs.scrollable)).width;a!==d.state.width&&d.setState({width:a})}a=d.refs.quickReply;a&&b("CSS").conditionClass(a,"_1mzg",!d.isScrolledToBottom());y||d.trackBottomIfRequired()},d.$17=function(a){d.props.messages.some(function(b){return b.message_id===a})?d.$24(a,!0,function(){d.setState({selectedMessageId:a})}):(d.setState({selectedMessageId:null,shouldJumpToMessage:!0}),b("MessengerActions").changeMid(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c,d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.handleResize,50)),(c=b("KeyEventController")).registerKey("PAGE_UP",this.$9,B),c.registerKey("PAGE_DOWN",this.$10,B),c.registerKey("HOME",this.$11,B),c.registerKey("END",this.$12,B));this.$2=d;this.$13();this.handleResize();this.$14();this.$7=b("throttle")(this.$15,u);this.$8=b("throttle")(this.$16,v);this.$4=this.props.messages.filter(function(a){return a.is_sponsored});this.$8();b("WorkGalahadScrollToMessageEventEmitter").addListener("scrollToMessage",function(b){a.$17(b)})};d.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$18(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$4=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:D(a)})};d.componentWillUnmount=function(){this.$18(),this.$2&&this.$2.release(),this.$1!=null&&window.clearTimeout(this.$1),b("WorkGalahadScrollToMessageEventEmitter").removeAllListeners("scrollToMessage")};d.UNSAFE_componentWillUpdate=function(){var a=this.$19();a?this.$6={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$6={originalScrollHeight:0,originalScrollTop:0}};d.componentDidUpdate=function(a,c){var d=this;if(!this.refs)return;if(!this.refs.scrollable)return;(!this.props.isLoading||!this.props.messages.isEmpty())&&this.$20();c=this.props.threadID!==a.threadID;if(c&&!y||E(a,this.props))this.scrollToBottom(),this.$21();else if(!y||a.isLoading&&!a.messages.isEmpty()){var e=this.$19();if(e){var f=e.getScrollHeight();if(f!==this.$6.originalScrollHeight){f=e.getScrollHeight()-this.$6.originalScrollHeight+this.$6.originalScrollTop;this.refs.scrollable.scrollToPosition(f)}else this.$21()}}this.props.messages!==a.messages&&(this.$14(),this.state.scrollingToUnreadMessage&&this.$22(!1),this.$23());e=this.props.selectedMessage;this.state.shouldJumpToMessage&&e&&this.$24(e,!0,function(){d.setState({shouldJumpToMessage:!1})});this.$1=b("setTimeout")(function(){var a=d.$19(),c=d.state.unreadCount;d.trackBottomIfRequired();if(a&&d.state.unreadCount&&!d.state.scrollingToUnreadMessage&&!d.props.isLoading&&d.props.selectedMessage==null&&!d.$25()){d.$26(a)?d.setState({showUnreadNotice:!1,unreadCount:0}):c==1&&((c=d.props.messages.last())==null?void 0:c.log_message_type)!==null?d.setState({showUnreadNotice:!1,unreadCount:0}):d.setState({showUnreadNotice:!0})}d.$13();d.$8();b("setImmediate")(function(){var c=d.props.selectedMessage;a&&c!=null&&!d.props.scrolledToMid&&b("MessengerThreadSearchActions").scrollToMessage(c)})},0);f=a.messages&&a.messages.size||0;e=this.props.messages&&this.props.messages.size||0;(c||f===0&&(e>0||!this.props.isLoading))&&b("EventProfiler").informManualInteractionTimestamp(["MessengerThredRow"],!0,"click")};d.render=function(){var a=this,c;if(this.props.isLoading&&this.props.messages.isEmpty())return this.$27();var d=this.props.messages.last(),e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);this.$28(d);var f=this.$29(d),g=this.$30(d);this.$31(d);e=d&&d.author!==e?f||g:null;f=null;if(Array.isArray(e)){g=e.every(function(b){return b.content_type==="user_birthday"&&a.state.viewerBirthday===null||b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null||b.content_type==="user_state"&&a.state.viewerState===null||b.content_type==="user_zip_code"&&a.state.viewerZipCode===null});if(!g){g=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(e);f=q.jsx(b("BootloadOnRender.react"),{component:q.jsx(b("LazyComponent.react"),{options:g,threadID:d.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:b("MessengerQuickCamOrigins").MESSENGER,messageId:d.message_id,pageId:b("MercuryIDs").getUserIDFromParticipantID(d.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:d.is_sponsored,useM4QR:this.props.useM4QR,viewerBirthday:this.state.viewerBirthday,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone,viewerState:this.state.viewerState,viewerZipCode:this.state.viewerZipCode}),loader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:q.jsx("div",{})})}}e=null;g=null;f&&(e=q.jsx("div",{className:"_51op",children:q.jsx("div",{className:"_51oq",onResize:this.handleResize})}),g=q.jsx("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize,children:f},"quick_reply"));d=j._("Messages");f=j._("Load more...");var h=this.$32(),i=null;if(b("cr:1071079")!=null&&b("cr:1071080")!=null&&b("cr:1071080").shouldRenderChatNullState(this.props.messages,this.props.threadID,(c=this.props.contact)==null?void 0:c.user_type,this.props.viewer)){((c=this.props.thread)==null?void 0:c.work_associated_group)!=null&&b("cr:1272775")!=null?i=q.jsx(b("cr:1272775"),{group:this.props.thread.work_associated_group},"work_teamwork_chat_nullstate"):i=q.jsx(b("cr:1071079"),{messageType:b("nullthrows")(b("cr:1071080").getNullStateMessageType(this.props.threadID,this.props.viewer))},"work_teamwork_chat_nullstate")}return q.jsxs(q.Fragment,{children:[q.jsx(b("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$33(),footerChildren:[g,i],onMount:function(){return b("setImmediate")(a.$14)},onScroll:this.props.useManualFetch?void 0:this.$7,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0,bottomOffset:this.props.bottomOffset,children:q.jsxs("div",{"aria-label":d,className:b("joinClasses")("__i_"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w74":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2k":""),this.props.innerClassName),role:"region",children:[q.jsx("h3",{className:"accessible_elem",children:d}),this.$34(),this.props.useManualFetch&&!this.props.upExhausted?q.jsx("div",{className:"_7fim",children:q.jsx(l,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,a.props.threadID)},type:"primary",use:"default"})}):null,this.$35(),this.$36()&&q.jsx(b("FantaPageGreetingLoader.react"),{thread:this.props.thread,threadID:this.props.threadID}),i?null:h||q.jsx(b("MessageList.react"),{DateBreak:b("MessengerDateBreak_DEPRECATED.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:b("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),MessageGroup:b("cr:1203488"),messages:this.props.messages,onAttachmentLoad:this.$37(this.props.threadID),onReactionSwap:this.$38,onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",selectedMessageId:this.state.selectedMessageId,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$17}),this.props.useManualFetch&&!this.props.downExhausted?q.jsx("div",{className:"_7fim",children:q.jsx(l,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN,a.props.threadID)},type:"primary",use:"default"})}):null,e,q.jsx(k,{indicatorClass:n,indicatorsDidShow:function(){a.trackBottomIfRequired()},rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),b("gkx")("1501033")&&q.jsx(b("ErrorBoundary.react"),{context:{project:"omnim"},children:q.jsx(q.Suspense,{fallback:q.jsx("div",{}),children:q.jsx(A,{threadID:this.props.threadID,lastMessage:this.props.messages.last(),trackBottom:function(){return a.trackBottomIfRequired()}})})})]})}),b("WorkChatRedesignedMessageListCheck.re").enabled?this.$39():this.$40()]})};d.$32=function(){if(!b("CurrentUser").isWorkUser())return null;if(!this.$41())return null;if(this.state.isLandingPageDismissed===!0)return null;return this.props.contact&&r(this.props.messages)?q.jsx(q.Suspense,{fallback:q.jsx(b("MessengerSpinner.react"),{}),children:q.jsx(z,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$42})}):null};d.$40=function(){var a=this.$19();if(a){a=a.getElement().getBoundingClientRect().height;a={top:a-74+"px"}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?q.jsx(b("Link.react"),{"aria-label":j._("Jump to the Last Message"),style:a,className:"_69xg",onClick:this.$43,children:q.jsx(b("Image.react"),{className:"_69xi",src:g("415099")})}):null};d.$39=function(){return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?q.jsx(b("Link.react"),{className:"_8wfp",onClick:this.$43,children:j._("Back to Latest")}):null};d.$29=function(a){var b=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var c=a&&a.message_classification==="ad_message";c&&Array.isArray(a&&a.quick_replies)&&(b=a&&a.quick_replies);return b};d.$30=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};d.$44=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.user_input};d.$28=function(a){var c=b("gkx")("964442");if(c){c=this.$44(a);if(!c){b("MessengerUserInputActionsHandler").updateUserInputRequested(!1,s);return}else c.type==="address_auto_complete"&&b("MessengerUserInputActionsHandler").updateUserInputRequested(!0,c.data.num_results,c.type)}return};d.$13=function(){if(this.props.useManualFetch)return;var a=this.$19();a&&a.getScrollTop()<t&&(this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,this.props.threadID),this.$23())};d.$31=function(a){var c=this;a=this.$30(a);if(!a)return;var d=b("gkx")("953755");d&&a.some(function(a){return a.content_type==="user_birthday"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewBirthdayQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.birthdate:a:a:a;if(a!==null){var b,d;d=(d=a)!=null?d.month:d;b=(b=a)!=null?b.day:b;a=(a=a)!=null?a.year:a;d&&b&&a&&c.setState({viewerBirthday:{day:b,month:d,year:a}})}});a.some(function(a){return a.content_type==="user_state"||a.content_type==="user_zip_code"})&&(!this.state.viewerState||!this.state.viewerZipCode)&&(p()?b("promiseDone")(o(),function(a){var b=a==null?void 0:a.region;a=a==null?void 0:a.postal_code;c.setState({viewerState:b,viewerZipCode:a})}):(b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessUserProfileLocationQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.address:a:a:a;if(a!=null){var d,e;e=(e=a)!=null?e.city:e;d=(d=a)!=null?d.country:d;e&&d==="US"&&c.setState({viewerState:b("MessengerQuickReplyUtils").parseStateFromCityAddress(e)});c.setState({viewerZipCode:(d=a)!=null?d.postal_code:d})}}),(!this.state.viewerState||!this.state.viewerZipCode)&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?a.in_thread_user_fuzzy_location_search:a;if(a!==null){if(!c.state.viewerState){var b;c.setState({viewerState:(b=a)!=null?b.state:b})}if(!c.state.viewerZipCode){c.setState({viewerZipCode:(b=a)!=null?b.zip_code:b})}}})));a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var d=b?b.find(function(a){return a.is_preferred}):null;!d&&b&&(d=b[0]);b=a?a.find(function(a){return a.is_primary}):null;c.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=d)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})})};d.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};d.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};d.$33=function(){return q.jsx(m,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} unread messages","_1":"1 unread message"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$45})};d.$34=function(){return!this.props.isLoaded||this.props.hideContextBanner?null:q.jsx(b("MessengerContextBannerContainer.react"),{location:b("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};d.$35=function(){return this.props.isLoaded?null:q.jsx("div",{className:"_2k8v",children:this.props.isLoading?q.jsx(b("MessengerSpinner.react"),{}):null})};d.$27=function(){return q.jsx("div",{className:"_4xu0",children:q.jsx(b("MessengerSpinner.react"),{className:"_4xu1",size:b("MessengerSpinner.react").large_size})})};d.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};d.scrollToBottom=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.$37=function(a){var b=this;if(C[a])return C[a];var c=function(){if(b.props.threadID!==a||y)return;b.trackBottomIfRequired()};C[a]=c;return c};d.$38=function(a){b("promiseDone")(b("JSResource")("MessengerSolidReactionDialogReact.re").__setRef("MessengerConversation.react").load().then(function(c){var d=c.make;b("MessengerDialogs.re").showDialog(function(){return q.jsx(d,{isSolid:a})})}))};d.$21=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){(a.props.threadID===d||y)&&a.trackBottomIfRequired(),e.remove()})})};d.$48=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};d.$26=function(a){var b=this,c=this.props.messages,d=this.$48();if(!d)return!1;var e=a.getElement().getBoundingClientRect();return c.filter(function(a){return a&&a.timestamp<=d.timestamp}).some(function(a){a=b.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>e.top&&a.top<e.bottom})};d.$25=function(){if(x&&this.state.unreadCount<w){var a;this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=(a=this.refs.messageList)==null?void 0:a.getNewMessageDivider();var c=this.$19();if(!a||!c)return!1;a=a.getBoundingClientRect().top;var d=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,e=c.getElement().getBoundingClientRect();if(a<e.top){a=a+Math.abs(d)-e.height*.2;c.setScrollTop(a,!1);this.setState({renderScrollToBottom:!0,unreadCount:0});return!0}}return!1};d.$22=function(a){var b=this;if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var c=this.$48();if(!c){this.scrollToTop(!1);return}this.$24(c.message_id,a,function(){b.setState({scrollingToUnreadMessage:!1,unreadCount:0})})};d.$24=function(a,c,d){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var e=this.$19();if(!a||!e)return;a=a.getBoundingClientRect().top;var f=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,g=e.getElement().getBoundingClientRect().height;a=a+Math.abs(f)-g/2;e.setScrollTop(a,c,{callback:d})};d.$19=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};d.$18=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};d.$49=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};d.$46=function(a){var c=this.refs.messageList;if(!c||!a)return;var d=[];a=a.getElement().getBoundingClientRect();var e=b("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),f=e||this.$49()||b("immutable").List();f.map(function(a){var e=b("MessengerAttachmentRenderer").getVideoElem(a,c);e&&d.push([a,e.getBoundingClientRect()])});d.length&&b("MessengerVideoAutoplayActions").onScroll(this.props.threadID,e?null:f,b("immutable").Map(d),a)};d.$50=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};d.$47=function(a){var c=this;b("ifRequired")("MessengerSphericalRendererActions",function(d){b("ifRequired")("MessengerSphericalRendererStore",function(e){var f=c.refs.messageList;if(!f||!a)return;var g=[],h=a.getElement().getBoundingClientRect();e=e.getMessageIDs(c.props.threadID);e=e||c.$50()||b("immutable").List();e.map(function(a){var c=b("MessengerAttachmentRenderer").getSphericalPhotoElem(a,f);c&&g.push([a,c.getBoundingClientRect()])});g.length&&d.onScroll(c.props.threadID,e,b("immutable").Map(g),h)},function(){})},function(){})};d.$23=function(){var a=this;b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$49());var c=this.$50();c&&c.count()!==0&&b("ifRequired")("MessengerSphericalRendererActions",function(b){b.updateStore(a.props.threadID,c)},function(){b("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(b,d){b.updateStore(a.props.threadID,c)},"MessengerConversation.react")})};d.$36=function(){if(b("CurrentUser").isWorkUser())return!1;return this.props.messages.size!==0?!1:!0};return c}(q.PureComponent);a.propTypes={contact:(c=b("prop-types")).instanceOf(b("ImmutableObject")),deliveryTimestamp:c.number.isRequired,downExhausted:c.bool,fetchMessages:c.func.isRequired,hideContextBanner:c.bool,innerClassName:c.string,isCanonical:c.bool,isLoaded:c.bool,isLoading:c.bool,isMessengerAdPreview:c.bool,messages:c.instanceOf(b("immutable").List).isRequired,onVoiceClipCreate:c.func,onReplyToMessage:c.func,readReceipts:c.any,thread:c.object,threadID:c.string.isRequired,upExhausted:c.bool,useM4QR:c.bool,useManualFetch:c.bool,viewer:c.string.isRequired,selectedMessage:c.string,isSearchResult:c.bool};function D(a){var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);var f=null;b("immutable").Seq(a.messages).reverse().forEach(function(a){if(a.action_type!=="ma-type:log-message"){f=a;return!1}return!0});return d.withMutations(function(c){b("immutable").Seq(a.messages).reverse().forEach(function(a){if(e.size===0)return!1;if(!e.has(a.author))return;if(a.action_type==="ma-type:log-message")return;c.update(a.author,function(b){if(!b)return void 0;var c=b;b.watermark<=a.timestamp&&(c={watermark:a.timestamp,action:a.timestamp});f&&f.timestamp<c.watermark&&(c={watermark:f.timestamp,action:f.timestamp});return c});e["delete"](a.author)})})}function E(a,c){var d=b("MercuryIDs").getParticipantIDFromUserID(c.viewer);return c.threadID===a.threadID&&c.messages!==a.messages&&!c.messages.isEmpty()&&c.messages.last()!==a.messages.last()&&c.messages.last().author===d&&(!y||!a.isLoading)}e.exports=a}),null);
__d("MessengerMenu.react",["cx","Keys","MenuSeparator.react","MessengerDotComAndInboxM4Check.bs","ReactXUIMenu","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.isReactLegacyFactory={},a.type=a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d=c.className;c=babelHelpers.objectWithoutPropertiesLoose(c,["className"]);return a.call(this,babelHelpers["extends"]({className:b("joinClasses")(d,"_2i-c"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6_n0":"")+" _150g")},c))||this}var d=c.prototype;d.handleKeydown=function(c,d){return c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").SPACE?a.prototype.handleKeydown.call(this,c,d):!0};return c}(b("ReactXUIMenu"));a(c);c.Item=b("ReactXUIMenu").Item;c.Separator=b("MenuSeparator.react");e.exports=c}),null);
__d("MessengerQuickCamButtonBootLoader.react",["AutoFocusableLink.react","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return!a.htmlQC?null:g.jsx(b("MercuryBootloadOnInteraction.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},a)),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerQuickCamButtonBootLoader.react"),placeholder:a.placeholder||g.jsx(b("AutoFocusableLink.react"),{label:"flyout button",className:a.className})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MercuryMessageBodyReact.bs",["ReasonReact.bs","MercuryMessageBody.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MercuryMessageBody.react"),{body:a},c)}f.make=a}),null);
__d("MessengerBarChartIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{id:"Fill-1",d:"M13,25.9966 L13,15.9966 C13,14.8921 12.1045,13.9966 11,13.9966 L9,13.9966 C7.8955,13.9966 7,14.8921 7,15.9966 L7,25.9966 C7,27.1011 7.8955,27.9966 9,27.9966 L11,27.9966 C12.1045,27.9966 13,27.1011 13,25.9966 M23,11.9966 L23,25.9966 C23,27.1011 23.8955,27.9966 25,27.9966 L27,27.9966 C28.1045,27.9966 29,27.1011 29,25.9966 L29,11.9966 C29,10.8921 28.1045,9.9966 27,9.9966 L25,9.9966 C23.8955,9.9966 23,10.8921 23,11.9966 M15,7.9966 L15,25.9966 C15,27.1011 15.8955,27.9966 17,27.9966 L19,27.9966 C20.1045,27.9966 21,27.1011 21,25.9966 L21,7.9966 C21,6.8921 20.1045,5.9966 19,5.9966 L17,5.9966 C15.8955,5.9966 15,6.8921 15,7.9966"}),id:"Group",fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerBlockDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","Link.react","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialog.react","IgnoreMessagesTypedLogger","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerBlockDialogReact");function k(a,c){return i.jsx("div",{children:h._("If you want, you can also {link}",[h._param("link",i.jsx(b("Link.react"),{href:c,target:"_blank",children:h._("block {short_name_or_description} on Facebook.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(a,h._("this person")))])}))]),className:"_1q73"})}function l(a,c,d,e){return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:j.didMount,didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(a){if(c!==void 0){var e=b("bs_caml_option").valFromOption(c);e=[e.short_name,b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isWorkUser()?void 0:b("bs_caml_option").nullable_to_opt(e.href)]}else e=[void 0,void 0];var f=e[1];e=e[0];if(!(d==null)){var g=new(b("IgnoreMessagesTypedLogger"))().setEvent("block_clicked").setThreadID(d).setPlatform("messengerdotcom");g.log()}g=b("CurrentUser").isWorkUser()?"https://www.workplace.com/help/work/2201185726805642":"https://www.facebook.com/help/389645087895231";return i.jsxs(b("MessengerDialog.react"),{shown:a.state.shown,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Block messages")}),i.jsxs(b("MessengerDialogBody.react"),{children:[i.jsx("div",{children:h._({"Workplace Chat":"Stop getting messages and calls from {short_name_or_description} in Workplace Chat.","Messenger":"Stop getting messages and calls from {short_name_or_description} in Messenger."},[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(e,h._("this person"))),h._enum(b("CurrentUser").isWorkUser()?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})]),className:"_1q73"}),f!==void 0?k(e,f):null,i.jsx("div",{children:i.jsx(b("Link.react"),{href:g,target:"_blank",children:h._("Learn more")})})]}),i.jsxs(b("MessengerDialogFooter.react"),{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.jsx(b("MessengerDialogButton.react"),{label:h._("Block messages"),onClick:function(c){return b("bs_curry")._1(a.send,0)},type:"primary",use:"danger"})]})]})},initialState:function(a){return{shown:!0}},retainedProps:j.retainedProps,reducer:function(c,d){return b("bs_block").__(2,[{shown:!1},function(c){return b("bs_curry")._1(a,0)}])},jsElementWrapped:j.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return l(a.onBlock,b("bs_caml_option").nullable_to_opt(a.contact),a.threadID,[])});c=b("bs_belt_Option").getWithDefault;f.$pipe$question=c;f.component=j;f.renderBlockOnFacebook=k;f.make=l;f.jsComponent=a}),null);
__d("MNBotsLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BOT_COMPOSER_MENU_ICON_DISPLAYED:"bot_composer_menu_icon_displayed",BOT_COMPOSER_MENU_ICON_TAPPED:"bot_composer_menu_icon_tapped",BOT_COMPOSER_MENU_ITEM_DID_SELECT:"bot_composer_menu_item_did_select",BOT_COMPOSER_QUICK_REPLY_DISPLAYED:"bot_composer_quick_reply_displayed",BOT_COMPOSER_QUICK_REPLY_TAPPED:"bot_composer_quick_reply_tapped"})}),null);
__d("MessengerFlyoutPlaceholderReact.bs",["React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a={padding:"30px",textAlign:"center"};return g.jsx("div",{children:g.jsx(b("XUISpinner.react"),{size:"large"}),style:a})}c=a;f.make=c}),null);
__d("MessengerFlyoutButtonReact.bs",["cx","bs_curry","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","AutoFocusableLink.react","MessengerContextualDialogReact.bs","MessengerFlyoutPlaceholderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a,c){var d=a.className,e=a.createFlyout,f=a.dialogClassName,g=a.disabled,i=a.flyoutAlignment,j=a.flyoutWidth,k=a.getInput,l=a.icon,m=a.onClick,n=a.onHideFlyout,o=a.title;a=a.testid;c=c;g=g!==void 0?g:!1;var p=h.useRef(null),q=h.useState(function(){return!1}),r=q[1],s=q[0];q=h.useState(function(){return!1});var t=q[1],u=q[0],v=h.useCallback(function(a){a=b("bs_curry")._1(k,0);if(a==null)return 0;else return a.focus()},[k]),w=h.useCallback(function(a){b("bs_curry")._1(v,0);b("bs_curry")._1(t,function(a){return!1});if(n!==void 0)return b("bs_curry")._1(n,0);else return 0},[v,t,n]);h.useImperativeHandle(c,function(){return{hideFlyout:w}},[w]);q=function(a){a.stopPropagation();if(s)return b("bs_curry")._1(r,function(a){return!1});else{b("bs_curry")._1(t,function(a){return!a});if(m!==void 0)return b("bs_curry")._1(m,a);else return 0}};c=h.jsx(h.Suspense,{children:b("bs_curry")._2(e,w,u),fallback:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{})});e=u?b("ReasonReact.bs").element("contextualDialog",void 0,b("MessengerContextualDialogReact.bs").make(i!==void 0?i:1,b("bs_belt_Option").getWithDefault(f,""),function(a){return b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(p.current),function(a){return a})},w,10,function(a){return b("bs_curry")._1(t,function(b){return a})},u,b("bs_belt_Option").getWithDefault(j,278),c)):null;if(g)return h.jsx("div",{children:l,className:d});else{i={"aria-label":o,autoFocus:!1,children:h.jsxs(h.Fragment,{children:[l,e]}),className:b("joinClasses")(d,u?"open":""),href:"#",onMouseDown:function(a){return b("bs_curry")._1(r,function(a){return u})},onClick:q,ref:p,role:"button",title:o};a!==void 0&&(i["data-testid"]=b("bs_caml_option").valFromOption(a));return h.jsx(b("AutoFocusableLink.react"),i)}}c=h.forwardRef(a);d=278;f.cFLYOUT_WIDTH=d;f.make=c}),null);
__d("MessengerMoreIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M7.5,9 L28.5,9 C29.3284271,9 30,9.67157288 30,10.5 C30,11.3284271 29.3284271,12 28.5,12 L7.5,12 C6.67157288,12 6,11.3284271 6,10.5 C6,9.67157288 6.67157288,9 7.5,9 Z M7.5,16.5 L28.5,16.5 C29.3284271,16.5 30,17.1715729 30,18 C30,18.8284271 29.3284271,19.5 28.5,19.5 L7.5,19.5 C6.67157288,19.5 6,18.8284271 6,18 C6,17.1715729 6.67157288,16.5 7.5,16.5 Z M7.5,24 L28.5,24 C29.3284271,24 30,24.6715729 30,25.5 C30,26.3284271 29.3284271,27 28.5,27 L7.5,27 C6.67157288,27 6,26.3284271 6,25.5 C6,24.6715729 6.67157288,24 7.5,24 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerBotMenuButtonReact.bs",["bs_curry","React","JSResource","lazyLoadComponent","MNBotsLoggerEvents","MessengerFlyoutButtonReact.bs","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerMoreIconSVGM4React.bs","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.pageId,j=a.threadId;a=g.useState(function(){return!1});var k=a[1],l=a[0];a=g.useState(function(){return});var m=a[1],n=a[0];g.useEffect(function(){new(b("MessengerBotsWebTypedLogger"))().setEvent(b("MNBotsLoggerEvents").BOT_COMPOSER_MENU_ICON_DISPLAYED).setPageID(i).log();return},[i]);a=function(a){if(n!==void 0)return 0;else{b("bs_curry")._1(k,function(a){return!0});b("MessengerBotMenuDataFetcher").getMenuItems(i,function(a){b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},function(a){b("bs_curry")._1(m,function(a){return[]});return b("bs_curry")._1(k,function(a){return!1})});return 0}};var o=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(i,a);b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},p=function(a,b){return g.createElement(h,{onEscKeyDown:a,shown:b,isLoading:l,menuItems:n,pageID:i,threadID:j,onClick:a})};return g.jsxs("div",{children:[g.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:p,flyoutAlignment:e,getInput:f,icon:b("MessengerMoreIconSVGM4React.bs").make(d),onClick:a,title:"",ref:function(a){return{contents:a}}}),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:i,onUpdate:o})]})}c=a;f.bootloadedBotMenuFlyout=h;f.make=c}),null);
__d("MessengerCameraIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M18.01125,23.50245 C15.52875,23.50745 13.51225,21.49495 13.50775,19.00845 C13.50275,16.52145 15.51175,14.50195 17.99425,14.49695 C20.47675,14.49245 22.49325,16.50445 22.49775,18.99145 C22.50225,21.47795 20.49375,23.49745 18.01125,23.50245 M17.99825,12.49945 C14.40825,12.50695 11.50325,15.42245 11.51025,19.01245 C11.51675,22.60195 14.43275,25.50695 18.02275,25.49995 C21.61275,25.49295 24.51775,22.57745 24.51125,18.98795 C24.50425,15.39745 21.58825,12.49295 17.99825,12.49945 M26.50025,28.99995 L9.50025,28.99995 C7.29125,28.99995 5.50025,27.20895 5.50025,24.99995 L5.50025,13.99995 C5.50025,11.79095 7.29125,9.99995 9.50025,9.99995 L10.00025,9.99995 C10.96025,9.99995 11.88175,9.61845 12.56075,8.93945 L13.43925,8.06045 C14.11825,7.38195 15.03975,6.99995 16.00025,6.99995 L20.00025,6.99995 C20.96025,6.99995 21.88175,7.38195 22.56075,8.06045 L23.43925,8.93945 C24.11825,9.61845 25.03975,9.99995 26.00025,9.99995 L26.50025,9.99995 C28.70925,9.99995 30.50025,11.79095 30.50025,13.99995 L30.50025,24.99995 C30.50025,27.20895 28.70925,28.99995 26.50025,28.99995",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCowatchLogger",["MNCoWatchEventTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=new(b("MNCoWatchEventTypedLogger"))().setEvent(a).setName("mn_cowatch_event");c.contentItemID!=null&&a.setVideoID(c.contentItemID);c.tabName!=null&&a.setVideoTab(c.tabName);c.livingRoomID!=null&&a.setLivingRoomID(c.livingRoomID);c.callID!=null&&a.setCallID(c.callID);a.log()}e.exports=a}),null);
__d("XMessengerWebCowatchRootController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/watch_together/",{thread_id:{type:"FBID",required:!0}})}),null);
__d("MessengerCowatchWindowManager",["XMessengerWebCowatchRootController"],(function(a,b,c,d,e,f){"use strict";a={openCowatchWindow:function(a){var c,d,e,f,g=1280,h=720;c=(c=window.innerHeight)!=null?c:screen.height;d=(d=window.innerWidth)!=null?d:screen.width;e=(e=window.screenLeft)!=null?e:window.screenX;f=(f=window.screenTop)!=null?f:window.screenY;d=Math.floor(d/2-g/2+e);e=Math.floor(c/2-h/2+f);c=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no","height="+h,"width="+g,"top="+e,"left="+d].join(",");f=b("XMessengerWebCowatchRootController");h=f.getURIBuilder().setFBID("thread_id",a).getURI();return window.open(h,"mn_cowatch",c)}};e.exports=a}),null);
__d("MessengerVideoIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsx("path",{id:"path-video-icon",d:"m1,8l24,0c0.552,0 1,0.448 1,1l0,7c0,2.209 -1.791,4 -4,4l-18,0c-2.209,0 -4,-1.791 -4,-4l0,-7c0,-0.552 0.448,-1 1,-1zm6.4865,-2l-6.4865,0c-0.552,0 -1,-0.448 -1,-1l0,-1c0,-2.209 1.791,-4 4,-4l0.7545,0c0.3315,0 0.6345,0.1875 0.783,0.4835l2.396,4.793c0.1665,0.3325 -0.0755,0.7235 -0.447,0.7235zm9.517,0l-5.775,0c-0.332,0 -0.635,-0.1875 -0.783,-0.4835l-2.396,-4.793c-0.1665,-0.3325 0.0755,-0.7235 0.447,-0.7235l5.775,0c0.332,0 0.6345,0.1875 0.783,0.4835l2.396,4.793c0.1665,0.3325 -0.0755,0.7235 -0.447,0.7235zm7.9965,0l-4.2545,0c-0.3315,0 -0.6345,-0.1875 -0.783,-0.4835l-2.396,-4.793c-0.1665,-0.3325 0.0755,-0.7235 0.447,-0.7235l3.9865,0c2.209,0 4,1.791 4,4l0,1c0,0.552 -0.448,1 -1,1z"})}),h.jsx("g",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("mask",{children:h.jsx("use",{xlinkHref:"#path-video-icon"}),id:"mask-video-icon",transform:"translate(0,-19.793445587158203) translate(0.06049203872680664,0) translate(0,10) translate(0,10) translate(0,-0.21953368186950684) translate(-2.3051037788391113,-0.7683678865432739) translate(1.866036295890808,0.21953368186950684) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(5.378575325012207,7.683679103851318) translate(5,8) translate(-5,-8) "}),h.jsx("use",{fill:a,x:"5",xlinkHref:"#path-video-icon",y:"8"})]})}),fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"})],className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerVideoIconSVGM4React.re",["MessengerVideoIconSVGM4React.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("MessengerVideoIconSVGM4React.bs").make(a.fill);return a};f.make=a}),null);
__d("MercuryCowatchButton.react",["cx","fbt","Link.react","MessengerCowatchLogger","MessengerCowatchWindowManager","MessengerVideoIconSVGM4React.re","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=h._("Watch Together");return i.jsx(b("Link.react"),{"aria-label":c,className:b("joinClasses")(a.className,"_365d"),onClick:function(){b("MessengerCowatchLogger")("mn_cowatch_composer_button_tapped",{}),b("MessengerCowatchWindowManager").openCowatchWindow(a.threadID)},title:c,children:b("MessengerVideoIconSVGM4React.re").make({fill:a.fill})})}e.exports=a}),null);
__d("MessengerConfirmBlockThreadDialogReact.bs",["fbt","React","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.participantName;var c=function(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(void 0,0)},d=function(a){return c(!1)};return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("You have blocked {sender name}",[g._param("sender name",a)])}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:g._("You can access people you've blocked by going to the 'Filtered messages' list.")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("OK"),void 0,void 0,d,1,void 0,void 0,void 0,[]))]))]))}c=a;f.make=c}),null);
__d("MessengerMessageRequestsTypedLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("MessengerMessageRequestsTypedLogger"))()}f.make=a}),null);
__d("MessengerComposerPendingActionsM4React.bs",["React","bs_caml_obj","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","MessagingTag","MessengerActions","MessengerDialogs.bs","MessengerURIStore","MessageRequestUtils","MercuryThreadActions","MessengerParticipants.bs","MessengerBlockDialogReact.bs","MessengerMessageRequestsTypedLogger.bs","MessengerComposerPendingActions.react","MessengerConfirmBlockThreadDialogReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return b("MercuryThreadActions").getForFBID(a)}function h(a,c,d){b("MessengerDialogs.bs").showDialog(function(a){return g.jsx(b("MessengerConfirmBlockThreadDialogReact.bs").make,{participantName:d})});var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(0).setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(a)?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(void 0).log();return 0}function i(a,c,d,e){var f=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,d);b("MercuryThreadActions").getForFBID(a).blockIgnoreOnMessengerDotCom(f,d,function(a){return h(c,d,e)});return 0}function j(a,c,d,e){b("MercuryThreadActions").getForFBID(a)["delete"](d,null);b("MessengerActions").selectThread(null,null);e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(0).setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(c)?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint("inbox_banner").log();return 0}function k(a,c,d){if(d)return 0;else{d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(0).setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(a)?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(d).setEntryPoint("inbox_banner").log();return 0}}function l(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,"other");d=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,c);if(d){b("MessengerActions").selectThread(null,null);return 0}else return 0}function m(a,c,d){var e=c.thread_id;if(b("MercuryIDs").isGroupChat(e))return l(a,e,0);else{d=c.other_user_fbid;if(d==null)return 0;else{var f=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(f==null)return 0;else return b("MessengerDialogs.bs").showDialog(function(d){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(function(b){return i(a,c,e,f.short_name)},b("bs_caml_option").some(f),null,[]))})}}}function c(a){var c=a.thread,d=a.threadId,e=a.viewer;a=a.onAccept;return g.jsx(b("MessengerComposerPendingActions.react"),{thread:c,threadID:d,viewer:e,onAccept:a,onIgnoreBlock:function(a){return m(e,c,a)},onDeleteDialogDeleteClick:function(a){return j(e,c,d,a)},onDeleteDialogToggleClick:function(a){return k(c,d,a)}})}d=c;f.getThreadActions=a;f.handleAfterBlock=h;f.handleConfirmBlock=i;f.handleDeleteDialogDeleteClick=j;f.handleDeleteDialogToggleClick=k;f.handleIgnore=l;f.handleIgnoreBlock=m;f.make=d}),null);
__d("MessengerCowatchConfig",["gkx"],(function(a,b,c,d,e,f){"use strict";a={isMessengerDotComEntrypointEnabled:function(){return b("gkx")("939331")},hasZenonCowatchCapability:function(){return b("gkx")("939331")},hasZenonGroupCowatchCapability:function(){return b("gkx")("939331")}};e.exports=a}),null);
__d("MessengerCurrencyEURIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,17.5 L15.0175,17.5 C15.0075,17.6645 15,17.83 15,18 C15,18.17 15.0075,18.3355 15.0175,18.5 L30.5,18.5 C30.776,18.5 31,18.276 31,18 C31,17.724 30.776,17.5 30.5,17.5 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,15 C5,15.276 5.224,15.5 5.5,15.5 L12.787,15.5 C13.5795,12.2965 16.0515,10.25 20.5,10.25 C20.835,10.25 21.15,10.267 21.4265,10.291 C21.9925,10.3395 22.476,10.7855 22.499,11.3535 C22.5255,12.0045 21.9945,12.5305 21.3505,12.5065 C21.2395,12.5025 21.1225,12.5 21,12.5 C17.971,12.5 16.214,13.6625 15.454,15.5 L30.5,15.5 C30.776,15.5 31,15.276 31,15 L31,12 C31,9.791 29.209,8 27,8 Z M30.5,20.5 L15.454,20.5 C16.214,22.3375 17.971,23.5 21,23.5 C21.111,23.5 21.218,23.498 21.32,23.4945 C21.874,23.4755 22.391,23.8595 22.4835,24.4065 C22.594,25.0575 22.1335,25.644 21.5025,25.7025 C21.2085,25.7295 20.8665,25.75 20.5,25.75 C16.0515,25.75 13.5795,23.7035 12.787,20.5 L5.5,20.5 C5.224,20.5 5,20.724 5,21 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,21 C31,20.724 30.776,20.5 30.5,20.5 Z M5.5,17.5 C5.224,17.5 5,17.724 5,18 C5,18.276 5.224,18.5 5.5,18.5 L12.5175,18.5 C12.5105,18.334 12.5,18.17 12.5,18 C12.5,17.83 12.5105,17.666 12.5175,17.5 L5.5,17.5 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyGBPIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,16.5 C5,16.776 5.224,17 5.5,17 L14.861,17 C14.661,16.204 14.4915,15.3075 14.4915,14.258 C14.4915,11.5845 16.4645,10 20,10 L21.9465,10 C22.4445,10 22.906,10.3405 22.9865,10.832 C23.088,11.4585 22.607,12 22,12 L20,12 C17.851,12 16.979,12.9685 16.979,14.478 C16.979,15.428 17.161,16.245 17.3695,17 L30.5,17 C30.776,17 31,16.776 31,16.5 L31,12 C31,9.791 29.209,8 27,8 M30.5,19 L17.895,19 C17.9505,19.2985 17.992,19.5965 17.992,19.898 C18.013,21.25 17.313,22.7855 16.085,23.488 L22.9355,23.488 C23.4355,23.488 23.899,23.83 23.979,24.3235 C24.0815,24.9525 23.5985,25.496 22.989,25.496 L13.511,25.496 C13.0015,25.496 12.5555,25.115 12.512,24.6075 C12.462,24.0215 12.7985,23.482 13.332,23.2585 C14.712,22.6805 15.5055,21.403 15.5145,19.9605 C15.5145,19.656 15.4615,19.3355 15.388,19 L5.5,19 C5.224,19 5,19.224 5,19.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,19.5 C31,19.224 30.776,19 30.5,19",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyPENIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{d:"M14.5,25.5 C11.638,25.5 10.3105,24.3635 9.6655,23.2965 C9.189,22.508 9.768,21.5 10.6895,21.5 C11.154,21.5 11.5605,21.765 11.806,22.1595 C12.2805,22.9205 13.185,23.484 14.605,23.484 C16.42,23.484 17.5,22.5775 17.5,21.2695 C17.5,20.204 16.7345,19.6445 15.2235,19.276 L12.9265,18.7165 C11.0375,18.284 9.4945,17.166 9.4945,14.803 C9.4945,12.312 11.442,10.5 14.5,10.5 C17.0295,10.5 18.65,11.5585 19.3465,12.84 C19.75,13.5815 19.17,14.4845 18.325,14.4845 C17.8545,14.4845 17.4335,14.218 17.2085,13.8045 C16.7965,13.049 15.897,12.5045 14.584,12.5045 C12.9895,12.5045 11.9815,13.3265 11.9815,14.603 C11.9815,15.5205 12.58,16.164 13.891,16.4695 L16.199,17.029 C18.34,17.525 19.9765,18.548 19.9765,21.048 C19.9765,23.594 18.0625,25.5 14.5,25.5 Z M9,8 L25.686,8 C25.938,8 26.1185,8.244 26.0445,8.4855 L20.1765,27.5585 C20.095,27.8215 19.853,28 19.5785,28 L9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 Z M28.4282,9.22705 C28.5762,8.74605 29.1507,8.62105 29.4862,8.88705 C30.4057,9.61705 31.0002,10.73455 31.0002,12.00005 L31.0002,24.00005 C31.0002,26.20905 29.2092,28.00005 27.0002,28.00005 L23.1602,28.00005 C22.9082,28.00005 22.7277,27.75605 22.8017,27.51455 L28.4282,9.22705 Z"}),fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyPHPIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,15.5 L23.483,15.5 C23.4915,15.664 23.5,15.829 23.5,16 C23.5,16.1715 23.4915,16.336 23.483,16.5 L30.5,16.5 C30.776,16.5 31,16.276 31,16 C31,15.724 30.776,15.5 30.5,15.5 Z M14.9935,19.004 L18.304,19.004 C19.3015,19.004 20.0505,18.685 20.5045,18 L14.9935,18 L14.9935,19.004 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,13.5 C5,13.776 5.224,14 5.5,14 L12.5,14 L12.5,11.75 C12.5,11.0595 13.0595,10.5 13.75,10.5 L18.5,10.5 C20.9585,10.5 22.646,11.7565 23.25,14 L30.5,14 C30.776,14 31,13.776 31,13.5 L31,12 C31,9.791 29.209,8 27,8 Z M14.9935,16.5 L20.9685,16.5 C20.9825,16.338 21,16.1795 21,16 C21,15.82 20.983,15.662 20.969,15.5 L14.9935,15.5 L14.9935,16.5 Z M30.5,18 L23.2515,18 C22.6485,20.25 20.96,21.5 18.5,21.5 L15,21.5 L15,24.25 C15,24.983 14.3695,25.5685 13.621,25.4935 C12.9705,25.4285 12.5,24.8325 12.5,24.1785 L12.5,18 L5.5,18 C5.224,18 5,18.2235 5,18.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,18.5 C31,18.2235 30.776,18 30.5,18 Z M5.5,16.5 L12.5,16.5 L12.5,15.5 L5.5,15.5 C5.224,15.5 5,15.724 5,16 C5,16.276 5.224,16.5 5.5,16.5 Z M18.304,13.0005 L14.9935,13.0005 L14.9935,14 L20.512,14 C20.0585,13.311 19.306,13.0005 18.304,13.0005 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyTHBIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M15.4915,16.74 L17,16.74 L17,12.754 L15.4915,12.754 L15.4915,16.74 Z M16.5,8 L9,8 C6.791,8 5,9.791 5,12 L5,24 C5,26.209 6.791,28 9,28 L16.5,28 C16.7765,28 17,27.776 17,27.5 L17,25.496 L14.2505,25.496 C13.56,25.496 13.0005,24.9365 13.0005,24.246 L13.0005,11.755 C13.0005,11.0645 13.56,10.505 14.2505,10.505 L17,10.505 L17,8.5 C17,8.224 16.7765,8 16.5,8 Z M27,8 L19.5,8 C19.2235,8 19,8.224 19,8.5 L19,10.505 L19.447,10.505 C22.0425,10.505 23.5045,11.8995 23.5045,14.195 C23.5045,15.9855 22.2515,17.296 20.7455,17.479 L20.7455,17.5995 C22.5765,17.8085 23.999,19.0495 23.999,21.268 C23.999,23.898 21.967,25.448 19,25.492 L19,27.5 C19,27.776 19.2235,28 19.5,28 L27,28 C29.209,28 31,26.209 31,24 L31,12 C31,9.791 29.209,8 27,8 Z M15.4915,23.231 L17,23.231 L17,18.7325 L15.4915,18.7325 L15.4915,23.231 Z M21.0125,14.7035 C21.0125,13.505 20.2875,12.834 19,12.7675 L19,16.6715 C20.391,16.481 21.0125,15.844 21.0125,14.7035 Z M21.492,21.011 C21.492,19.6165 20.6045,18.828 19,18.7485 L19,23.18 C20.7545,23 21.492,22.2955 21.492,21.011 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyUSDIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M19.5034,28 C19.2274,28 19.0034,27.776 19.0034,27.5 L19.0034,25.435 C21.7154,25.1145 23.4769,23.556 23.4769,21.048 C23.4769,18.548 21.8399,17.5245 19.6994,17.029 L17.3914,16.47 C16.0799,16.164 15.4814,15.5205 15.4814,14.603 C15.4814,13.3265 16.4894,12.5045 18.0839,12.5045 C19.3974,12.5045 20.2964,13.0485 20.7084,13.8045 C20.9334,14.2175 21.3544,14.4845 21.8254,14.4845 C22.6699,14.4845 23.2504,13.5815 22.8469,12.8395 C22.1499,11.5585 20.7184,10.7645 19.0034,10.5565 L19.0034,8.5 C19.0034,8.224 19.2274,8 19.5034,8 L26.9999,8 C29.2094,8 30.9999,9.791 30.9999,12 L30.9999,24 C30.9999,26.209 29.2094,28 26.9999,28 L19.5034,28 Z",fill:a}),h.jsx("path",{d:"M9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 L16.5035,8 C16.7795,8 17.0035,8.224 17.0035,8.5 L17.0035,10.583 C14.7045,10.933 12.9945,12.4 12.9945,14.803 C12.9945,17.166 14.5375,18.284 16.4265,18.7165 L18.7235,19.2755 C20.2345,19.645 21,20.204 21,21.2695 C21,22.5775 19.92,23.4835 18.105,23.4835 C16.685,23.4835 15.7805,22.9205 15.306,22.1595 C15.0605,21.765 14.654,21.5 14.1895,21.5 C13.268,21.5 12.689,22.508 13.1655,23.296 C13.8105,24.363 14.9655,25.244 17.0035,25.449 L17.0035,27.5 C17.0035,27.776 16.7795,28 16.5035,28 L9,28 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerEmojiButtonReact.bs",["fbt","bs_curry","React","JSResource","bs_caml_option","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerReactIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatEmojiFlyout.react").__setRef("MessengerEmojiButtonReact.bs"));function a(a,c){var d=a.className,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.onSelect,l=a.sendCustomEmoji,m=a.threadId;a=a.icon;c=c;var n=function(a){a=b("bs_curry")._1(j,0);if(a==null)return 0;else return a.focus()},o=function(a){return n(0)},p=function(a,c){return h.createElement(i,{onCategorySelect:n,onEscKeyDown:a,onSelect:k,sendCustomEmoji:l,threadID:m,width:b("MessengerFlyoutButtonReact.bs").cFLYOUT_WIDTH})},q=g._("Choose an emoji");a=a!==void 0?b("bs_caml_option").valFromOption(a):b("MessengerReactIconSVGM4React.bs").makeSolid(e);return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:d,createFlyout:p,flyoutAlignment:f,getInput:j,icon:a,onClick:o,title:q,testid:"m4_emoji_button",ref:c})}c=h.forwardRef(a);f.bootloadedEmojiFlyout=i;f.make=c}),null);
__d("MessengerFileSizeErrorDialogReact.bs",["fbt","React","FBLogger","ReasonReact.bs","MercuryConstants","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){switch(a){case"attachment-limit":return 3;case"size-exceeded":return 1;case"wrong-type":return 0;default:return 2}}function j(a){switch(a){case 0:b("FBLogger")("messenger_upload_file").warn("Uploading file has wrong type");return g._("The type of file you're trying to attach isn't allowed. Please try again with a different format.");case 1:b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return g._("The file you have selected is too large. The maximum size is 25 MB.");case 2:return null;case 3:b("FBLogger")("messenger_upload_file").warn("Attachment Limit is reached");return g._("You can send maximum {max number of files} files.",[g._param("max number of files",String(b("MercuryConstants").AttachmentMaxLimit))])}}function k(a){a=a.error;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Failed to upload files")}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:j(a)}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}function a(a){return k({error:i(a.error)})}c=k;f.errorOfString=i;f.renderDialogBody=j;f.make=c;f.jsComponent=a}),null);
__d("MessengerGamesIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M28,14 C26.8955,14 26,14.8955 26,16 C26,17.1045 26.8955,18 28,18 C29.1045,18 30,17.1045 30,16 C30,14.8955 29.1045,14 28,14 M24,18 C22.8955,18 22,18.8955 22,20 C22,21.1045 22.8955,22 24,22 C25.104,22 26,21.1045 26,20 C26,18.8955 25.104,18 24,18 M13,17 L11,17 L11,15 C11,14.448 10.552,14 10,14 C9.448,14 9,14.448 9,15 L9,17 L7,17 C6.448,17 6,17.448 6,18 C6,18.552 6.448,19 7,19 L9,19 L9,21 C9,21.552 9.448,22 10,22 C10.552,22 11,21.552 11,21 L11,19 L13,19 C13.552,19 14,18.552 14,18 C14,17.448 13.552,17 13,17 M25,27 L11,27 C6.0295,27 2,22.9705 2,18 C2,13.0295 6.0295,9 11,9 L25,9 C29.97,9 34,13.0295 34,18 C34,22.9705 29.97,27 25,27",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerGamesButtonReact.bs",["fbt","React","JSResource","lazyLoadComponent","BootloaderResource","MessengerFlyoutButtonReact.bs","MessengerGamesIconSVGM4React.bs","MessengerFlyoutPlaceholderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerGamesFlyout.react").__setRef("MessengerGamesButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.threadId;a=h.useState(function(){return b("BootloaderResource").read(b("JSResource")("GamesQuicksilverFunnelLogger").__setRef("MessengerGamesButtonReact.bs"))});var k=a[0];a=function(a){return k.logGameListOpen(k.getDefaultFunnelName())};var l=function(a){return k.logGameListDismiss(k.getDefaultFunnelName())},m=function(a,c){return h.createElement(i,{placeholder:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{}),threadID:j})},n=g._("Play a Game");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:m,flyoutAlignment:e,getInput:f,icon:b("MessengerGamesIconSVGM4React.bs").make(d),onClick:a,onHideFlyout:l,title:n,ref:function(a){return{contents:a}}})}c=a;f.bootloadedGameFlyout=i;f.make=c}),null);
__d("MessengerGifIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.fill;return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27.002,13.5 L22.502,13.5 C21.95,13.5 21.502,13.948 21.502,14.5 L21.502,21.5 C21.502,22.052 21.95,22.5 22.502,22.5 C23.054,22.5 23.502,22.052 23.502,21.5 L23.502,19.5 L26.502,19.5 C27.054,19.5 27.502,19.052 27.502,18.5 C27.502,17.948 27.054,17.5 26.502,17.5 L23.502,17.5 L23.502,15.5 L27.002,15.5 C27.554,15.5 28.002,15.052 28.002,14.5 C28.002,13.948 27.554,13.5 27.002,13.5 Z M19.502,14.5 C19.502,13.948 19.054,13.5 18.502,13.5 C17.95,13.5 17.502,13.948 17.502,14.5 L17.502,21.5 C17.502,22.052 17.95,22.5 18.502,22.5 C19.054,22.5 19.502,22.052 19.502,21.5 L19.502,14.5 Z M14.963,16.9995 L12.502,17 C11.95,17 11.502,17.448 11.502,18 C11.502,18.552 11.95,19 12.502,19 L13.8855,19 C13.7835,20.1495 13.095,21 11.829,21 C10.3875,21 9.4925,19.725 9.4925,17.95 C9.4925,16.207 10.4655,14.9785 11.886,14.9785 C12.6395,14.9785 13.109,15.3665 13.4295,15.764 C13.6765,16.0695 14,16.229 14.353,16.229 C15.0175,16.229 15.574,15.5085 15.094,14.791 C14.471,13.859 13.335,13.25 11.8795,13.25 C9.179,13.25 7.502,15.2135 7.502,17.9735 C7.502,20.7655 9.071,22.75 11.798,22.75 C14.352,22.75 16.002,20.982 16.002,17.986 C16.002,17.441 15.5365,16.9995 14.963,16.9995 Z M27,30 L17,30 C15.811,30 14.7455,29.48 14.0135,28.656 C13.6395,28.235 13.1,28 12.537,28 L9,28 C6.791,28 5,26.209 5,24 L5,10 C5,7.791 6.791,6 9,6 L19,6 C20.189,6 21.2545,6.52 21.9865,7.3435 C22.3605,7.7645 22.9,8 23.463,8 L27,8 C29.209,8 31,9.791 31,12 L31,26 C31,28.209 29.209,30 27,30 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerGifButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerGifIconSVGM4React.bs","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatContentSearchFlyout.react").__setRef("MessengerGifButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.getQuery,l=a.location,m=a.onSelect;a=h.useState(function(){return""});var n=a[1],o=a[0];a=function(a){return b("bs_curry")._1(n,function(a){return b("bs_curry")._1(k,0)})};var p=function(a){return b("bs_curry")._1(n,function(a){return""})},q=function(a,c){return h.createElement(i,{location:b("MercuryShareAttachmentRenderLocations.bs").getValue(l),onEscKeyDown:a,onSelect:function(c){b("bs_curry")._1(m,c);return b("bs_curry")._1(a,0)},query:o})},r=g._("Choose a GIF");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:q,disabled:d,flyoutAlignment:f,getInput:j,icon:h.jsx(b("MessengerGifIconSVGM4React.bs").make,{fill:e}),onClick:a,onHideFlyout:p,title:r})}c=a;f.bootloadedGifFlyout=i;f.make=c}),null);
__d("MessengerCreatePollFlyoutBootLoader.react",["JSResource","LazyComponent.react","MessengerSpinner.react","React","ReasonBootloadOnRender.react","ReasonResource"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("ReasonBootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{customColor:this.props.customColor,threadFBID:this.props.threadFBID,onHideDialog:this.props.hideFlyout}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingCreatePollFlyoutReact.bs").__setRef("MessengerCreatePollFlyoutBootLoader.react")),placeholder:g.jsx("div",{style:{padding:"15px",textAlign:"center",width:"125px"},children:g.jsx(b("MessengerSpinner.react"),{color:"grey"})})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerCreatePollFlyoutBootLoader.bs",["ReasonReact.bs","MessengerCreatePollFlyoutBootLoader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCreatePollFlyoutBootLoader.react"),{customColor:a,hideFlyout:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerGroupPollingButtonM4React.bs",["fbt","React","ReasonReact.bs","MessengerFlyoutButtonReact.bs","MessengerBarChartIconSVGM4React.bs","MessengerCreatePollFlyoutBootLoader.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.threadFbid;a=function(a,c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerCreatePollFlyoutBootLoader.bs").make(d,a,i,[]))};var j=g._("Create a poll");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,getInput:f,icon:b("MessengerBarChartIconSVGM4React.bs").make(d),title:j})}c=a;f.make=c}),null);
__d("MessengerPageUtils.bs",["MercuryIDs","bs_caml_option","CurrentUser","MercuryDispatcher","MercuryThreadActions","MessengerParticipants.bs","MercuryParticipantTypes"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).user_type===b("MercuryParticipantTypes").PAGE;else return!1}function a(a){a=a.other_user_fbid;if(a==null)return!1;else return g(b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))))}function h(a,c,d){c=b("MessengerParticipants.bs").getNow(c);if(c==null)return 0;else{c=Object.assign({},c);b("MercuryDispatcher").getForFBID(d).handleUpdate(Object.assign({},{participants:[Object.assign(c,{is_messenger_blocked:a})],preprocessed:!0}));return 0}}function c(a,c){var d=b("CurrentUser").getAccountID(),e=a.other_user_fbid;if(e==null)return 0;else if(c){b("MercuryThreadActions").getForFBID(d).unblockOnMessengerDotCom(a.thread_id);return h(!1,b("MercuryIDs").getParticipantIDFromUserID(e),d)}else{b("MercuryThreadActions").getForFBID(d).blockOnMessengerDotCom(a.thread_id);return h(!0,b("MercuryIDs").getParticipantIDFromUserID(e),d)}}f.isPageParticipant=g;f.isPageThread=a;f.changeBlockedStatus=h;f.toggleBlock=c}),null);
__d("MessengerPlusCircleIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}function c(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{style:a,d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12"})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}f.make=a;f.makeWithPathStyle=c}),null);
__d("MessengerQuickCamButtonBootLoader.bs",["gkx","bs_belt_Option","ReasonReact.bs","bs_js_null_undefined","MessengerQuickCamButtonBootLoader.react"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("678582");function a(a,c,d,e,f,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerQuickCamButtonBootLoader.react"),{className:a,htmlQC:g,fill:b("bs_belt_Option").getWithDefault(c,""),location:d,onSendButtonClick:e,placeholder:b("bs_js_null_undefined").fromOption(f),threadID:h,viewer:i},j)}f.htmlQCGk=g;f.make=a}),null);
__d("MessengerSendIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{d:"M31.1059281,19.4468693 L10.3449666,29.8224462 C8.94594087,30.5217547 7.49043432,29.0215929 8.17420251,27.6529892 C8.17420251,27.6529892 10.7473302,22.456697 11.4550902,21.0955966 C12.1628503,19.7344961 12.9730756,19.4988922 20.4970248,18.5264632 C20.7754304,18.4904474 21.0033531,18.2803547 21.0033531,17.9997309 C21.0033531,17.7196073 20.7754304,17.5095146 20.4970248,17.4734988 C12.9730756,16.5010698 12.1628503,16.2654659 11.4550902,14.9043654 C10.7473302,13.5437652 8.17420251,8.34697281 8.17420251,8.34697281 C7.49043432,6.9788693 8.94594087,5.47820732 10.3449666,6.1775158 L31.1059281,16.553593 C32.298024,17.1488555 32.298024,18.8511065 31.1059281,19.4468693",fill:a})]}),fill:"none",fillRule:"evenodd"}),height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerSendButtonReact.bs",["fbt","React","Link.react","bs_belt_Option","bs_caml_option","MessengerCustomColorUtils.bs","MessengerSendIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("Press Enter to send")+("\n"+g._("Press Shift + Enter to add a new paragraph"));function a(a){var c=a.className,d=a.customColor,e=a.onClick;a=a.useIcon;var f=d!==void 0?{color:d}:void 0;a=b("bs_belt_Option").getWithDefault(a,!1);c={"aria-label":g._("Send"),"data-hover":"tooltip","data-tooltip-content":i,className:c,onClick:e,role:"button",children:a?b("MessengerSendIconSVGM4React.bs").make(b("bs_belt_Option").getWithDefault(d,b("MessengerCustomColorUtils.bs").defaultColor(0))):g._("Send")};f!==void 0&&(c.style=b("bs_caml_option").valFromOption(f));return h.jsx(b("Link.react"),c)}c=a;f.title=i;f.make=c}),null);
__d("MessengerStagedFilesPreviewM4React.bs",["cx","cssVar","React","immutable","JSResource","bs_belt_Option","bs_caml_option","MessengerActions","XUISpinner.react","bs_js_null_undefined","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("MessengerStagedFilesPreviewM4React.bs"));function a(a){var c=a.fileUploader,d=a.onResize,e=a.thread;a=a.threadId;c=c!==void 0?c.uploadedFiles:b("immutable").Map([]);if(c.size===0)return null;else{e=e!==void 0?b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).footer_color),"#0084ff"):"#0084ff";return i.jsx(i.Suspense,{children:i.jsx("div",{children:i.jsx(j,{files:c,small:!1,threadCustomColor:e,threadID:a,onClick:function(a,c){b("MessengerActions").cancelFileUpload(a,c);return 0},onResize:b("bs_js_null_undefined").fromOption(d)},"stage_file_preview"),className:"_8rdt"}),fallback:i.jsx(b("XUISpinner.react"),{className:"_2qf"})})}}c=a;f.bootloadedStageFilePreview=j;f.make=c}),null);
__d("MessengerStickerIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M22.5,18.5 L27.998,18.5 C28.8885,18.5 29.335,19.577 28.705,20.207 L20.207,28.705 C19.577,29.335 18.5,28.8885 18.5,27.9975 L18.5,22.5 C18.5,20.291 20.291,18.5 22.5,18.5 M16.5,22.5 L16.5,28 C16.5,28.552 16.052,29 15.5,29 L11,29 C8.791,29 7,27.209 7,25 L7,11 C7,8.791 8.791,7 11,7 L25,7 C27.209,7 29,8.791 29,11 L29,15.5 C29,16.052 28.552,16.5 28,16.5 L22.5,16.5 C19.1865,16.5 16.5,19.1865 16.5,22.5",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerStickerButtonReact.bs",["cx","fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerStickerIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("StickersFlyout.react").__setRef("MessengerStickerButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,g=a.getInput,k=a.onSelect;a=function(a,c){return i.createElement(j,{className:"_293j",onEscKeyDown:a,onStickerSelect:b("bs_curry").__3(k),shown:c})};var l=h._("Choose a sticker");return i.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,dialogClassName:"_5e-r",disabled:d,flyoutAlignment:f,getInput:g,icon:b("MessengerStickerIconSVGM4React.bs").make(e),title:l,testid:"messenger_sticker_button"})}c=a;f.bootloadedStickerFlyout=j;f.make=c}),null);
__d("MessengerFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={bootloadFRXDialog:function(a){b("Bootloader").loadModules(["MessengerFRXUtils"],function(b){b.openFRXDialog(a)},"MessengerFRXBootloaderUtils")},bootloadEmptyThreadFRXDialog:function(a){b("Bootloader").loadModules(["MessengerFRXUtils"],function(b){b.openEmptyThreadFRXDialog(a)},"MessengerFRXBootloaderUtils")}};e.exports=a}),null);
__d("MessengerDeclineDialogReact.bs",["fbt","bs_curry","React","bs_caml_obj","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerFRXBootloaderUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id);return 0}function i(a){var c=a.name,d=a.onBlock,e=a.onDelete,f=a.onToggle,i=a.isGroupChat,j=a.thread,k=function(a){if(a)return 0;else{b("bs_curry")._1(f,a);return b("MessengerDialogs.bs").removeDialog(void 0,0)}};a=function(a){b("MessengerDialogs.bs").removeDialog(void 0,0);return b("bs_curry")._1(d,a)};var l=function(a){b("bs_curry")._1(e,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)},m=function(a){return k(!1)},n=function(a){if(j!==void 0){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(b("bs_caml_option").valFromOption(j).thread_id);return 0}else return 0},o=i?g._("Leave Group"):g._("Block"),p=j!==void 0?b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(j).other_user_fbid,b("CurrentUser").getID()):!0,q=j!==void 0?b("bs_caml_option").valFromOption(j).message_count===0:!0,r=b("CurrentUser").isWorkUser(),s=b("CurrentUser").isWorkUser();return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,k,void 0,void 0,void 0,void 0,440,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:i||r||c===void 0?g._("Decline conversation"):g._("Don't want to hear from {name}?",[g._param("name",c)])}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:i?g._("Would you like to leave the group? Group members will see that you've left."):c!==void 0?s?g._("The message request will be declined. Would you like to block {name} in Workplace Chat or delete these messages?",[g._param("name",c)]):g._("You can permanently delete the conversation, block {name} from sending you messages or tell us if something's wrong. We won't tell {name} that you've taken these actions.",[g._param("name",c)]):g._({"Workplace Chat":"The message request will be declined. Would you like to block this person in Workplace Chat or delete these messages?","Messenger":"The message request will be declined. Would you like to block this person in Messenger or delete these messages?"},[g._enum(s?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})])}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(m,[])),j!==void 0&&!(p||q||!b("bs_caml_option").valFromOption(j).can_viewer_report||b("CurrentUser").isWorkUser())?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Something's wrong"),void 0,void 0,n,0,void 0,void 0,void 0,[])):null,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Delete"),void 0,"danger",l,0,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,o,void 0,"danger",a,0,void 0,void 0,void 0,[]))]))]))}function c(a){var c={onBlock:a.onBlock,onDelete:a.onDelete,onToggle:a.onToggle,isGroupChat:a.isGroupChat},d=b("bs_caml_option").nullable_to_opt(a.name);d!==void 0&&(c.name=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.thread);d!==void 0&&(c.thread=b("bs_caml_option").valFromOption(d));return i(c)}d=i;f.handleReportThread=a;f.make=d;f.jsComponent=c}),null);
__d("MessengerUnconnectedThreadInfoTextReact.bs",["cx","fbt","React","Link.react","bs_caml_option","MessengerDialogs.bs","MessengerDeclineDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c,d,e,f){return b("MessengerDialogs.bs").showDialog(function(g){g={name:c,onBlock:d,onDelete:e,onToggle:f,isGroupChat:!1};a!==void 0&&(g.thread=b("bs_caml_option").valFromOption(a));return i.createElement(b("MessengerDeclineDialogReact.bs").make,g)})}function a(a){var c=a.name,d=a.onBlock,e=a.onDelete,f=a.onToggle,g=a.thread;return i.jsx("div",{children:i.jsxs("div",{children:[h._("If you reply, {name} will be able to call you and see information such as your Active Status and when you've read messages.",[h._param("name",c)])," ",i.jsx(b("Link.react"),{className:"_74kv",onClick:function(a){return j(g,c,d,e,f)},children:h._("I Don't Want to Hear from {name}",[h._param("name",c)])})]}),className:"_74ku"})}c=a;f.renderTDADialog=j;f.make=c}),null);
__d("MessengerMicrophoneIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M14,28 L22,28 C22.552,28 23,28.448 23,29 C23,29.552 22.552,30 22,30 L14,30 C13.448,30 13,29.552 13,29 C13,28.448 13.448,28 14,28 M18,22.5 C15.239,22.5 13,20.2615 13,17.5 L13,11 C13,8.2385 15.239,6 18,6 C20.761,6 23,8.2385 23,11 L23,17.5 C23,20.2615 20.761,22.5 18,22.5 M18,26.5 C13.0295,26.5 9,22.4705 9,17.5 C9,16.948 9.448,16.5 10,16.5 C10.552,16.5 11,16.948 11,17.5 C11,21.366 14.134,24.5 18,24.5 C21.866,24.5 25.0005,21.366 25.0005,17.5 L25,17.5 C25,16.948 25.448,16.5 26,16.5 C26.552,16.5 27,16.948 27,17.5 C27,22.4705 22.9705,26.5 18,26.5",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerVoiceClipButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerMicrophoneIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerVoiceClipFlyout.react").__setRef("MessengerVoiceClipButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.onVoiceClipCreate;a=function(a,c){return h.createElement(i,{onCancel:a,onStopAndGetVoiceClip:function(c){b("bs_curry")._1(a,0);return b("bs_curry")._1(j,c)}})};var k=g._("Send a voice clip");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,flyoutWidth:220,getInput:f,icon:b("MessengerMicrophoneIconSVGM4React.bs").make(d),title:k})}c=a;f.bootloadedVoiceClipFlyout=i;f.make=c}),null);
__d("P2PPaymentSupportedCurrency",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USD:"USD",PEN:"PEN",PHP:"PHP",THB:"THB",VND:"VND",NONE:"NONE"})}),null);
__d("P2PSendMoneyContainerBootloaderReact.bs",["bs_belt_Option","bs_caml_option","ReasonReact.bs","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react"],(function(a,b,c,d,e,f){"use strict";var g=b("P2PPaymentConfig").config;c=b("bs_belt_Option").map(g==null?void 0:b("bs_caml_option").some(g),function(a){return a.currencyCode});function a(a,c,d,e,f,h,i,j,k,l){return b("ReasonReact.bs").wrapJsForReason(b("P2PSendMoneyContainerBootloader.react"),{button:a,className:c,fromChatTab:b("bs_belt_Option").getWithDefault(d,!1),participantIDs:h,p2pPaymentConfig:b("bs_belt_Option").getWithDefault(f,g),flyoutAlignment:"left",referrer:i,thread:j,threadID:k,onTrigger:e},l)}f.config=g;f.currencyCode=c;f.make=a}),null);
__d("ReplyingToMessageReact.bs",["ix","cx","fbt","Image.bs","React","asset","bs_caml_option","ReasonReact.bs","XUICloseButtonReact.bs","MercuryAttachmentType","MercuryMessageBodyReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){var c=a.name,d=a.body,e=a.attachments,f=a.onCancelReplyingToMessage;a=a.isChatTab;var h,k=0;if(d!==void 0){d=d;d===""?k=1:h=[b("ReasonReact.bs").element(void 0,void 0,b("MercuryMessageBodyReact.bs").make(d,[])),null]}else k=1;if(k===1){if(e.length!==1)d=[i._({"*":"{number of attachments in message being replied to} attachments","_1":"{number of attachments in message being replied to} attachment"},[i._param("number of attachments in message being replied to",String(e.length)),i._plural(e.length)]),g("596865")];else{k=e[0];d=k.attach_type===b("MercuryAttachmentType").PHOTO?[i._("Photo"),g("596858")]:k.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE?[i._("GIF"),g("596858")]:k.attach_type===b("MercuryAttachmentType").VIDEO?[i._("Video"),g("596874")]:k.attach_type===b("MercuryAttachmentType").STICKER||k.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER?[i._("Sticker"),g("596858")]:[i._("Attachment"),g("596852")]}h=[d[0],b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_6ees",void 0,void 0,void 0,d[1],void 0,void 0,void 0,void 0,[]))]}return j.jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("XUICloseButtonReact.bs").make("_67tv",1,a?1:2,f,void 0,[])),i._("Replying to")," ",j.jsx("strong",{children:i._("{name}",[i._param("name",c)])}),j.jsxs("div",{children:[h[0],h[1]],className:"_67tw _1nc6 ellipsis"})],className:(a?"_692o":"")+" _67tu"})}function a(a){var c={name:a.name,attachments:a.attachments,onCancelReplyingToMessage:a.onCancelReplyingToMessage,isChatTab:a.isChatTab};a=b("bs_caml_option").nullable_to_opt(a.body);a!==void 0&&(c.body=b("bs_caml_option").valFromOption(a));return k(c)}c=k;f.make=c;f.jsComponent=a}),null);
__d("OmniMSuggestions_OmniMActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN_ACTION_TYPE:0,CREATE_EVENT:1,LOCATION:2,PAYMENT:3,POLL:4,STICKER:5,TEXT:6,TRANSPORTATION:7,ORDER_FOOD:8,MAKE_RESERVATION:9,SCHEDULE_CALL:10,LIVE_LOCATION:11,VIDEO_CALL:12,VOICE_CALL:13,SAVE_CONTENT:14,PLAY_GAME:15,SHARE_CONTACT:16,SEND_PHOTO:17,CREATE_REMINDER_DEPRECATED:18,CREATE_REMINDER:19,MARKETPLACE_SAFE_LOCATION:20,VIEW_SAVED:21,CHAT_EXTENSION:22,DAY_CAMERA:23,CALENDAR:24,GIF:25,PAGE_PROFILE:26,FEEDBACK:27,LOCAL_PAGES_PICKER:28,CREATE_SOCIAL_REX_REQUEST:29,ADD_SOCIAL_REX_RECOMMENDATION:30,ENABLE_TRANSLATION:31,CHECK_MARKETPLACE:32,SERVICES_APPOINTMENT:33,ADDRESS:34,REQUEST_PAYMENT:35,OFFER_PAYMENT:36,PAGE_CREATE_APPOINTMENT:37,ONE_CLICK_CREATE_APPOINTMENT:38,ADD_TO_GROUP_CHAT:39,VOICE_CLIP:40,CREATE_PERSONAL_REMINDER:41,WORK_APP_INTEGRATION:42,SHARE_TO_FACEBOOK:43,VOICE_ASSISTANT:44,MARKETPLACE_MARK_AS_X:45,SHARE_CONTACT_INFO:46,REQUEST_APPOINTMENT:47,MARKETPLACE_SAVE_TO_FAQ:48,INTEGRITY_BLOCK:49,SCHEDULE_PHONE_CALL:50,SMART_REPLY:51})}),null);
__d("WorkChatSuggestionButton.react",["React","Text.react","WIGIcon.react","WIGPressable.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState;function a(a){var c=a.icon,d=a.label,e=a.onPress;a=a.isQuickReply;a=a===void 0?!1:a;var f=h(!0),i=f[0],j=f[1];f=function(){e?e():null,j(!1)};return i?g.jsx("div",{className:"d3qy8rs6 kh1bt4hq thzm4xdn",children:g.jsx("span",{className:"c19r2vkt i2yem8cm snpb814a a1vt70ul nvb2uqik m4qils9p brrrwa7m t3k3x88u h4y7jwnr cz2zqk6i pf8t2of3 rr7cureg noe3hari ale2funn qctk5f2p",children:g.jsx(b("WIGPressable.react"),{display:"inline",onPress:f,overlayDisabled:!0,children:g.jsxs("div",{className:"ta8eqm4s hx9ojghx aa5x7xvh i2yem8cm rec76pb8 s4cxp3c9 fl5mvqbf rql8hti4 sbqx1y7x besomprw nlygpylr hhvjwakb gekupxos j2l1er6b er4jod18 kwfg7mzh ahcads71 h4y7jwnr tp8s54bt t7ahbhdd c42t48hm",children:[c?g.jsx("div",{className:a?"co320n8y i29qrqi0 jh22n2fz i2yem8cm":"co320n8y i29qrqi0",children:g.jsx(b("WIGIcon.react"),{color:"secondary",icon:c})}):null,d!=null?g.jsx(b("Text.react"),{className:"snpb814a kh1bt4hq co320n8y aw1jpamg hkc3k1si p9p2bx6h",children:d}):null]})})})}):null}e.exports=a}),null);
__d("WorkChatSmartReplies.react",["ix","CurrentUser","MessengerState.re","OmniMSuggestions_OmniMActionType","React","WorkChatSuggestionButton.react","emptyObject","fbicon","gkx","keyMirror","stylex","WorkChatSuggestionsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useEffect,j=c.useState,k=b("keyMirror")(b("OmniMSuggestions_OmniMActionType"));function l(a,c){new(b("WorkChatSuggestionsTypedLogger"))().setSuggestionType(k.SMART_REPLY).setAppID(b("CurrentUser").getAppID()).setMessageID(c).setTime(Date.now()).setThreadID(a).log()}function a(a){var c=a.threadID,d=a.onClick,e=a.onResize,f=b("MessengerState.re").getThreadMessagesRangeNow(b("CurrentUser").getID(),c,0,1)[0];a=j(!0);var m=a[0],n=a[1];i(function(){e()},[f,m,e]);if(f==null||!b("gkx")("1115706"))return null;a=f.m_suggestions;if(a==null)return null;a=a.filter(function(a){return a.type===k.SMART_REPLY}).map(function(a,e){return h.jsx(b("WorkChatSuggestionButton.react"),{icon:b("fbicon")._(g("788340"),12),label:a.label,onPress:function(){d(a.label,b("emptyObject")),n(!1),l(c,f.message_id)},isQuickReply:!0},e)});return m&&a.length>0?h.jsxs("div",{className:"brrrwa7m h4y7jwnr",children:[" ",a," "]}):null}e.exports=a}),null);
__d("MessengerComposerM4React.bs",["cx","fbt","cssVar","invariant","bs_curry","React","gkx","bs_js_dict","bs_caml_array","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","P2PGKValues","ReasonReact.bs","AsyncRequest","MercuryConfig","MessengerView","MessengerState.bs","isWebGLEnabled","bs_caml_exceptions","MessengerDialogs.bs","bs_js_null_undefined","MessengerPageUtils.bs","MessageRequestUtils","MessengerButtonReact.bs","MercuryReadOnlyReason","MessengerHotLikeUtils","MessengerParticipants.bs","WorkFileUploadsGating","getPageIDFromThreadID","requestAnimationFrame","MessengerCowatchConfig","MessengerSettingsStore","ReplyingToMessageReact.bs","AutoFocusableLink.react","ChatPhotoUploader.react","MessengerGifButtonReact.bs","MessengerQuickCamOrigins","MessengerSendButtonReact.bs","MessengerCustomColorUtils.bs","MessengerEmojiButtonReact.bs","MessengerGamesButtonReact.bs","MercuryCowatchButton.react","WorkChatSmartReplies.react","MessengerBotMenuButtonReact.bs","MessengerStickerButtonReact.bs","P2PPaymentSupportedCurrency","MessengerComposerInput.react","MessengerGamesIconSVGM4React.bs","MessengerHotLikeButton.react","MessengerPhotoIconSVGM4React.bs","MessengerCameraIconSVGM4React.bs","MessengerVoiceClipButtonReact.bs","MessengerThreadCannotReplyReason","MercuryIgnoredBlockedParticipants.bs","MessengerFileSizeErrorDialogReact.bs","MessengerPlusCircleIconSVGM4React.bs","MessengerQuickCamButtonBootLoader.bs","MessengerCurrencyEURIconSVGM4React.bs","MessengerCurrencyGBPIconSVGM4React.bs","MessengerCurrencyPENIconSVGM4React.bs","MessengerCurrencyPHPIconSVGM4React.bs","MessengerCurrencyTHBIconSVGM4React.bs","MessengerCurrencyUSDIconSVGM4React.bs","MessengerGroupPollingButtonM4React.bs","MessengerStagedFilesPreviewM4React.bs","XMessagingUnblockMessagesController","P2PSendMoneyContainerBootloaderReact.bs","MessengerComposerPendingActionsM4React.bs","MessengerUnconnectedThreadInfoTextReact.bs"],(function(a,b,c,d,e,f,g,h,aa,i){"use strict";var j=b("React"),ba=b("bs_caml_exceptions").create("MessengerComposerM4React.TooManyIcons");function k(a,b){var c=a?1150:650;a=a?1e3:500;switch(b){case 0:b=c+1|0;return"(min-width: "+(String(b)+"px)");case 1:b=a+1|0;return"(min-width: "+(String(b)+("px) and (max-width: "+(String(c)+"px)")));case 2:return"(max-width: "+(String(a)+"px)")}}function a(a){return b("bs_caml_option").nullable_to_opt(a.current)}function l(a){return j.jsx("div",{children:j.jsx("div",{children:h._("This person isn't available at the moment."),className:"_2wy4"}),className:"_4rv3"})}d={make:l};function m(a,c,d,e){new(b("AsyncRequest"))(b("XMessagingUnblockMessagesController").getURIBuilder().getURI()).setMethod("POST").setData({fbid:b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromThreadID(b("bs_js_null_undefined").fromOption(a)))}).send();if(c)return b("MessengerPageUtils.bs").changeBlockedStatus(!1,d,e);else return 0}function ca(a){var c=a.threadId,d=a.isPageChat,e=a.participantID,f=a.viewer;a=j.jsx(b("MessengerButtonReact.bs").make,{onClick:function(a){return m(c,d,e,f)},label:h._("Unblock now"),type:1});return j.jsx("div",{children:j.jsx("div",{children:d?h._("You've blocked messages from this business. {unblock_now_button}",[h._param("unblock_now_button",a)]):h._("You've blocked messages from this person. {unblock_now_button}",[h._param("unblock_now_button",a)]),className:"_2wy4"}),className:"_4rv3"})}e={handleUnblock:m,make:ca};function c(a,c){var d=a.canReply,e=a.disableAutofocus,f=a.disableInput,g=a.fileUploader,aa=a.hideActions,m=a.mentionsEnabled,n=a.onCancelReplyingToMessage,da=a.onCustomLikeSelect,ea=a.onMessageSend,o=a.onPhotoUploadComplete,p=a.onPhotoUploadCancel,q=a.onPhotoUploadFail,r=a.onPhotoUploadSubmit,s=a.onResize,fa=a.onStickerSelect,t=a.onVoiceClipCreate,u=a.p2pPaymentConfig,v=a.participants,w=a.recipients,x=a.replyingToMessage,y=a.sharePreview,z=a.showBotMenu,A=a.thread,B=a.threadFbid,C=a.threadId,D=a.view,E=a.viewer;a=c;c=g==null?void 0:b("bs_caml_option").some(g);m=m==null?void 0:b("bs_caml_option").some(m);var ga=v==null?void 0:b("bs_caml_option").some(v),F=w==null?void 0:b("bs_caml_option").some(w),ha=y==null?void 0:b("bs_caml_option").some(y),G=A==null?void 0:b("bs_caml_option").some(A),H=B==null?void 0:b("bs_caml_option").some(B),I=b("getPageIDFromThreadID")(C),ia=I==null?void 0:b("bs_caml_option").some(I),J=C==null?void 0:b("bs_caml_option").some(C);D=D==null?void 0:b("bs_caml_option").some(D);var K=j.useRef(null),ja=j.useRef(null),ka=j.useRef(null),la=j.useRef(null),ma=j.useRef(null),L=K.current,na=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(ja.current),function(a){return a}),oa=ka.current,pa=ma.current,M=j.useState(function(){return""}),qa=M[1],ra=M[0];M=j.useState(function(){return!1});var sa=M[1],N=M[0];M=j.useState(function(){return!1});var ta=M[1],O=j.useState(function(){return 0}),P=O[1];O=O[0];var ua=j.useState(function(){return!1}),va=ua[1],wa=j.useState(function(){return{}}),xa=wa[1],ya=j.useState(function(){return{}}),za=ya[1],Aa=la.current;j.useLayoutEffect(function(){var a=Aa==null?0:Array.from(Aa.children).reduce(function(a,b){return(a+b.clientWidth|0)+8|0},0);b("bs_curry")._1(xa,function(a){return{width:"0px"}});b("bs_curry")._1(za,function(b){return{width:""+(String(a)+"px")}});return},[J,Aa,F,xa,za]);j.useEffect(function(){s==null||b("bs_curry")._1(s,0);return},[d,N,x,ha,c,s]);F=s==null?void 0:b("bs_caml_option").some(s);var Q=!b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;j.useEffect(function(){var a=k(Q,2),c=window.matchMedia(a);a=k(Q,1);var d=window.matchMedia(a);a=k(Q,0);var e=window.matchMedia(a);b("bs_curry")._1(P,function(a){if(c.matches)return 2;else if(d.matches)return 1;else return 0});var f=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 2});else return 0},g=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 1});else return 0},h=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 0});else return 0};c.addListener(f);d.addListener(g);e.addListener(h);return function(a){c.removeListener(f);d.removeListener(g);e.removeListener(h);return 0}},[Q,P]);var R=function(a){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.author),function(a){a=b("MessengerParticipants.bs").getNow(a);if(a==null)return;else return a.short_name})},S=navigator.mediaDevices;S=(S==null?!1:!(S.getUserMedia==null))||!(navigator.getUserMedia==null)||!(navigator.webkitGetUserMedia==null)||!(navigator.mozGetUserMedia==null)||!(navigator.msGetUserMedia==null);var T=D===b("MessengerView").DETAIL.COMPOSE;w=w==null?!1:w.count()>0&&T;var Ba=ia!==void 0;w=J!==void 0||w;y=y==null?!1:y.params!==null&&y.type!==null;var Ca=g==null?!1:g.uploadedFiles.size>0;g=g==null?!1:g.uploadingFiles.size>0;var Da=function(a){if(a==null)return!1;else return a};Ca=ra.length!==0||Ca||y;var Ea=function(a){if(L==null)return 0;else return L.exitCurrentMode()},U=function(a){if(L==null)return 0;else return L.focus()};y=function(c){if(c.platformFBID===b("MercuryConfig").MessengerAppID){b("bs_curry")._1(fa,c.resultID);return 0}else if(oa==null)return 0;else{var a=b("bs_js_dict").get(c.media,"preview");if(a!==void 0)a=a.url;else{var d=b("bs_js_dict").get(c.media,"thumbnail");a=d!==void 0?d.url:""}return oa.uploadURL({attribution_app_id:c.platformFBID,external_image_url:c.source.url,preview_url:a,source:c.source})}};var Fa=function(a){U(0);if(L==null)return 0;else return L.insertEmoji(a)},Ga=function(a){pa==null||pa.uploadFiles(a);return Ea(0)},Ha=function(a){b("bs_curry")._1(qa,function(b){return a});if(a!==ra)return b("bs_curry")._1(sa,function(a){return!1});else return 0},Ia=function(a){a=K.current;if(a==null)return 0;else return a.triggerSend()},Ja=function(a){return 0};j.useImperativeHandle(a,function(){return{exitCurrentMode:Ea,focusInput:U,handleFileUpload:Ga,handleTextDropped:Ja}},[Ea,U,Ga]);a=function(a){return b("MessengerDialogs.bs").showDialog(function(c){return j.jsx(b("MessengerFileSizeErrorDialogReact.bs").make,{error:a==null?2:b("MessengerFileSizeErrorDialogReact.bs").errorOfString(a.error)})})};var Ka;if(x==null)Ka=null;else{R=R(x);R=R!==void 0?R:b("MessengerParticipants.bs").getDefaultName(0);Ka=j.createElement(b("ReplyingToMessageReact.bs").make,{name:R,body:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.body),""),attachments:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.attachments),[]),onCancelReplyingToMessage:n,isChatTab:!1})}R=C==null?null:j.jsx(b("MessengerStagedFilesPreviewM4React.bs").make,{fileUploader:c,onResize:F,thread:G,threadId:C});if(A==null||C==null||!b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(A))n=null;else{var V=A.other_user_fbid;if(V==null)n=null;else{V=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(V));n=V==null?null:j.jsx(j.Suspense,{children:j.createElement(b("MessengerUnconnectedThreadInfoTextReact.bs").make,{name:V.name,onBlock:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleIgnoreBlock(E,A,a)},onDelete:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogDeleteClick(E,A,C,a)},onToggle:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogToggleClick(A,C,a)},thread:A}),fallback:j.jsx("div",{})})}}if(A==null)V=b("MessengerCustomColorUtils.bs").defaultColor(0);else{var W=A.gradient_colors.length;if(W>0)V=b("bs_caml_array").caml_array_get(A.gradient_colors,W-1|0);else{W=A.solid_color;V=W==null?b("MessengerCustomColorUtils.bs").defaultColor(0):W}}W="rgba(134, 142, 153, 0.75)";I=!(C==null)&&!(I==null)&&z?j.jsx("div",{children:j.jsx(b("MessengerBotMenuButtonReact.bs").make,{className:"_30yy",fill:V,flyoutAlignment:1,getInput:function(a){return K.current},pageId:I,threadId:C}),className:"_7mkk"}):null;var X=!(B==null)&&b("MessengerCowatchConfig").isMessengerDotComEntrypointEnabled()?j.jsx(b("MercuryCowatchButton.react"),{className:"_30yy _7oam",fill:V,threadID:B},"cowatch_button"):null;S=!S||T?null:j.jsx(b("MessengerVoiceClipButtonReact.bs").make,{className:"_30yy _7oam",fill:V,flyoutAlignment:1,getInput:function(a){return K.current},onVoiceClipCreate:t},"voice_clip_button");if(!b("P2PGKValues").P2PVisible||Ba||u==null||v==null||C==null||v.size===1)t=null;else{var Y=b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PEN)?b("MessengerCurrencyPENIconSVGM4React.bs").make(V):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PHP)?b("MessengerCurrencyPHPIconSVGM4React.bs").make(V):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").EUR)?b("MessengerCurrencyEURIconSVGM4React.bs").make(V):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").GBP)?b("MessengerCurrencyGBPIconSVGM4React.bs").make(V):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").THB)?b("MessengerCurrencyTHBIconSVGM4React.bs").make(V):b("MessengerCurrencyUSDIconSVGM4React.bs").make(V);t=j.jsx(j.Suspense,{children:b("ReasonReact.bs").element(void 0,void 0,b("P2PSendMoneyContainerBootloaderReact.bs").make(Y,"_30yy _7oam",void 0,void 0,b("bs_caml_option").some(u),v.reduce(function(a,b,c,d){a.push(b.id);return a},[]),void 0,b("bs_js_null_undefined").fromOption(G),C,[])),fallback:j.jsx(b("AutoFocusableLink.react"),{children:Y,className:"_30yy _7oam",role:"button"})},"send_money_button")}u=!(A==null)&&!(B==null)&&!(A.is_canonical||T||b("gkx")("994335"))?j.jsx(b("MessengerGroupPollingButtonM4React.bs").make,{className:"_30yy _7oam",fill:V,flyoutAlignment:1,getInput:function(a){return K.current},threadFbid:B},"group_poll_button"):null;Y=b("gkx")("678262")&&b("isWebGLEnabled")()&&H!==void 0&&!Ba?j.jsx(j.Suspense,{children:j.jsx(b("MessengerGamesButtonReact.bs").make,{className:"_30yy _7oam",fill:V,flyoutAlignment:1,getInput:function(a){return K.current},threadId:J}),fallback:j.jsx(b("AutoFocusableLink.react"),{children:b("MessengerGamesIconSVGM4React.bs").make(V),className:"_30yy _7oam",role:"button"})},"games_button"):null;B=!(C==null)&&b("gkx")("678582")?b("ReasonReact.bs").element("quickcam_button",void 0,b("MessengerQuickCamButtonBootLoader.bs").make("_7oam",V,b("MessengerQuickCamOrigins").MESSENGER,function(a){return 0},b("bs_caml_option").some(j.jsx(b("AutoFocusableLink.react"),{"aria-label":h._("Take a picture using quick cam"),children:b("MessengerCameraIconSVGM4React.bs").make(V),className:"_30yy _7oam"},"quickcam_button_placeholder")),C,E,[])):null;H=b("CurrentUser").isWorkUser()&&!b("WorkFileUploadsGating").canUploadFiles;var La=C==null?j.jsx("div",{children:j.jsx(b("MessengerPhotoIconSVGM4React.bs").make,{size:36,fill:W}),className:"_7oam"},"attachment_button_disabled"):j.jsx("div",{children:j.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,className:"_7oan",customUI:!0,disabled:!1,fill:V,imageClassName:"hidden_elem",imagesOnly:H,focusInput:U,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:a,threadID:C,viewer:E,ref:function(a){ma.current=a;return 0}}),className:"_30yy _7oam"},"attachment_button"),Z=!w;Z=j.jsx(b("MessengerStickerButtonReact.bs").make,{className:(Z?"":"_30yy")+" _7oam",disabled:Z,fill:Z?W:V,flyoutAlignment:1,getInput:function(a){return K.current},onSelect:function(a,c,d){b("bs_curry")._1(fa,a);return 0}},"sticker_button");var $=!w;H=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:$,ref:function(a){ka.current=a;return 0},imagesOnly:H,focusInput:U,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:a}),style:{display:"none"}},"gif_uploader"),j.jsx(b("MessengerGifButtonReact.bs").make,{className:"_30yy _7oam",disabled:$,fill:$?W:V,flyoutAlignment:1,getInput:function(a){return K.current},getQuery:function(a){if(L==null)return"";else return L.getValue()},location:2,onSelect:y},"gif_button")]},"gif_button");o=[S,t,Y,B,u,X];var Ma=G===void 0||!o.some(function(a){return a!==null});q=function(a){if(Ma)return 0;else{a.stopPropagation();N||b("bs_curry")._1(ta,function(a){return!0});return b("bs_curry")._1(sa,function(a){return!a})}};if(o.length>6)throw[ba,"Animation Currently Supports <= 6 Icons to add support for more please add new CSS rules in messengerComposer.css (more details there at: .messengerComposer/moreIconsOpen )"];p=O!==0?j.jsx(j.Fragment,{children:o}):j.jsx(j.Fragment,{children:o.reverse()});r={fill:N||Ma?W:V};a=j.jsx("div",{children:j.jsx("div",{children:b("MessengerPlusCircleIconSVGM4React.bs").makeWithPathStyle(r),className:"_7mki"+(!Ma&&N?" _7mkj":"")+(Ma?" _7v3s":""),onTransitionEnd:function(a){if(N)return 0;else{b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){return b("bs_curry")._1(ta,function(a){return!1})});return 0});return 0});return 0}}}),className:"_7mkh"+(z?" _3-9a":""),onClick:q});$=[La,Z,H];if(aa)y=null;else{var Na;switch(O){case 0:Na=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:p,ref:la,className:"_7mkk _7mkl"+(N?" _7oul":""),style:N?ya[0]:wa[0]}),j.jsx("div",{children:$.reverse(),className:"_7mkk"})]});break;case 1:Na=j.jsx("div",{children:$.reverse(),className:"_7mkk"});break;case 2:Na=null;break}y=j.jsxs(j.Fragment,{children:[I,a,Na]})}S=j.jsxs("div",{children:[O===2?j.jsx(j.Fragment,{children:$}):null,p],className:"_7mkk _7t1o"+(N?" _7t0e":"")+(N?"":" _7t0j")});t=aa?null:j.jsx(b("MessengerEmojiButtonReact.bs").make,{className:"_30yy _7odb",fill:V,flyoutAlignment:2,getInput:function(a){return K.current},onSelect:Fa,sendCustomEmoji:function(a,c,d){b("bs_curry")._3(da,a,c,d);return 0},threadId:J,ref:ja});if(w&&Ca&&!g)Y=j.jsx(b("MessengerSendButtonReact.bs").make,{className:(J!==void 0?"_30yy":"")+" _38lh _7kpi",customColor:V,onClick:Ia,useIcon:!0});else{B=b("MessengerHotLikeUtils").getCustomEmojiFromThread(G);u=B==null?void 0:b("bs_caml_option").some(B);X=!w;Y=j.jsx(b("MessengerHotLikeButton.react"),{className:(X?"":"_30yy")+" _4rv9 _6ymq"+(u===void 0?" _7kpj":"")+(u!==void 0?" _7v3t":""),customColor:X?W:V,customLike:B,disabled:X,renderSize:24,sendSticker:function(a){b("bs_curry")._1(fa,a);return 0},sendCustomLike:function(a,c,d){b("bs_curry")._3(da,a,c,d);return 0},threadID:J,thread:G})}o=j.jsx(b("WorkChatSmartReplies.react"),{threadID:J,onClick:ea,onResize:F});if(A==null||D===b("MessengerView").DETAIL.COMPOSE)r=null;else{z=A.cannot_reply_reason;q=z==null?!1:z===b("MessengerThreadCannotReplyReason").BLOCKED;if(q){A.is_canonical||i(0,4973);ga!==void 0||i(0,4974);A.other_user_fbid!==null||i(0,4975);La=A.other_user_fbid;if(La==null)r=j.jsx(l,{});else if(v==null)r=j.jsx(l,{});else{Z=v.get(b("MercuryIDs").getParticipantIDFromUserID(La));(Z==null?void 0:b("bs_caml_option").some(Z))!==void 0||i(0,4976);var Oa={state:!1};b("MessengerState.bs").compute(E,function(a){Oa.state=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(E,a.blocked_ids,A);return 0});r=Z==null?j.jsx(l,{}):Oa.state?j.jsx(ca,{threadId:J,isPageChat:Ba,participantID:Z.id,viewer:E}):j.jsx(l,{})}}else r=j.jsx("div",{children:j.jsxs("div",{children:[I,j.jsx("div",{children:b("MercuryReadOnlyReason").getReason(A.has_email_participant),className:"_2wy4"})],className:"_5irm"}),className:"_4rv3"})}if(d)return!(A==null)&&!(C==null)&&b("MessageRequestUtils").shouldShowComposerPendingActions(A)&&!ua[0]?j.jsx(b("MessengerComposerPendingActionsM4React.bs").make,{thread:A,threadId:C,viewer:E,onAccept:function(a){return b("bs_curry")._1(va,function(a){return!0})}}):j.jsxs("div",{children:[o,n,x!==null?Ka:null,R,O!==0?S:null,j.jsxs("div",{children:[y,j.jsxs("div",{children:[j.jsx(b("MessengerComposerInput.react"),{disableAutofocus:e,disableInput:Da(f),fileUploader:c,workChatContentApps:null,handleOnlyImageUploads:!1,isComposing:T,mentionsEnabled:m,onBeforeInput:function(a,c){if(na!==void 0){b("bs_caml_option").valFromOption(na).hideFlyout();return null}else return null},onChange:Ha,onFileUpload:Ga,onMessageSend:ea,onResize:F,pageID:ia,participants:ga,ref:K,smallerEqual640:!1,sharePreview:ha,showMenu:!1,thread:G,threadID:T?"new":J,viewer:E}),t],className:"_7kpk"+(M[0]&&O===0?" _7u0c":""),onClick:function(a){return b("bs_curry")._1(sa,function(a){return!1})}}),Y],className:"_5irm _7mkm"})],"aria-label":h._("New message"),className:"_4rv3 _7og6",role:"region"});else return r}g=j.forwardRef(c);f.TooManyIcons=ba;f.getBreakpointMediaQuery=k;f.deref=a;f.Blocked=d;f.BlockedOther=e;f.make=g}),null);
__d("MessengerComposerM4React.re",["MessengerComposerM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerComposerM4React.bs").make;f.make=a}),null);
__d("MessengerMuteDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","ReasonReact.bs","MessengerDomIDs.bs","MessengerDialog.react","MessengerRadioList.react","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){if(typeof a==="number")return-1;else if(a.tag)return a[0]*3600;else return a[0]*60}var k=(c=b("bs_block")).__(0,[15]),l=c.__(1,[1]),m=c.__(1,[8]),n=c.__(1,[24]),o=b("ReasonReact.bs").reducerComponent("MessengerMuteDialogReact");function a(a,c){return{debugName:o.debugName,reactClassInternal:o.reactClassInternal,handedOffState:o.handedOffState,getDerivedStateFromProps:o.getDerivedStateFromProps,didMount:o.didMount,didUpdate:o.didUpdate,willUnmount:o.willUnmount,shouldUpdate:o.shouldUpdate,render:function(a){var c,d=a.state;return i.jsxs(b("MessengerDialog.react"),{shown:d.shown,titleID:b("MessengerDomIDs.bs").ids.MUTE_DIALOG_TITLE,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Mute Conversation")}),i.jsxs(b("MessengerDialogBody.react"),{children:[i.jsx("div",{children:h._("You will continue to receive \u0040mention notifications while muted."),className:"_3-96"}),i.jsxs(c=b("MessengerRadioList.react"),{name:"messengerMuteOptions",onValueChange:function(c){return b("bs_curry")._1(a.send,[c])},selectedValue:d.muteSetting,children:[i.jsx(c.Item,{value:k,children:h._("For 15 minutes")}),i.jsx(c.Item,{value:l,children:h._("For 1 hour")}),i.jsx(c.Item,{value:m,children:h._("For 8 hours")}),i.jsx(c.Item,{value:n,children:h._("For 24 hours")}),i.jsx(c.Item,{value:0,children:h._("Until I turn it back on")})]})]}),i.jsxs(b("MessengerDialogFooter.react"),{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.jsx(b("MessengerDialogButton.react"),{label:h._("Mute"),onClick:function(c){return b("bs_curry")._1(a.send,0)},type:"primary"})]})]})},initialState:function(a){return{muteSetting:k,shown:!0}},retainedProps:o.retainedProps,reducer:function(c,d){if(c)return b("bs_block").__(0,[{muteSetting:c[0],shown:d.shown}]);else return b("bs_block").__(2,[{muteSetting:d.muteSetting,shown:!1},function(c){return b("bs_curry")._1(a,j(c.state.muteSetting))}])},jsElementWrapped:o.jsElementWrapped}}d=0;f.convertMuteToSeconds=j;f.fifteenMinutes=k;f.oneHour=l;f.eightHours=m;f.twentyFourHours=n;f.always=d;f.component=o;f.make=a}),null);