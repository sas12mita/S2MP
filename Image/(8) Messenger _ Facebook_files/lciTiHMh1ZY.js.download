if (self.CavalryLogger) { CavalryLogger.start_js(["u4uC0"]); }

__d("UFI2DeleteCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CommentDeleteResponsePayload",kind:"LinkedField",name:"comment_delete",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deleted_comment_id",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UFI2DeleteCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UFI2DeleteCommentMutation",selections:b},params:{id:"1762767240454604",metadata:{},name:"UFI2DeleteCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2DeleteCommentMutation",["invariant","RelayModern","RelayRuntime","UFI2LocalUserAction","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","once","UFI2DeleteCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("RelayModern").commitLocalUpdate,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=b("RelayRuntime").ConnectionHandler,l=h!==void 0?h:h=b("UFI2DeleteCommentMutation.graphql");function m(a,c,d){d=null;c=a.get(c);if(c){c=c.getLinkedRecord("feedback");c&&b("forEachUFI2DisplayCommentsConnection")(a,c,b("once")(function(a){d=Number(a.getValue("count"))}))}return(a=d)!=null?a:0}function n(a){return function(c){var d=c.get(a.feedbackId);if(!d){c["delete"](a.commentId);return}var e=a.feedbackSource;e=m(c,a.commentId,e);d=b("forEachUFI2DisplayCommentsConnection")(c,d,function(b){k.deleteNode(b,a.commentId)});d||g(0,3009);c["delete"](a.commentId);b("displayCommentsConnectionCountUpdater")({feedbackId:a.feedbackId,modifier:-1,store:c,topLevelFeedbackId:a.topLevelFeedbackId,totalCommentCountModifier:-1-e})}}function a(a,c){var d=n(c);i(a,function(a){a=a.get(c.commentId);a||g(0,14479,c.commentId);a.setValue("DELETE","optimistic_action")});var e=j(a,{mutation:l,onCompleted:function(a){a=(a=a.comment_delete)==null?void 0:a.deleted_comment_id;a!=null&&b("UFI2LocalUserAction").emit("delete",{__target:"comment",commentId:a});(c==null?void 0:c.onCompleted)&&c.onCompleted()},onError:function(b){e&&e.dispose(),i(a,function(a){a=a.get(c.commentId);a||g(0,14479,c.commentId);a.setValue("DELETE","optimistic_action");a.setValue(b.toString(),"optimistic_error")}),(c==null?void 0:c.onError)&&c.onError(b)},optimisticResponse:{comment_delete:{deleted_comment_id:c.commentId,feedback:{id:c.feedbackId}}},optimisticUpdater:d,updater:d,variables:{input:{actor_id:c.actorId,comment_id:c.commentId}}});return e}e.exports={"delete":a,getDeleteCommentUpdater:n}}),null);