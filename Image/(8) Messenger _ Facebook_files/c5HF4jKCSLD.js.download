if (self.CavalryLogger) { CavalryLogger.start_js(["6jgPc"]); }

__d("GroupsPollDeleteOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GroupsQuestionOptionDeleteResponsePayload",kind:"LinkedField",name:"groups_question_option_delete",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deleted_option_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GroupsPollDeleteOptionMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GroupsPollDeleteOptionMutation",selections:b},params:{id:"1939994219348819",metadata:{},name:"GroupsPollDeleteOptionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PollAddOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"first"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={kind:"Variable",name:"first",variableName:"first"},e={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[f],h={alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:g,storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[i,f],k=[d,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],l={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n=[{kind:"Literal",name:"first",value:10}],o={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},q=[p],r={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"PollAddOptionMutation",selections:[{alias:null,args:c,concreteType:"QuestionAddOptionResponsePayload",kind:"LinkedField",name:"question_add_option",plural:!1,selections:[{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[{args:[d],kind:"FragmentSpread",name:"PollAttachmentComponent_question"}],storageKey:null},{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"question_options_edge",plural:!1,selections:[e,h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:g,storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"PollAddOptionMutation",selections:[{alias:null,args:c,concreteType:"QuestionAddOptionResponsePayload",kind:"LinkedField",name:"question_add_option",plural:!1,selections:[{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:j,storageKey:null},{alias:null,args:k,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[l,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},{alias:null,args:n,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[l,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,f,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[o],storageKey:"profile_picture(size__width:32)"},{kind:"InlineFragment",selections:q,type:"User",abstractKey:null},{kind:"InlineFragment",selections:q,type:"Page",abstractKey:null}],storageKey:null},e],storageKey:null},r],storageKey:"profile_voters(first:10)"},{alias:null,args:n,filters:null,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",kind:"LinkedHandle",name:"profile_voters"},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},o],storageKey:null},f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[m,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,p,{kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},i],storageKey:null},e],storageKey:null},r],storageKey:null},{alias:null,args:k,filters:[],handle:"connection",key:"PollAttachmentComponent_options",kind:"LinkedHandle",name:"options"}],storageKey:null},{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"question_options_edge",plural:!1,selections:[e,h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:j,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3049273571817838",metadata:{},name:"PollAddOptionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PollAddVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"first"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},f={alias:null,args:null,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[e],storageKey:null},g={kind:"Variable",name:"first",variableName:"first"},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[g,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l=[{kind:"Literal",name:"first",value:10}],m={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o=[n],p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"PollAddVoteMutation",selections:[{alias:null,args:c,concreteType:"QuestionAddVoteResponsePayload",kind:"LinkedField",name:"question_add_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"option",plural:!1,selections:[d,f],storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[{args:[g],kind:"FragmentSpread",name:"PollAttachmentComponent_question"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"PollAddVoteMutation",selections:[{alias:null,args:c,concreteType:"QuestionAddVoteResponsePayload",kind:"LinkedField",name:"question_add_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"option",plural:!1,selections:[d,f,h],storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,h],storageKey:null},{alias:null,args:j,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[e,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[k],storageKey:null},d,{alias:null,args:l,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[e,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[m],storageKey:"profile_picture(size__width:32)"},{kind:"InlineFragment",selections:o,type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Page",abstractKey:null}],storageKey:null},p],storageKey:null},q],storageKey:"profile_voters(first:10)"},{alias:null,args:l,filters:null,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",kind:"LinkedHandle",name:"profile_voters"},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},m],storageKey:null},h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[k,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,n,{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},i],storageKey:null},p],storageKey:null},q],storageKey:null},{alias:null,args:j,filters:[],handle:"connection",key:"PollAttachmentComponent_options",kind:"LinkedHandle",name:"options"}],storageKey:null}],storageKey:null}]},params:{id:"3025039657585113",metadata:{},name:"PollAddVoteMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PollRemoveVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"first"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},f={alias:null,args:null,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[e],storageKey:null},g={kind:"Variable",name:"first",variableName:"first"},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[g,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l=[{kind:"Literal",name:"first",value:10}],m={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o=[n],p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"PollRemoveVoteMutation",selections:[{alias:null,args:c,concreteType:"QuestionRemoveVoteResponsePayload",kind:"LinkedField",name:"question_remove_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"option",plural:!1,selections:[d,f],storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[{args:[g],kind:"FragmentSpread",name:"PollAttachmentComponent_question"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"PollRemoveVoteMutation",selections:[{alias:null,args:c,concreteType:"QuestionRemoveVoteResponsePayload",kind:"LinkedField",name:"question_remove_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"option",plural:!1,selections:[d,f,h],storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,h],storageKey:null},{alias:null,args:j,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[e,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[k],storageKey:null},d,{alias:null,args:l,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[e,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[m],storageKey:"profile_picture(size__width:32)"},{kind:"InlineFragment",selections:o,type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Page",abstractKey:null}],storageKey:null},p],storageKey:null},q],storageKey:"profile_voters(first:10)"},{alias:null,args:l,filters:null,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",kind:"LinkedHandle",name:"profile_voters"},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},m],storageKey:null},h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[k,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,n,{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},i],storageKey:null},p],storageKey:null},q],storageKey:null},{alias:null,args:j,filters:[],handle:"connection",key:"PollAttachmentComponent_options",kind:"LinkedHandle",name:"options"}],storageKey:null}],storageKey:null}]},params:{id:"3712584442149252",metadata:{},name:"PollRemoveVoteMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ReportGroupsPollOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ReportGroupsPollOptionResponsePayload",kind:"LinkedField",name:"report_groups_poll_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reported_option_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ReportGroupsPollOptionMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ReportGroupsPollOptionMutation",selections:b},params:{id:"1808065669214752",metadata:{},name:"ReportGroupsPollOptionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PollAttachmentComponentRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"questionID"}],b=[{kind:"Variable",name:"id",variableName:"actorID"}],c=[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"id",variableName:"questionID"}],d={kind:"Variable",name:"first",variableName:"first"},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[g],storageKey:"profile_picture(size__width:32)"},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[d,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m=[{kind:"Literal",name:"first",value:10}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o=[n],p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PollAttachmentComponentRefetchQuery",selections:[{alias:"viewer",args:b,concreteType:"Viewer",kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PollAttachmentComponent_viewer"}],storageKey:null},{alias:null,args:c,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[{args:[d],kind:"FragmentSpread",name:"PollAttachmentComponent_question"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PollAttachmentComponentRefetchQuery",selections:[{alias:"viewer",args:b,concreteType:"Viewer",kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,e],storageKey:null},{alias:null,args:j,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[k,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[e,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},{alias:null,args:m,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[k,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,e,f,h,{kind:"InlineFragment",selections:o,type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Page",abstractKey:null}],storageKey:null},p],storageKey:null},q],storageKey:"profile_voters(first:10)"},{alias:null,args:m,filters:null,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",kind:"LinkedHandle",name:"profile_voters"},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g],storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[l,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,n,{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},i],storageKey:null},p],storageKey:null},q],storageKey:null},{alias:null,args:j,filters:[],handle:"connection",key:"PollAttachmentComponent_options",kind:"LinkedHandle",name:"options"}],storageKey:null}]},params:{id:"3153816414640914",metadata:{},name:"PollAttachmentComponentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PollAttachmentComponent_question.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g=[f],h={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"first"},{defaultValue:["vote_count","creation_time"],kind:"LocalArgument",name:"ordering"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:null},{count:"first",cursor:null,direction:"forward",path:["options"]}]},name:"PollAttachmentComponent_question",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a],storageKey:null},{alias:"options",args:null,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"__PollAttachmentComponent_options_connection",plural:!1,selections:[b,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},{alias:"profile_voters",args:null,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"__PollAttachmentComponent_options_profile_voters_connection",plural:!1,selections:[b,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[d],storageKey:"profile_picture(size__width:32)"},e,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null}],storageKey:null},h],storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[c,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[e,f],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},e],storageKey:null},h],storageKey:null},i],storageKey:null}],type:"Question",abstractKey:null}}();e.exports=a}),null);
__d("PollAttachmentComponent_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PollAttachmentComponent_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(size__width:32)"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("PollAttachmentQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"questionID"}],b=[{kind:"Variable",name:"id",variableName:"actorID"}],c=[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"id",variableName:"questionID"}],d={kind:"Variable",name:"first",variableName:"first"},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[g],storageKey:"profile_picture(size__width:32)"},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[d,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m=[{kind:"Literal",name:"first",value:10}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o=[n],p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PollAttachmentQuery",selections:[{alias:"viewer",args:b,concreteType:"Viewer",kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PollAttachmentComponent_viewer"}],storageKey:null},{alias:null,args:c,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[{args:[d],kind:"FragmentSpread",name:"PollAttachmentComponent_question"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PollAttachmentQuery",selections:[{alias:"viewer",args:b,concreteType:"Viewer",kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"response_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_poll_options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_vote",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,e],storageKey:null},{alias:null,args:j,concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[k,{alias:null,args:null,concreteType:"QuestionOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"node",plural:!1,selections:[e,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text_with_entities",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},{alias:null,args:m,concreteType:"QuestionOptionProfileVotersConnection",kind:"LinkedField",name:"profile_voters",plural:!1,selections:[k,{alias:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,e,f,h,{kind:"InlineFragment",selections:o,type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Page",abstractKey:null}],storageKey:null},p],storageKey:null},q],storageKey:"profile_voters(first:10)"},{alias:null,args:m,filters:null,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",kind:"LinkedHandle",name:"profile_voters"},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"associated_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g],storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete_groups_poll_option",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"groups_poll_option_author_description",plural:!1,selections:[l,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,n,{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},i],storageKey:null},p],storageKey:null},q],storageKey:null},{alias:null,args:j,filters:[],handle:"connection",key:"PollAttachmentComponent_options",kind:"LinkedHandle",name:"options"}],storageKey:null}]},params:{id:"3068759306524445",metadata:{},name:"PollAttachmentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PhotoViewState",["ArbiterMixin","PhotoStore","PhotoUtils","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this)||this;d=d||{};e._viewer=b;e._setID=c;e._position=d.position||0;e._preventPreload=d.preventPreload;e._reverse=d.reverse;e._updateCallback=d.updateCallback;e._preloaded={};return e}var d=c.prototype;d._fetchCallback=function(a){if(!this._viewer.isOpen())return;this._preload(a);this._log("data_fetch_complete")};d._preload=function(a){b("PhotoUtils").preload(this._viewer,a,function(a){this._preloaded[b("PhotoUtils").getFBIDFromData(a)]=!0}.bind(this))};d._preloadPhotosInRange=function(a,c){var d=[];for(var a=a;a<=c;++a){var e=b("PhotoStore").getByIndexImmediate(this._setID,a);e&&!this._isPreloaded(e)&&d.push(e)}this._preload(d)};d._isPreloaded=function(a){return this._preloaded[b("PhotoUtils").getFBIDFromData(a)]};d.getPosition=function(){return this._position};d.isValidMovement=function(a){if(!b("PhotoStore").hasBeenCreated(this._setID))return!1;if(b("PhotoStore").hasLooped(this._setID))return!0;a=this._position+a;var c=b("PhotoStore").getAvailableRange(this._setID),d=c.offset+c.length-1;return a>=c.offset-1&&a<=d+1};d.getRelativeMovement=function(a){return b("PhotoStore").getIndexForID(this._setID,a)-this._position};d.moveCursor=function(a){if(!this.isValidMovement(a))return!1;this._position+=a;return!0};d._page=function(a){if(!this.moveCursor(a))return;this._log("page_begin");var d=b("PhotoStore").getByIndexImmediate(this._setID,this._position);!d?(this.inform("photo_fetch"),this._log("photo_fetch")):this._isPreloaded(d)||this._preload([d]);b("PhotoStore").getByIndex(this._setID,this._position,this._updateCallback);this._loadMoreIfNecessary(a>0,c.BUFFER_SIZE);this._log("page_complete")};d.loadMoreForwardIfNecessary=function(a){if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID);c=c.offset+c.length-1;var d=this._position+a;if(d>c&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c);b("PhotoStore").fetchForward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(this._position+1,d)};d.loadMoreBackwardIfNecessary=function(a){if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID),d=this._position-a;if(d<c.offset&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c.offset);b("PhotoStore").fetchBackward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(d,this._position-1)};d._loadMoreIfNecessary=function(a,b){a?this.loadMoreForwardIfNecessary(b):this.loadMoreBackwardIfNecessary(b)};d.displayFirst=function(){if(!this._viewer.isOpen())return;b("PhotoStore").setPreFetchCallback(this._setID,function(){this._log("data_fetch_begin")}.bind(this));var a=function(a){this._isPreloaded(a)||this._preload([a]),this._updateCallback&&this._updateCallback(a)}.bind(this);b("PhotoStore").getByIndex(this._setID,this._position,a);this._reverse?this.loadMoreBackwardIfNecessary(c.BUFFER_SIZE):this.loadMoreForwardIfNecessary(c.BUFFER_SIZE)};d.backward=function(){this._page(this._reverse?1:-1)};d.forward=function(){this._page(this._reverse?-1:1)};d._log=function(a){this._viewer.log(a)};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a,{BUFFER_SIZE:4});e.exports=a}),null);
__d("SpotlightViewerCoreMixin",["PhotoLogger","PhotoStore","PhotoUtils","PhotoViewState","React","SpotlightViewerImage"],(function(a,b,c,d,e,f){var g=b("React");a={_displayFirstPhoto:function(){b("PhotoStore").executePostCreate(this.props.setid,this.viewState.displayFirst.bind(this.viewState))},_getInitialPosition:function(){var a;this.props.clearcache||(a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid));a===void 0&&(b("PhotoStore").clearSetCache(this.props.setid),a=0);return a},__displayPhoto:function(){var a=this._getInitialPosition();this.viewState=new(b("PhotoViewState"))(this,this.props.setid,{position:a,preventPreload:this.__shouldPreventPhotoPreload,reverse:this.props.reverse,updateCallback:this._updatePhoto});this.inform("open");this._displayFirstPhoto()},UNSAFE_componentWillMount:function(){this._logger=new(b("PhotoLogger"))(this.getViewerID()),this.log("open_begin"),this.__displayPhoto()},componentDidMount:function(){this._enableSubscriptions&&this._enableSubscriptions(),this.log("open_complete")},isOpen:function(){return this.state.open},close:function(){if(!this.isOpen())return;this.log("close_begin");this.setState({open:!1},function(){this.inform("close"),this.log("close_complete")})},componentWillUnmount:function(){this.viewState=null},_onClickViewport:function(a){a?this.viewState.forward():this.viewState.backward()},_getMedia:function(a,c){return g.jsx(b("SpotlightViewerImage"),{ref:"image",src:a.uri,dimensions:c.imageDimensions})},_getCurrentFBID:function(){return b("PhotoUtils").getFBIDFromData(this.state.photoData)},_updatePhoto:function(a){this.log("photo_change_begin"),this.setState({photoData:a},function(){this.inform("photo_change",this.state.photoData),this.log("photo_change_complete")})},getLogger:function(){return this._logger},log:function(a){this._logger&&this._logger.logEvent(a)}};e.exports=a}),null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector"],(function(a,b,c,d,e,f){var g={verticalPadding:"number",horizontalPadding:"number",normalResDim:"object"};a=function(){"use strict";function a(a){this._verticalPadding=40;this._horizontalPadding=60;this._normalResDim={x:960,y:960};this._photoStripHeight=88;for(var c in a){if(!g[c])throw new Error("Unsupported extraData value '"+c+"' should not be used");typeof a[c]===g[c]&&(this["_"+c]=a[c])}this._listener=b("Event").listen(window,"resize",this._resetMaxStageDimensions.bind(this))}var c=a.prototype;c.destroy=function(){this._listener.remove()};c.getStageDimensions=function(a){var c=this.getMaxStageDimensions();c=new(b("Vector"))(Math.min(a.x,c.x),Math.min(a.y,c.y));var d=c.x/c.y;a=a.x/a.y;d<a?c.y=Math.round(c.x/a):c.x=Math.round(c.y*a);return c};c.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;if(d>=e||a>=c){var f=d/a,g=e/c;g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c)}return new(b("Vector"))(d,a)};c.getImageDimensionsForMaxStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y-this._photoStripHeight;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};c.getMaxStageDimensions=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x-this._horizontalPadding,b("Vector").getViewportDimensions().y-this._verticalPadding));return this._maxStageDimensions};c.getMaxStageDimensionsWithoutPadding=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y));return this._maxStageDimensions};c._resetMaxStageDimensions=function(){this._maxStageDimensions=null};c.getBestFitImageFromPhoto=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};c.getOriginalDimensionsFromPhoto=function(a){a=b("PhotoUtils").getOriginalImageFromData(a);return new(b("Vector"))(a.width,a.height)};c.getBestFitDimensionsFromPhoto=function(a,c){a=this.getBestFitImageFromPhoto(a,c);return new(b("Vector"))(a.width,a.height)};c.getVerticalPadding=function(){return this._verticalPadding};c.getHorizontalPadding=function(){return this._horizontalPadding};return a}();e.exports=a}),null);
__d("SpotlightViewerStageResizer",["Event","MessengerEnvironment","SubscriptionsHandler","Vector"],(function(a,b,c,d,e,f){var g=520;a=function(){"use strict";function a(a,c){this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(b("Event").listen(window,"resize",this._resetStageDimensions.bind(this))),this._dimensions=a,this._minHeight=c.minHeight||g,this._minWidth=c.minWidth||g,this._resetStageDimensions()}var c=a.prototype;c.destroy=function(){this._dimensions=null,this._subscriptionsHandler.release()};c._resetStageDimensions=function(){this._currentStageDimensions=new(b("Vector"))(this._minWidth,this._minHeight)};c.getImageAndStageDimensions=function(a){a=this._dimensions.getBestFitDimensionsFromPhoto(a,this._dimensions.getMaxStageDimensions());var c=b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding(a):this._dimensions.getStageDimensions(a);this._currentStageDimensions=new(b("Vector"))(Math.max(c.x,this._minWidth,this._currentStageDimensions.x),Math.max(c.y,this._minHeight,this._currentStageDimensions.y));c=b("MessengerEnvironment").messengerui?this._dimensions.getImageDimensionsForMaxStage(a,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(a,this._currentStageDimensions);return{stageDimensions:this._currentStageDimensions,imageDimensions:c}};c.getCurrentStageDimensions=function(){return this._currentStageDimensions};return a}();e.exports=a}),null);
__d("SpotlightViewerDimensionMixin",["MessengerEnvironment","PhotoViewerDimensions","SpotlightViewerStageResizer"],(function(a,b,c,d,e,f){a={getInitialState:function(){this._dimensions=new(b("PhotoViewerDimensions"))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new(b("SpotlightViewerStageResizer"))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return{maxStageDimensions:b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()}},componentWillUnmount:function(){this._resizer&&this._resizer.destroy(),this._resizer=null,this._dimensions&&this._dimensions.destroy(),this._dimensions=null},getMedia:function(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==="MessageVideo")return this._getVideo();var a=this._resizer.getImageAndStageDimensions(this.state.photoData),b=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(b,a)}else return null},getDimensions:function(){return this._dimensions},getStageDimensions:function(){if(this.state.photoData)return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;else return b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()},getImageDimensions:function(){return!this.state.photoData?null:this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions},onResize:function(){if(b("MessengerEnvironment").messengerui){var a=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:a,width:a.x})}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()})}};e.exports=a}),null);
__d("SpotlightViewerInit",["DOM","ReactDOM"],(function(a,b,c,d,e,f){a={render:function(a,c){var d=b("DOM").create("div");a=b("ReactDOM").render(a,d);b("DOM").appendContent(document.body,d);a.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(d),b("DOM").remove(d),c&&c()});return a}};e.exports=a}),null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],(function(a,b,c,d,e,f){a={_getInitialPhotoData:function(){var a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid);a=b("PhotoStore").getByIndexImmediate(this.props.setid,a);return a?a:this._getThumbnailPhotoData()},_getThumbnailPhotoData:function(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var a={id:this.props.photoid};for(var c=0;c<this.props.dimensions.length;++c){var d=b("Vector").deserialize(this.props.dimensions[c]);a["image"+c]={width:d.x,height:d.y,uri:this.props.thumbsrc}}return a}};e.exports=a}),null);
__d("GroupsPollDeleteOptionMutation",["RelayModern","RelayRuntime","GroupsPollDeleteOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("GroupsPollDeleteOptionMutation.graphql");function a(a,b){var c={input:{actor_id:b.viewer.actor.id,question_option_id:b.optionID}},d=function(a){var c=a.get(b.questionID);if(!c)return;c=c&&i.getConnection(c,"PollAttachmentComponent_options");if(!c)return;i.deleteNode(c,b.optionID);var d=parseInt(c.getValue("count"),10);c.setValue(d-1,"count");a["delete"](b.optionID)},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,updater:d,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PollAddOptionMutation",["RelayModern","PollAddOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=0,j=g!==void 0?g:g=b("PollAddOptionMutation.graphql");function a(a,b){var c=b.imageUpload&&b.imageUpload.fbid;c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_text:b.optionText,option_page_id:b.optionPageID,image_id:c},first:b.numOptionsToShow};var d=function(){var a=b.question.author.id===b.viewer.actor.id,c="client:newOption:"+i++,d=b.imageUpload&&{image:{height:b.imageUpload.thumbnail_height,width:b.imageUpload.thumbnail_width,uri:b.imageUpload.thumbnail_uri}};c={node:{id:c,text_with_entities:{text:b.optionText},associated_image:d,viewer_has_voted:!a,profile_voters:{count:a?0:1,edges:a?[]:[{node:babelHelpers["extends"]({},b.viewer.actor)}]}}};d=b.question.options.edges.map(function(c){var d=babelHelpers["extends"]({},c.node);b.question.response_method==="CHOOSE_ONE"&&c.node.viewer_has_voted&&!a&&(d.viewer_has_voted=!1,d.profile_voters={count:c.node.profile_voters.count-1});return{node:d}});d.push(c);return{question_add_option:{question:{id:b.question.id,options:{count:b.question.options.count+1,edges:d}},question_options_edge:c}}},e=function(a){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,variables:c,optimisticResponse:d(),onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PollAttachmentUtils",[],(function(a,b,c,d,e,f){"use strict";a={isOpinionPoll:function(a){return a==="CHOOSE_ONE"||a==="IMAGE_CHOOSE_ONE"},isEigenpoll:function(a){return a==="CHOOSE_MULTIPLE"||a==="IMAGE_CHOOSE_MULTIPLE"}};e.exports=a}),null);
__d("PollAddVoteMutation",["PollAttachmentUtils","RelayModern","RelayRuntime","PollAddVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("PollAttachmentUtils").isOpinionPoll,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=b("RelayRuntime").ConnectionHandler,k=g!==void 0?g:g=b("PollAddVoteMutation.graphql");function a(a,b){var c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_id:b.option.id,rank:b.rank},first:b.numOptionsToShow},d=function(a){a=a.get(b.question.id);if(!a)return;a=a&&j.getConnection(a,"PollAttachmentComponent_options");if(!a)return;a=a&&a.getLinkedRecords("edges");if(!a)return;a=a.map(function(a){return a&&a.getLinkedRecord("node")});a.forEach(function(a){if(!a)return;var c=a&&j.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a.getValue("id")===b.option.id?(a.setValue(!0,"viewer_has_voted"),c.setValue(b.option.profile_voters.count+1,"count")):a.getValue("viewer_has_voted")&&(a.setValue(!1,"viewer_has_voted"),c.setValue(parseInt(c.getValue("count"),10)-1,"count"))})},e=function(a){if(h(b.question.response_method))d(a);else{a=a.get(b.option.id);if(!a)return;var c=a&&j.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a.setValue(!0,"viewer_has_voted");c.setValue(b.option.profile_voters.count+1,"count")}},f=function(){b.callbacks&&b.callbacks.onSuccess()},g=function(a){b.callbacks&&b.callbacks.onFailure(a)};return i(a,{mutation:k,optimisticUpdater:e,variables:c,onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PollRemoveVoteMutation",["RelayModern","RelayRuntime","PollRemoveVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PollRemoveVoteMutation.graphql");function a(a,b){var c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_id:b.option.id},first:b.numOptionsToShow},d=function(a){a=a.get(b.option.id);if(!a)return;var c=a&&i.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a&&a.setValue(!1,"viewer_has_voted");c&&c.setValue(b.option.profile_voters.count-1,"count")},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("ReportGroupsPollOptionMutation",["RelayModern","ReportGroupsPollOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ReportGroupsPollOptionMutation.graphql");function a(a,b){var c={input:{actor_id:b.viewer.actor.id,poll_option_id:b.optionID}},d=function(){b.callbacks&&b.callbacks.onSuccess()},e=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:i,variables:c,onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("SpotlightPollOptionImageViewer",["cx","ArbiterMixin","Facepile.react","React","SpotlightViewer","SpotlightViewerClose","SpotlightViewerCoreMixin","SpotlightViewerDimensionMixin","SpotlightViewerThumbnailMixin","SpotlightViewport","TextWithEntities.react","XUIText.react","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g){var h=b("React"),i=20,j=28,k=10;a=b("createReactClass_DEPRECATED")({displayName:"SpotlightPollOptionImageViewer",mixins:[b("ArbiterMixin"),b("SpotlightViewerCoreMixin"),b("SpotlightViewerThumbnailMixin"),b("SpotlightViewerDimensionMixin")],getViewerID:function(){return this.props.setid},getInitialState:function(){return{photoData:this._getThumbnailPhotoData(),open:!0}},render:function(){var a=this.getMedia(),c=this.getStageDimensions(),d=this.props.useloadingindicator&&!this.state.photoData;return h.jsx(b("SpotlightViewer"),{onHide:this.close,open:this.state.open,rootClassName:this.props.rootClassName,children:h.jsxs(b("SpotlightViewport"),{className:"_wma",media:a,onClick:this._onClickViewport,showLoadingIndicator:d,snapToPhoto:this.props.snapToPhoto,stageDimensions:c,useWidth:!0,children:[h.jsx(b("SpotlightViewerClose"),{onClick:this.close}),this._renderOptionData()]})})},_renderOptionData:function(){return h.jsxs("div",{className:"_50-m _wmb",children:[this._renderOptionText(),this._renderFacepile(),this._renderMore()]})},_renderOptionText:function(){var a=this.props.optionText.split(/\r?\n/)[0].slice(0,i);a.length<this.props.optionText.length&&(a+="...");return h.jsx(b("TextWithEntities.react"),{className:"_wmc",renderEmoticons:!1,renderEmoji:!0,text:a})},_renderFacepile:function(){return h.jsx("div",{className:"_wmd",children:h.jsx(b("Facepile.react"),{onFaceClick:this._onFaceClick,numFaces:k,profiles:this.props.profiles,showHovercard:!1,size:j})})},_renderMore:function(){var a=this.props.voterCount-k;if(a<=0)return null;a="+"+a+" voters";return h.jsx("div",{className:"_wme",children:h.jsx(b("XUIText.react"),{children:a})})},_onFaceClick:function(){this.close()}});e.exports=a}),null);
__d("GroupsPollOptionActions",[],(function(a,b,c,d,e,f){"use strict";a={REMOVE:"remove",REPORT_TO_GROUP_ADMINS:"reportToGroupAdmins",REPORT_TO_FACEBOOK:"reportToFacebook"};e.exports=a}),null);
__d("GroupsPollOptionStrings",["fbt","invariant","GroupsPollOptionActions"],(function(a,b,c,d,e,f,g,h){"use strict";a={getLabel:function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return g._("Remove option");case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return g._("Report to group admins");case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return g._("Report to Facebook");default:return h(!1,"All menu options must have a UI string")}},getConfirmRemoveDialogTitle:function(){return g._("Delete option")},getConfirmRemoveDialogBody:function(){return g._("Are you sure that you want to delete this option from the poll?")},getConfirmRemoveDialogButtonText:function(){return g._("Delete")},getConfirmReportDialogTitle:function(){return g._("Report to group admins")},getConfirmReportDialogBody:function(){return g._("Are you sure that you want to report this poll option to the group admins?")},getConfirmReportDialogButtonText:function(){return g._("Report")},getReportSuccessfulDialogBody:function(){return g._("Your report has been submitted to the group admins.")}};e.exports=a}),null);
__d("GroupsPollAttachmentDeleteOption.react",["ix","cx","fbt","FDSButton.react","GroupsPollOptionStrings","Image.react","React","SimpleXUIDialog","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),d.$2,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})},d.$2=function(a){var b=d.props.optionID||"";a&&d.props.onDelete(b)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsx("div",{className:"_1mh_",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("363585")}),label:i._("Delete poll option"),labelIsHidden:!0,use:"flatWhite",onClick:this.$1})})};return c}(j.Component);e.exports=a}),null);
__d("GroupsPollOptionActionMenu.react",["cx","AsyncRequest","ContextualDialogArrow","FRXURI","GroupsPollOptionActions","GroupsPollOptionStrings","PopoverMenu.react","React","ReactXUIMenu","SimpleXUIDialog","XUIDotsButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={popoverMenuIsShown:!1},d.$4=function(){d.setState(function(a){return{popoverMenuIsShown:!a.popoverMenuIsShown}})},d.$6=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),d.$9,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})},d.$9=function(a){a&&d.props.onDelete(d.props.optionID)},d.$8=function(){var a=b("FRXURI").withEntReportable({reportable_ent_token:d.props.optionID,story_location:"group",entry_point:"groups_poll"});a=new(b("AsyncRequest"))().setURI(a);a.send()},d.$7=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmReportDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle(),d.$10,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmReportDialogButtonText()})},d.$10=function(a){a&&d.props.onReportToAdmin(d.props.optionID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("div",{className:this.$1(),children:h.jsx(b("PopoverMenu.react"),{alignh:"right",layerBehaviors:[b("ContextualDialogArrow")],menu:h.jsx(b("ReactXUIMenu"),{children:this.$2(this.$3())}),onShow:this.$4,onHide:this.$4,children:h.jsx(b("XUIDotsButton.react"),{})})})};d.$2=function(a){var c=this;return a.map(function(a){return h.jsx(i,{className:"_6sye",icon:c.$5(a[0]),value:a[0],onClick:a[1],children:b("GroupsPollOptionStrings").getLabel(a[0])},a[0])})};d.$5=function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return h.jsx("div",{className:"_6syc _6syd"});case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return h.jsx("div",{className:"_6syc _6sub"});case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return h.jsx("div",{className:"_6syc _6suc"});default:return null}};d.$1=function(){return this.state.popoverMenuIsShown?"_6kx9":"_69c3"};d.$3=function(){var a=[];this.props.showDelete&&a.push([b("GroupsPollOptionActions").REMOVE,this.$6]);this.props.showReportToAdmin&&a.push([b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS,this.$7]);a.push([b("GroupsPollOptionActions").REPORT_TO_FACEBOOK,this.$8]);return a};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImage.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerFailedPhotoUploadContainer.react","ReactComposerMediaUploadType","ReactComposerPhotoThumbnail.react","ReactComposerPhotoUploadState","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,k=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED,l=40;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.$1()};d.$1=function(){return this.props.upload.mediaType==b("ReactComposerMediaUploadType").VIDEO?null:this.$2()};d.$2=function(){var a=this.props.upload;if(a.state===k)return i.jsx(b("ReactComposerFailedPhotoUploadContainer.react"),{error:a.error,filename:a.filename,mediaConfig:this.props.mediaConfig,uploadID:a.id},a.id);else if(a.state===j)return i.jsx(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.props.onFileSelected,ref:this.props.setFileInput,title:h._("Choose a file to upload"),"data-testid":void 0,children:i.jsx(b("Link.react"),{className:"_348w",children:i.jsx(b("ReactComposerPhotoThumbnail.react"),{bgClassName:"_348x",bgURL:a.fileURL,height:l,width:l})})});return i.jsx("div",{className:"_348y",children:i.jsx(b("XUISpinner.react"),{size:"large"})})};return c}(i.PureComponent);e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImageContainer.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerMediaUtils","ReactComposerQuestionAttachmentOptionImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){if(d.props.onFileSelected){var c=d.props.onFileSelected;c(a,d.fileInput.getFileInput())}b("ReactComposerMediaUtils").clearInput(d.fileInput.getFileInput(),!0)},d.$4=function(a){d.fileInput=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.upload?this.$1():this.$2();return a};d.$2=function(){var a;return i.jsx("div",{className:"_61kz",children:i.jsx(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:(a=this.props.canUploadMultiplePhotos)!=null?a:!1,name:"composer_photo",onChange:this.$3,ref:this.$4,title:h._("Choose a file to upload"),"data-testid":void 0,children:this.$5()})})};d.$1=function(){var a,c=this.props.upload;return i.jsx("div",{className:"_61k_",children:i.jsx(b("ReactComposerQuestionAttachmentOptionImage.react"),{upload:this.props.upload,mediaConfig:this.props.mediaConfig,onFileSelected:this.$3,mediaAcceptParam:this.props.mediaAcceptParam,canUploadMultiplePhotos:(a=this.props.canUploadMultiplePhotos)!=null?a:!1,setFileInput:this.$4})},c.photoID)};d.$5=function(){return i.jsx(b("Link.react"),{"aria-label":h._("Photo upload link"),className:"_348w"})};return c}(i.PureComponent);e.exports=a}),null);
__d("PollAttachmentAddOption.react",["ix","cx","fbt","AbstractTextArea.react","Bootloader","Image.react","Link.react","React","ReactComposerPhotoUploadState","ReactComposerQuestionAttachmentOptionImageContainer.react","TextAreaControl","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=5,l=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,m={addImageOptionTextInput:"_4l_h",addImageOptionTextInputRightBorder:"_4l_h _gz4",addOption:"_31qf _31qg",addImageOption:"_31qf _31qg _gz5",addOptionLabel:"_31qi",centerPlus:"_65lo",charCount:"_31qk",addOptionInput:"_4sjs",addOptionImageInput:"_gzh"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={text:"",isFocused:!1,isUploading:!1,upload:null},d.$7=function(){d.setState({text:"",isFocused:!1,isUploading:!1,upload:null}),d.$2.release()},d.$8=function(a){a=a.getPayload();a&&a.fbid?d.setState({upload:babelHelpers["extends"]({state:l,fileURL:a.thumbnail_uri},a)}):d.refs.imageContainer.fileInput&&d.refs.imageContainer.fileInput.getFileInput().clear()},d.$9=function(){d.setState({isUploading:!0})},d.$10=function(){d.setState({isUploading:!1})},d.$11=function(){d.setState({isUploading:!1})},d.$4=function(a){if(d.state.isUploading)return;b("Bootloader").loadModules(["PollImageUploader"],function(a){d.$2&&d.$2.release(),d.$2=new a(d.refs.imageContainer.fileInput.getFileInput(),d.$8,d.$9,d.$10,d.$11)},"PollAttachmentAddOption.react")},d.$6=function(a){if(d.state.isUploading)return;d.props.onAdd(d.state.text,d.state.upload);d.setState({text:"",upload:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs.textArea.getTextFieldDOM();this.$1=new(b("TextAreaControl"))(a);this.$1.setAutogrow(!0);this.$1.onupdate()};d.componentDidUpdate=function(){this.$1.onupdate()};d.componentWillUnmount=function(){this.$1=null};d.render=function(){var a=this,c,d,e,f=m.addOption,h=m.addOptionInput;this.props.hasImageOption&&(f=m.addImageOption,h=this.state.upload?m.addImageOptionTextInput:m.addImageOptionTextInputRightBorder,e=this.$3(),c=j.jsx("div",{className:m.addOptionImageInput,onClick:this.$4,role:"presentation",children:j.jsx(b("ReactComposerQuestionAttachmentOptionImageContainer.react"),{canUploadMultiplePhotos:!1,mediaAcceptParam:"image/*",mediaConfig:{photoLimit:1},ref:"imageContainer",upload:this.state.upload})}),this.state.isUploading&&(d=j.jsx("div",{className:"_gzi",children:j.jsx("div",{className:"_g-d",children:j.jsx(b("XUISpinner.react"),{size:"large"})})})));return j.jsxs("div",{children:[j.jsxs("div",{className:m.charCount,children:[e,j.jsxs("div",{className:this.state.isFocused?"":"_14f8",children:[this.state.text.length,"/",this.props.maxOptionLength]})]}),j.jsxs("div",{className:f,children:[j.jsx("div",{className:m.addOptionLabel,children:j.jsx(b("Image.react"),{className:m.centerPlus,src:g("126622")})}),j.jsx("div",{className:h,children:j.jsx(b("AbstractTextArea.react"),{onChange:function(b){return a.$5(b)},onEnter:this.$6,maxLength:this.props.maxOptionLength,disabled:this.props.disabled,onFocus:function(){return a.setState({isFocused:!0})},onBlur:function(){return a.setState({isFocused:!1})},placeholder:i._("Add option"),value:this.state.text,ref:"textArea"})}),c,d]})]})};d.$3=function(){return j.jsx("div",{"data-testid":void 0,className:this.state.text||this.state.upload||this.state.isUploading?"":"_14f8",children:j.jsx(b("Link.react"),{onClick:this.$7,children:j.jsx(b("Image.react"),{src:g("125920")})})})};d.$5=function(a){if(a.target.value.length>this.props.maxOptionLength||a.target.value.split(/\r|\n|\r\n/).length>k)return;this.setState({text:a.target.value})};return c}(j.Component);e.exports=a}),null);
__d("PollAttachmentComponent.react",["cx","fbt","ClickableArea.react","Facepile.react","GroupsPollAttachmentDeleteOption.react","GroupsPollDeleteOptionMutation","GroupsPollOptionActionMenu.react","GroupsPollOptionStrings","Image.react","LeftRight.react","PollAddOptionMutation","PollAddVoteMutation","PollAttachmentAddOption.react","PollAttachmentUtils","PollRemoveVoteMutation","ProfileBrowserLink","ProfileBrowserTypes","React","RelayModern","ReportGroupsPollOptionMutation","ShimButton.react","SimpleXUIDialog","SpotlightPollOptionImageViewer","SpotlightViewerInit","TextWithEntities.react","getURLRanges","randomShuffle","PollAttachmentComponent_viewer.graphql","PollAttachmentComponent_question.graphql","PollAttachmentComponentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("PollAttachmentUtils").isEigenpoll,m=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var n=520,o=660,p=5,q={accessible:"accessible_elem",root:"_3cof",facepileCenter:"_3cog _man",optionContainer:"_61xb",row:"_mb4",optionRow:"_mb4 _1jwy",optionLabel:"_31qh",optionSelector:"_3cok",optionBar:"_3col",optionBarImage:"_eh7",optionBarNonMember:"_6khz",optionBarImageNonMember:"_6kh-",optionImage:"_eh8",optionVotes:"_3com",optionText:"_3con",optionAuthor:"_17ug",optionTextPadded:"_3con _eh9",optionTextImage:"_eha",optionTextSpanImage:"_ehb",optionExpanderLink:"_3coo",optionExpander:"_31qf _3cop",space:"_3coq"};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLocked:!1,disableShuffle:!d.props.shouldShuffle,numOptionsToShow:5},d.$4=function(a){d.setState({isLocked:!0}),d.setState(function(a){return{numOptionsToShow:a.numOptionsToShow-1}}),b("GroupsPollDeleteOptionMutation").commit(d.props.relay.environment,{optionID:a,questionID:d.props.question.id,viewer:d.props.viewer,callbacks:{onSuccess:function(){d.setState({isLocked:!1})},onFailure:function(a){d.setState({isLocked:!1}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}}})},d.$5=function(a){b("ReportGroupsPollOptionMutation").commit(d.props.relay.environment,{optionID:a,viewer:d.props.viewer,callbacks:{onSuccess:function(){b("SimpleXUIDialog").show(b("GroupsPollOptionStrings").getReportSuccessfulDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle())},onFailure:function(a){b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}}})},d.$3=function(a,c){if(a.replace(/\s+/g,"")===""){var e=h._("Add some text to your poll option so people know what it's about."),f=h._("Poll Option Needs Text");b("SimpleXUIDialog").show(e,f)}else d.setState({isLocked:!0,numOptionsToShow:d.props.question.options.count+1}),b("PollAddOptionMutation").commit(d.props.relay.environment,{question:d.props.question,optionText:a,viewer:d.props.viewer,numOptionsToShow:d.props.question.options.count+1,imageUpload:c,callbacks:{onSuccess:function(){d.setState({isLocked:!1})},onFailure:function(a){d.setState({isLocked:!1,numOptionsToShow:d.props.question.options.count}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary||a.name)}}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props.question;if(!c)return m.jsx("div",{});var d=this.state.isLocked,e=c.can_viewer_vote&&c.can_viewer_post,f=this.state.numOptionsToShow,g=c.options.edges.reduce(function(a,b){return Math.max(a,b.node.profile_voters.count)},1),i=[].concat(c.options.edges);this.props.shouldShuffle&&!this.state.disableShuffle&&(i=b("randomShuffle")(i));var j=i.some(function(a){return!!a.node.associated_image});i=i.slice(0,f).map(function(i){var k=i.node.profile_voters.edges;k=k.filter(function(b){return b.node.id!==a.props.viewer.actor.id});k=k.slice(0,10).map(function(a){return a.node});i.node.viewer_has_voted&&k.unshift(a.props.viewer.actor);var r=k.map(function(a){return{URL:a.url,name:a.name,uniqueID:parseInt(a.id,10),profilePicURI:a.profile_picture.uri}});k=b("ProfileBrowserLink").constructPageURI(b("ProfileBrowserTypes").OPTION_VOTERS,{option_id:i.node.id}).toString();var s=b("ProfileBrowserLink").constructDialogURI(b("ProfileBrowserTypes").OPTION_VOTERS,{option_id:i.node.id}).toString(),t=function(g){if(!(e&&!d))return;a.setState({isLocked:!0});g=i.node.viewer_has_voted?b("PollRemoveVoteMutation"):b("PollAddVoteMutation");g.commit(a.props.relay.environment,{question:c,option:i.node,viewer:a.props.viewer,numOptionsToShow:f,callbacks:{onSuccess:function(){a.setState({isLocked:!1})},onFailure:function(c){a.setState({isLocked:!1}),b("SimpleXUIDialog").show(c&&c.source&&c.source.description,c&&c.source&&c.source.summary)}}})},u=function(a){b("SpotlightViewerInit").render(m.jsx(b("SpotlightPollOptionImageViewer"),{setid:"poll-option-message",optionText:i.node.text_with_entities.text,photoid:i.node.associated_image.id,thumbsrc:i.node.associated_image.image.uri,profiles:r,voterCount:i.node.profile_voters.count,clearcache:!0,dimensions:[[i.node.associated_image.image.width,i.node.associated_image.image.height].join(",")],minHeight:n,minWidth:o}))},v=e?q.optionBar:q.optionBarNonMember,w=q.optionText,x=q.optionAuthor,y=null,z,A;j&&(w=q.optionTextPadded,i.node.associated_image&&(v=e?q.optionBarImage:q.optionBarImageNonMember,w=q.optionTextImage,y=q.optionTextSpanImage,z=m.jsx("div",{className:"_ehe",children:m.jsx("div",{className:"_eh8",children:m.jsx(b("ShimButton.react"),{onClick:u,children:m.jsx(b("Image.react"),{"aria-label":"View image",height:40,width:40,src:i.node.associated_image.image.uri})})})})));r.length&&(A=m.jsx("div",{className:q.accessible,children:h._("Voters for this option")}));u=i.node.can_viewer_delete_groups_poll_option;u=a.$1(u,i.node.can_viewer_report,i.node.can_viewer_report_to_group_admin,i.node.id);var B=null;u!==null&&a.props.isShared?B=p-2:u!==null||a.props.isShared?B=p-1:B=p;var C=i.node.groups_poll_option_author_description;return m.jsx("div",{className:q.optionContainer,children:m.jsxs("div",{className:e?q.optionRow:q.row,children:[m.jsxs("div",{className:"_mb5",children:[e?m.jsx("div",{className:q.optionLabel,children:m.jsx("input",{"aria-label":i.node.text_with_entities.text,type:l(c.response_method)?"checkbox":"radio",disabled:!(e&&!d),className:q.optionSelector,checked:i.node.viewer_has_voted,onChange:t})}):null,m.jsxs("div",{className:v,children:[m.jsx("div",{className:q.optionVotes,style:{width:100*i.node.profile_voters.count/g+"%"}}),m.jsx(b("ClickableArea.react"),{onClick:t,children:m.jsxs("div",{className:w,children:[m.jsx(b("TextWithEntities.react"),{className:y,ranges:b("getURLRanges")(i.node.text_with_entities.text),renderEmoticons:!1,renderEmoji:!0,text:i.node.text_with_entities.text}),C!=null&&C.text.length>0?m.jsx("div",{className:x,children:m.jsx(b("TextWithEntities.react"),{className:y,ranges:C.ranges,text:C.text})}):null]})}),z]})]}),A,m.jsx("div",{className:"_mb6",children:m.jsx("div",{className:q.facepileCenter,children:m.jsxs(b("LeftRight.react"),{direction:"right",children:[m.jsx(b("Facepile.react"),{moreColor:"gray",moreCount:i.node.profile_voters.count-Math.min(B,r.length),moreDialogLink:s,morePageLink:k,numFaces:B,profiles:r,showHovercard:!0,size:28}),u]})})})]})},i.node.id)});var k=null,r=null;if(c.options.count>f){var s=c.options.count-f,t=h._({"*":"{options} more options..."},[h._param("options",s,[0])]),u=h._("1 more option...");k=m.jsxs("div",{className:q.optionContainer,children:[m.jsx("div",{className:q.space}),m.jsx(b("ShimButton.react"),{className:q.optionExpanderLink,form:"link",onClick:function(){return a.$2()},children:m.jsx("div",{className:q.optionExpander,children:s>1?t:u})})]})}else c.can_viewer_add_poll_options&&e&&(r=m.jsx("div",{className:q.optionContainer,children:m.jsx(b("PollAttachmentAddOption.react"),{onAdd:this.$3,maxOptionLength:this.props.maxOptionLength,disabled:this.state.isLocked,hasImageOption:j})}));return m.jsxs("div",{className:q.root,children:[i,k,r]})};d.$1=function(a,c,d,e){return c?m.jsx("div",{className:"_6nh8",children:m.jsx(b("GroupsPollOptionActionMenu.react"),{onDelete:this.$4,onReportToAdmin:this.$5,optionID:e,showDelete:a,showReportToAdmin:d})}):a?m.jsx(b("GroupsPollAttachmentDeleteOption.react"),{onDelete:this.$4,optionID:e}):null};d.$2=function(){this.setState({disableShuffle:!0,numOptionsToShow:this.props.question.options.count}),this.props.relay.refetch({actorID:this.props.actorID,first:this.props.question.options.count,questionID:this.props.question.id})};return c}(m.Component);e.exports=a(c,{viewer:i!==void 0?i:i=b("PollAttachmentComponent_viewer.graphql"),question:j!==void 0?j:j=b("PollAttachmentComponent_question.graphql")},k!==void 0?k:k=b("PollAttachmentComponentRefetchQuery.graphql"))}),null);
__d("PollAttachmentLoadShimmer.react",["cx","FlexLayout.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var b=[];for(var c=0;c<a;c++)b.push(h.jsx("div",{className:"_1tt _7ut-"},c));return b}function j(){return h.jsxs("div",{className:"_mb4",children:[h.jsxs(b("FlexLayout.react"),{children:[h.jsx("div",{className:"_1tt _7ut_"}),h.jsx("div",{className:"_1tt _7utn"})]}),h.jsx("div",{className:"_mb6",children:h.jsx(b("FlexLayout.react"),{className:"_7uu0",children:i(5)})})]})}function a(){return h.jsxs("div",{className:"_61xb",children:[h.jsx(j,{}),h.jsx(j,{})]})}e.exports=a}),null);
__d("PollAttachment.react",["PollAttachmentComponent.react","PollAttachmentLoadShimmer.react","React","RelayFBEnvironment","RelayModern","gkx","PollAttachmentQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.shouldShuffle?200:5;return h.jsx(i,{environment:b("RelayFBEnvironment"),variables:{actorID:this.props.actorID,first:c,questionID:this.props.questionID},query:g!==void 0?g:g=b("PollAttachmentQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(d)return h.jsx("div",{children:d.message});else if(c)return h.jsx(b("PollAttachmentComponent.react"),babelHelpers["extends"]({},a.props,c));return b("gkx")("888366")?h.jsx(b("PollAttachmentLoadShimmer.react"),{}):h.jsx("div",{children:"Loading"})}})};return c}(h.Component);e.exports=a}),null);